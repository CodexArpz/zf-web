{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5791",
    "key": "ZF-5791",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Create an abstract class for use with the Amazon Web Servies."
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5791\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-04-07T17:59:02.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                "name": "sidhighwind",
                "displayName": "Jon Whitcraft",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-02-15T08:12:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-12-13T08:55:36.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "abstract",
                "amazon",
                "aws"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Create an abstract class to set a standard way for to handle the access and secret keys with all the AWS components.\n\n{code:title=AbstractClass}\n<?php\n\nrequire_once 'Zend\/Service\/Abstract.php';\n\nabstract class Zend_Service_Amazon_Abstract extends Zend_Service_Abstract\n{\n    \/**\n     * @var string Amazon Access Key\n     *\/\n    protected static $defaultAccessKey = null;\n\n    \/**\n     * @var string Amazon Secret Key\n     *\/\n    protected static $defaultSecretKey = null;\n\n    \/**\n     * @var string Amazon Secret Key\n     *\/\n    protected $secretKey;\n\n    \/**\n     * @var string Amazon Access Key\n     *\/\n    protected $accessKey;\n\n    \/**\n     * Set the keys to use when accessing SQS.\n     *\n     * @param  string $access_key\n     * @param  string $secret_key\n     * @return void\n     *\/\n    public static function setKeys($accessKey, $secretKey)\n    {\n        self::$defaultAccessKey = $accessKey;\n        self::$defaultSecretKey = $secretKey;\n    }\n\n    \/**\n     * Create Amazon Sqs client.\n     *\n     * @param  string $access_key\n     * @param  string $secret_key\n     * @return void\n     *\/\n    public function __construct($accessKey=null, $secretKey=null)\n    {\n        if(!$accessKey) {\n            $accessKey = self::$defaultAccessKey;\n        }\n        if(!$secretKey) {\n            $secretKey = self::$defaultSecretKey;\n        }\n        if(!$accessKey || !$secretKey) {\n            require_once 'Zend\/Service\/Amazon\/Exception.php';\n            throw new Zend_Service_Amazon_Exception(\"AWS keys were not supplied\");\n        }\n        $this->accessKey = $accessKey;\n        $this->secretKey = $secretKey;\n    }\n\n    \/**\n     * Method to fetch the Access Key\n     *\n     * @return string\n     *\/\n    protected function getAccessKey()\n    {\n        return $this->accessKey;\n    }\n\n    \/**\n     * Method to fetch the Secret AWS Key\n     *\n     * @return string\n     *\/\n    protected function getSecretKey()\n    {\n        return $this->secretKey;\n    }\n}\n{code}\n\n{code:title=TestCase}\n<?php\n\nrequire_once 'Zend\/Service\/Amazon\/Abstract.php';\n\nrequire_once 'PHPUnit\/Framework\/TestCase.php';\n\n\/**\n * Zend_Service_Amazon_Sqs_Queue test case.\n *\/\nclass AmamzonAbstract extends PHPUnit_Framework_TestCase\n{\n    \/**\n     * Prepares the environment before running a test.\n     *\/\n    protected function setUp()\n    {\n        parent::setUp();\n    }\n\n    \/**\n     * Cleans up the environment after running a test.\n     *\/\n    protected function tearDown()\n    {\n        parent::tearDown();\n    }\n\n    public function testNoKeysThrowException()\n    {\n        try {\n            $class = new TestAmamzonAbstract();\n            $this->fail('Exception should be thrown when no keys are passed in.');\n        } catch(Zend_Service_Amazon_Exception $zsae) {}\n    }\n\n    public function testConstructorWithKeysDoesNotThrowException()\n    {\n        try {\n            $class = new TestAmamzonAbstract('TestAccessKey', 'TestSecretKey');\n        } catch(Zend_Service_Amazon_Exception $zsae) {\n            $this->fail('Exception should be thrown when no keys are passed in.');\n        }\n    }\n\n    public function testSetStaticKeys()\n    {\n        TestAmamzonAbstract::setKeys('TestAccessKey', 'TestSecretKey');\n        $class = new TestAmamzonAbstract();\n\n        $this->assertEquals('TestAccessKey', $class->returnAccessKey());\n        $this->assertEquals('TestSecretKey', $class->returnSecretKey());\n    }\n\n    public function testPassKeysIntoConstructor()\n    {\n        $class = new TestAmamzonAbstract('TestAccessKey', 'TestSecretKey');\n\n        $this->assertEquals('TestAccessKey', $class->returnAccessKey());\n        $this->assertEquals('TestSecretKey', $class->returnSecretKey());\n    }\n\n    public function testPassedInKeysOverrideStaticSetKeys()\n    {\n        TestAmamzonAbstract::setKeys('TestStaticAccessKey', 'TestStaticSecretKey');\n        $class = new TestAmamzonAbstract('TestAccessKey', 'TestSecretKey');\n\n        $this->assertEquals('TestAccessKey', $class->returnAccessKey());\n        $this->assertEquals('TestSecretKey', $class->returnSecretKey());\n    }\n}\n\nclass TestAmamzonAbstract extends Zend_Service_Amazon_Abstract\n{\n    public function returnAccessKey()\n    {\n        return $this->accessKey;\n    }\n\n    public function returnSecretKey()\n    {\n        return $this->secretKey;\n    }\n}\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5791\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                "name": "sidhighwind",
                "displayName": "Jon Whitcraft",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-8536",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8536",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11757",
                    "filename": "AmazonAbstractClass.zip",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-15T09:23:22.000+0000",
                    "size": 2590,
                    "mimeType": "application\/zip",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11757\/AmazonAbstractClass.zip"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10022",
                    "id": 10022,
                    "name": "Zend_Service_Amazon",
                    "description": "utility functions for using Amazon web services",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28837",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Abstract Class for use with Amazon Aws Services.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-15T08:13:46.000+0000",
                    "updated": "2009-02-15T08:13:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28838",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Test case for the attached class.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-15T08:14:35.000+0000",
                    "updated": "2009-02-15T08:14:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28841",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Removed the files and made the code inline.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-15T09:21:23.000+0000",
                    "updated": "2009-02-15T09:21:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28842",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Zip file for easy download.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-15T09:23:22.000+0000",
                    "updated": "2009-02-15T09:23:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29032",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "The use of statics for the access and secret key imply that you cannot use more than one amazon account per request, is that by design?\n\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-02-23T14:04:46.000+0000",
                    "updated": "2009-02-23T14:04:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29037",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Ralph - Yes that is correct.  This can easily be changed..\n\nJon",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-23T16:51:27.000+0000",
                    "updated": "2009-02-23T16:51:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29414",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Ralph\n\nIf you look at the _construct method you will notice that if you don't specify a key or secret key it will use the static keys.  The static properties are a way to have default keys set so you don't need to provide the keys everytime you create a new instance but you can if you need to specify new keys.\n\nJon",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-03-11T13:30:21.000+0000",
                    "updated": "2009-03-11T17:52:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30025",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "This got checked in with the Ec2 Component.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-04-07T17:59:00.000+0000",
                    "updated": "2009-04-07T17:59:00.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5791\/transitions"
}