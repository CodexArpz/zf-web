{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1641",
    "key": "ZF-1641",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "PCRE UTF-8 Support Unavailable on Some Platforms"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1641\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10031",
                    "id": 10031,
                    "description": "Major Release",
                    "name": "1.0.0",
                    "userReleaseDate": "30\/Jun\/07",
                    "archived": true,
                    "releaseDate": "2007-06-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-06-28T09:30:34.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                "name": "darby",
                "displayName": "Darby Felton",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-06-27T12:06:47.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:44:25.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Filter and validation classes such as Zend_Filter_Alpha are known to make use of the {{\/u}} PCRE pattern modifier, but UTF-8 support is not compiled by default into various PHP distributions."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1641\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                "name": "andries",
                "displayName": "Andries Seutens",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10100",
                    "id": 10100,
                    "description": "Release Candidate 3",
                    "name": "1.0.0 RC3",
                    "userReleaseDate": "23\/Jun\/07",
                    "archived": true,
                    "releaseDate": "2007-06-23",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10013",
                    "id": 10013,
                    "name": "Zend_Filter",
                    "description": "methods for filtering data",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15510",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Original comment by [~cgraefe]:\n\nI can see why this change was made, but for me it is causing problems on certain platforms. On some, the extendes PCRE syntax \"\\p{}\" doesn't seem to match anything. I could quite figure out what exactly is causing this problem. Up to now, I tried the following platforms:\n\nNot working:\nFedora Core 5, PHP 5.1.6, PCRE 6.3\nFedora Core 6, PHP 5.1.6, PCRE 6.6\n\nWorking:\nFedora 7, PHP 5.2.2, PCRE 7.0\nSolaris 10 x86, PHP 5.1.5, PCRE 6.6\nDebian Etch, PHP 4.4.4, PCRE 6.7\n\nMaybe, you could amend the docs to state the exact prerequisites to get Zend_Filter_Alnum et al. to work. That would surely help me a lot.\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-06-27T12:41:34.000+0000",
                    "updated": "2007-06-27T12:41:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15511",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "[Original fw-general mailing list thread|http:\/\/www.nabble.com\/Zend_Validate_Alnum-and-Zend_Validate_Alpha-failing%28ZF1.0RC3%29-tf3989279s16154.html]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-06-27T12:45:27.000+0000",
                    "updated": "2007-06-27T12:45:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15514",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joshualross",
                        "name": "joshualross",
                        "displayName": "Joshua L Ross",
                        "active": true
                    },
                    "body": "I am also have this issue on \n\nRHEL5, PHP 5.1.6, PCRE 6.6\n\nI check redhat default build spec for PCRE 6.6 and --enable-utf8 is specified.  At this point I am not 100% sure it is UTF-8 related but I do know since ZF1.0RC3 the filters Zend_Filter_Alnum and Zend_Filter_Alpha are not matching strings that should be valid.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joshualross",
                        "name": "joshualross",
                        "displayName": "Joshua L Ross",
                        "active": true
                    },
                    "created": "2007-06-27T13:16:36.000+0000",
                    "updated": "2007-06-27T13:16:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15515",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joshualross",
                        "name": "joshualross",
                        "displayName": "Joshua L Ross",
                        "active": true
                    },
                    "body": "These patterns continually fail regardless of the value input:\n\n$pattern = '\/[^\\p{L}\\p{N}' . ($this->allowWhiteSpace ? '\\s' : '') . ']\/u';\n$pattern = '\/[^\\p{L}\\p{N}' . ($this->allowWhiteSpace ? '\\s' : '') . ']\/';\n\nSo I modified the pattern to use the old alnum which works both with and without utf-8 specified.  So these patterns are working:\n\n$pattern = '\/[^[:alnum:]' . ($this->allowWhiteSpace ? '\\s' : '') . ']\/u';\n$pattern = '\/[^[:alnum:]' . ($this->allowWhiteSpace ? '\\s' : '') . ']\/';\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joshualross",
                        "name": "joshualross",
                        "displayName": "Joshua L Ross",
                        "active": true
                    },
                    "created": "2007-06-27T13:24:56.000+0000",
                    "updated": "2007-06-27T13:24:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15517",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "The Unicode property patterns (the ones beginning with {{\\p}}) will not work if UTF-8 support is unavailable in PCRE.\n\nFrom the [PCRE man pages|http:\/\/www.pcre.org\/pcre.txt]:\n\n{code}\nUTF-8 SUPPORT\n\n       To build PCRE with support for UTF-8 character strings, add\n\n         --enable-utf8\n\n       to  the  configure  command.  Of  itself, this does not make PCRE treat\n       strings as UTF-8. As well as compiling PCRE with this option, you  also\n       have  have to set the PCRE_UTF8 option when you call the pcre_compile()\n       function.\n\nUTF-8 AND UNICODE PROPERTY SUPPORT\n\n       From  release  3.3,  PCRE  has  had  some support for character strings\n       encoded in the UTF-8 format. For release 4.0 this was greatly  extended\n       to  cover  most common requirements, and in release 5.0 additional sup-\n       port for Unicode general category properties was added.\n\n       In order process UTF-8 strings, you must build PCRE  to  include  UTF-8\n       support  in  the  code,  and, in addition, you must call pcre_compile()\n       with the PCRE_UTF8 option flag. When you do this, both the pattern  and\n       any  subject  strings  that are matched against it are treated as UTF-8\n       strings instead of just strings of bytes.\n\n       If you compile PCRE with UTF-8 support, but do not use it at run  time,\n       the  library will be a bit bigger, but the additional run time overhead\n       is limited to testing the PCRE_UTF8 flag occasionally, so should not be\n       very big.\n\n       If PCRE is built with Unicode character property support (which implies\n       UTF-8 support), the escape sequences \\p{..}, \\P{..}, and  \\X  are  sup-\n       ported.  The available properties that can be tested are limited to the\n       general category properties such as Lu for an upper case letter  or  Nd\n       for  a  decimal number, the Unicode script names such as Arabic or Han,\n       and the derived properties Any and L&. A full  list  is  given  in  the\n       pcrepattern documentation. Only the short names for properties are sup-\n       ported. For example, \\p{L} matches a letter. Its Perl synonym,  \\p{Let-\n       ter},  is  not  supported.   Furthermore,  in Perl, many properties may\n       optionally be prefixed by \"Is\", for compatibility with Perl  5.6.  PCRE\n       does not support this.\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-06-27T13:39:17.000+0000",
                    "updated": "2007-06-27T13:39:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15531",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gnanders",
                        "name": "gnanders",
                        "displayName": "Graham Anderson",
                        "active": true
                    },
                    "body": "From testing on my platforms ( openSUSE\/SUSE-OSS 10.0, 10.1, 10.2 ), I have \nthe following results:\n\nUp to ( but not including ) apache2-mod_php5-5.2.0-10.rpm testing against the \nPCRE expression in current Zend_Filter_Alnum passes.\n\nFrom mod_php5 version that ships with openSUSE 10.2 ( 5.2.0-10 ) to the \ncurrent available in the openSUSE build service, ( 5.2.3-29.1 ), testing \nagainst the pattern fails.\n\nOn openSUSE mod_php5-5.2.0-10 and greater is built against the system PCRE \nlibrary and not the PHP bundled one, on opensuse 10.2 this is pcre-6.7-21. \nWhile  patterns with UTF-8 options match against this system library outside \nof PHP; they do not, for whatever reason match when used inside of PHP.\n\nWorkaround, on openSUSE 10.2 an upgrade of the system PCRE to the latest \navailable from the openSUSE build service ( pcre-7.1-16 ) will allow pattern \nmatching inside of PHP to function as expected.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gnanders",
                        "name": "gnanders",
                        "displayName": "Graham Anderson",
                        "active": true
                    },
                    "created": "2007-06-27T17:22:31.000+0000",
                    "updated": "2007-06-27T17:22:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15540",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "body": "Issue resolved in [r5468|http:\/\/framework.zend.com\/fisheye\/changelog\/Zend_Framework\/?cs=5468]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "created": "2007-06-28T07:29:12.000+0000",
                    "updated": "2007-06-28T07:29:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15541",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Zend_Filter_Alpha and Zend_Filter_Digits also use Unicode property matching.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-06-28T08:30:24.000+0000",
                    "updated": "2007-06-28T08:30:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15542",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "body": "Sorry, I forgat about those ..... It should be fixed now. Graham Anderson or anyone else running a none UTF-8 enabled system, could you please run the unit tests for: Zend_Filter_AllTests? \n\nI'll await your response before i close the issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "created": "2007-06-28T08:51:43.000+0000",
                    "updated": "2007-06-28T08:51:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15544",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "body": "Thanks to Julian Davchev for testing this:\n\n---\nHere stuff on local machine:\n\nsvn update\nU    tests\/Zend\/Filter\/AlphaTest.php\nU    library\/Zend\/Filter\/Alnum.php\nU    library\/Zend\/Filter\/Digits.php\nU    library\/Zend\/Filter\/Alpha.php\nUpdated to revision 5469.\nAt revision 5469.\n\njmut@dexter:\/storage\/www\/frameworks\/zendframework$ php\ntests\/Zend\/Filter\/AllTests.php\nPHPUnit 3.0.0 by Sebastian Bergmann.\n\n.........................................\n.........................................\n...........................\n\nTime: 00:00\n\n\nOK (109 tests)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "created": "2007-06-28T09:30:34.000+0000",
                    "updated": "2007-06-28T09:30:34.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1641\/transitions"
}