{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8721",
    "key": "ZF-8721",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Service_ReCaptcha_Response breaks reCaptcha API doc recommendation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8721\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/11182",
                    "id": 11182,
                    "description": "Mini Release",
                    "name": "1.12.1",
                    "userReleaseDate": "18\/Dec\/12",
                    "archived": false,
                    "releaseDate": "2012-12-18",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-28T12:00:09.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zend@aquaprod.fr",
                "name": "zend@aquaprod.fr",
                "displayName": "Corentin Larose",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-01-06T03:15:05.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-28T12:00:09.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Quote from the reCaptcha API documentation:\r\n\"The response from verify is a series of strings separated by \\n. To read the string, split the line and read each field. New lines may be added in the future. Implementations should ignore these lines\"\r\n\r\nZend_Service_ReCaptcha_Response::setFromHttpResponse() breaks this recommendation by strictly testing the line number of the response:\r\n\r\nif (count($parts) !== 2) {\r\n    $status = 'false';\r\n    $errorCode = '';\r\n} else {\r\n    list($status, $errorCode) = $parts;\r\n}\r\n\r\ninstead of testing it with an inequality, thus, test should be:\r\n\r\nif (count($parts) < 2) { \/\/ modified line\r\n    $status = 'false';\r\n    $errorCode = '';\r\n} else {\r\n    list($status, $errorCode) = $parts;\r\n}\r\n\r\nRegards,\r\n\r\nCorentin Larose"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8721\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                "name": "cogo",
                "displayName": "Christer Edvartsen",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10390",
                    "id": 10390,
                    "description": "Mini Release",
                    "name": "1.9.6",
                    "userReleaseDate": "24\/Nov\/09",
                    "archived": false,
                    "releaseDate": "2009-11-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10313",
                    "id": 10313,
                    "name": "Zend_Service_ReCaptcha",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37427",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zend@aquaprod.fr",
                        "name": "zend@aquaprod.fr",
                        "displayName": "Corentin Larose",
                        "active": true
                    },
                    "body": "I finally thing that this issue should be a minor bug.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zend@aquaprod.fr",
                        "name": "zend@aquaprod.fr",
                        "displayName": "Corentin Larose",
                        "active": true
                    },
                    "created": "2010-01-06T03:16:41.000+0000",
                    "updated": "2010-01-06T03:16:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49280",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jonnott",
                        "name": "jonnott",
                        "displayName": "Jon Nott",
                        "active": true
                    },
                    "body": "Additionally, exceptions are thrown if either the challenge or response fields are empty, in the following method:\r\n\r\nprotected function _post($challengeField, $responseField)\r\n\r\n..but this means an exception occurs in you present a captcha to the user but they enter nothing. Surely the way ReCaptcha is intended to work would include an empty (response) field as simply another permutation of an *incorrect response*.\r\n\r\ne.g. if a user doesn't enter a response at all, they'd expect to see the normal 'Incorrect. Try again.' message when the ReCaptcha is re-displayed. With these exceptions being thrown, the only way to recreate the intended behaviour (using Zend_Service_ReCaptcha in a stand-alone sense here) would be to catch these exceptions, and then in the catch block simulate the outcome by manually setting the appropriate error code.\r\n\r\nI suggest these exceptions for 'missing' challenge\/response fields are not needed, and contradict the expected behaviour of ReCaptcha..",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jonnott",
                        "name": "jonnott",
                        "displayName": "Jon Nott",
                        "active": true
                    },
                    "created": "2011-12-14T10:19:01.000+0000",
                    "updated": "2011-12-14T10:19:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52933",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "[~jonnott]: I agree. I don't think the exceptions should be thrown when the challenge and\/or response is missing. I can fix this but need to make sure the core guys think it's OK.\r\n\r\nI will anyways fix the issue above.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T10:58:25.000+0000",
                    "updated": "2012-11-28T10:58:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52934",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "[~jonnott] Could you create a separate issue on this tracker with what you mentioned, and assign it to me? This current issue will be closed soon.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T11:07:10.000+0000",
                    "updated": "2012-11-28T11:07:10.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52935",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "Fixed in http:\/\/framework.zend.com\/code\/revision.php?repname=Zend+Framework&path=%2F&rev=25148&peg=25148",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T11:20:46.000+0000",
                    "updated": "2012-11-28T11:20:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52938",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "Fixed in http:\/\/framework.zend.com\/code\/revision.php?repname=Zend+Framework&path=%2F&rev=25152&peg=25152",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T12:00:09.000+0000",
                    "updated": "2012-11-28T12:00:09.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8721\/transitions"
}