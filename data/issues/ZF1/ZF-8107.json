{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8107",
    "key": "ZF-8107",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Http_Clinet getAdapter() is not needed."
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/3",
                "name": "Task",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8107\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-10-23T07:08:37.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                "name": "sasezaki",
                "displayName": "Kazusuke Sasezaki",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-10-20T04:57:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-10-23T07:08:41.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I mentioned #ZF-8027\r\nhttp:\/\/framework.zend.com\/issues\/browse\/ZF-8027\r\n\r\ntrunk(r18637)'s \"getAdapter()\" is not needed , and remove, please.\r\n(Over API may cause bug..)"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8107\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                "name": "freak",
                "displayName": "Dolf Schimmel (Freeaqingme)",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-8027",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8027",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10015",
                    "id": 10015,
                    "name": "Zend_Http_Client",
                    "description": "performs HTTP requests",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35426",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "body": "Hi, Kazusuke Sasezaki.\r\n\r\nI think getAdapter would bring us some benefit.\r\nDo you have any reason why the function should be removed?\r\n\r\nI will be happy if you would tell us anything until next minor release.\r\n\r\nBecause once the function would be released, we must wait next major release for removing funtions.   ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "created": "2009-10-20T18:34:37.000+0000",
                    "updated": "2009-10-20T18:34:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35431",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "body": "Hi, Satoru!\r\n\r\nI have 3 reasons at least.\r\n\r\n1. I think Zend_Http_Client_Adapter_* is \"internal class\"(like as Java's).\r\nIs not connect() under \"encapsulation\" ?\r\n\r\n{code:xml}\r\n$client = new Zend_Http_Client($url);\r\n$client->getAdapter()->read(); \/\/Fatal Error!!\r\n{code}\r\n2. Possibile case.\r\n\r\n{code}\r\n\/\/-- common or bootstrap file\r\n$client = new Zend_Http_Client();\r\n$client->setAdapter('Zend_Http_Client_Adapter_Socket');\r\n$client->setConfig($config = array('timeout' => 10)); \/\/ (Offen,via Zend_Config)\r\n\r\n\r\n\/\/ -- base file\r\n\/\/ There is a possibility that someone types code like this. (for special site...\r\n$client->getAdapter()->setConfig(array('timeout' => 1));\r\n\r\n\/\/ -- execute file\r\ntry { \r\n    $client->request($url);\r\n} catch (Exception $e) {\r\n    \/\/ logger...\r\n    log(\"Error!Error!\", $url, $date, $useragnet, $config, $e->getMessage());\r\n    \/\/ If logging is limited without enough length, the exception's message will \r\n    \/\/ not be recorded...\r\n}   \r\n\r\n\/\/When the error happens,\r\n\/\/A lot of people will see Config File...(and will grep \"client->setConfig\")\r\n{code}\r\n\r\n3. There is no reason more than debugging for getAdapter().\r\nI don't know benefit except debugging.\r\nFor example, \"getConfig()\" , \"setUserAgent\" and other method will also have great benefits to. \r\nBut current Zend_Http_Client has not these method.\r\n\r\nAnd Unfortunatoly, getter's doc-comment is same as mutator.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "created": "2009-10-21T07:37:00.000+0000",
                    "updated": "2009-10-21T07:37:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35456",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "body": "As I mentioned in ZF-8027 getAdapter() is useful when debugging.  In my case something was setting the adapter to something unexpected, but without a getAdapter() there was no way to even determine the class\/type of the adapter.\r\n\r\ngetAdapter() is also probably useful when using some of the test adapters.  For example if you need to dynamically modify the next \"response\" that the adapter will give.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "created": "2009-10-22T02:25:55.000+0000",
                    "updated": "2009-10-22T02:25:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35460",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "body": "Hi, Michael.\r\nWhen debugging.\r\nIs not there a way to use other extended-class?\r\n\r\n{code}\r\n\/\/For example,\r\nclass Debug_Http_Client extends Zend_Http_Client\r\n{\r\n    public function getAdapter()\r\n    {\r\n        return $this->adapter;\r\n    }   \r\n}   \r\n\r\n\/\/$client = new Zend_Http_Client($url);\r\n$client = new Debug_Http_Client($url);\r\n$client->setAdapter(new Zend_Http_Client_Adapter_Test);\r\n$client->getAdapter()->setResponse('test');\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "created": "2009-10-22T07:20:33.000+0000",
                    "updated": "2009-10-22T07:20:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35462",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "body": "Anyway, current getAdapter() is not correct implemented code against its doc-comment.\r\n{code}\r\n    \/\/suggestion code\r\n    public function getAdapter()\r\n    {   \r\n        if (!$this->adapter instanceof Zend_Http_Client_Adapter_Interface)\r\n        {   \r\n            $this->setAdapter($this->config['adapter']);\r\n        }\r\n        \r\n        return $this->adapter;\r\n    }\r\n\r\n\/\/and, Modifying in 'request()' would be needed.\r\n{code}\r\n\r\n\r\nAnd, this changeset was Committed without testcode.\r\nhttp:\/\/framework.zend.com\/code\/changelog\/Standard_Library\/?cs=18637",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "created": "2009-10-22T07:31:53.000+0000",
                    "updated": "2009-10-22T07:31:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35472",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "body": "I'm not completely sure, but I don't think the getAdapter() should be in the business of creating an adapter if it doesn't already exist.  (One reason: if this is the case, then there's no way to tell whether the adapter is already set.)  I don't think it's necessary to check the type of the adapter since setAdapter() already does this.  (i.e. the return type of getAdapter() will never be a lie, because there's no way to set the adapter to anything other than something that implements Zend_Http_Client_Adapter_Interface.)\r\n\r\nHowever, I do think there is a problem arising from the patch in that if getAdapter() exists, all direct reads of $this->adapter (for example, in Zend_Http_Client's request() method) should be converted into reads of getAdapter() instead.\r\n\r\nRegarding reason (1) above, I think the problem that calling methods on the adapter directly can lead to nonsensical results is more a consequence of the somewhat strange way the client uses the adapter rather than a problem that arises because getAdapter() exists.\r\n\r\nI don't really understand (2).\r\n\r\nRegarding (3), I think there probably should be a getConfig() method as well.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "created": "2009-10-23T02:59:42.000+0000",
                    "updated": "2009-10-23T02:59:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35474",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "body": "Oh, and regarding why I can't extend Zend_Http_Client myself, and add a getAdapter() method to that: in my case the client is being built by a call to a factory object that I don't have any control over.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjs",
                        "name": "mjs",
                        "displayName": "Michael Stillwell",
                        "active": true
                    },
                    "created": "2009-10-23T03:12:11.000+0000",
                    "updated": "2009-10-23T03:12:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35478",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "body": "Michael Stillwell, thank you very much for your comment.\r\n\r\nBy the enough reason in above comment, I satisfied myself.\r\nSo, I want to close this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sasezaki",
                        "name": "sasezaki",
                        "displayName": "Kazusuke Sasezaki",
                        "active": true
                    },
                    "created": "2009-10-23T06:19:33.000+0000",
                    "updated": "2009-10-23T06:19:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35479",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Closing per request.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-10-23T07:08:38.000+0000",
                    "updated": "2009-10-23T07:08:38.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8107\/transitions"
}