{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6199",
    "key": "ZF-6199",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Incorrect disambiguation of format in Zend_Date"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6199\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-04-03T14:38:16.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danker",
                "name": "danker",
                "displayName": "Duncan Anker",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-04-02T16:09:04.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-04-03T14:38:16.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "date",
                "disambiguation",
                "format",
                "incorrect",
                "zend_date"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "There appears to be a problem with date disambiguation on formats which should not be ambiguous. Dates in the form YYYY-MM-DD should, I believe, never be misinterpreted as YYYY-DD-MM. (This is only a problem in DD\/MM\/YYYY vs MM\/DD\/YYYY). Amazon returns their dates in this format, as does eBay - and likely many other web services.\n\nExample, using a date as might be returned from eBay in ISO 8601 format:\n\n$date = new Zend_Date('2009-04-03T0:00:00.000Z');\necho $date;\n\nExpected (anywhere in the world):\nApr 3, 2009 12:00:00 AM\n\nActual:\nMar 4, 2009 12:00:00 AM\n\nI can work around this by calling it as\n\nnew Zend_Date('2009-04-03T0:00:00.000Z', 'en_AU')\n\nHowever, I shouldn't have to, and this is still going to cause problems for people in locales which use the US format.\n\n\nSlightly related to this issue is the fact that the Z on the end of the date is a timezone indicator for GMT. Perhaps this should override the currently set timezone for the date object, or at least be documented that it is ignored and the timezone needs to be set to GMT manually (I didn't check if differential offsets are handled or not)."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6199\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29895",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The fact is that you are not giving ANY constant when you create Zend_Date.\nThis means that Zend_Date expects that you use localized input.\n\nThe date format is in that case used from your locale which is eighter defined by your browser or your server.\nWhen you give a FIXED input, then you have also to set the proper date constant, otherwise the date will not be recognised correctly.\n\nThis is not a problem of Zend_Date, as it can not know if you want to use RFC2822 or RFC850.\n\nAs you have not given the complete output of your instance of Zend_Date we can not reproduce the timezone behaviour. Z is supported and also recognised. But as before this depends on the used constant.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-04-02T22:20:07.000+0000",
                    "updated": "2009-04-02T22:20:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29898",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danker",
                        "name": "danker",
                        "displayName": "Duncan Anker",
                        "active": true
                    },
                    "body": "Thank you. That makes sense.\n\nI'm not sure what the server's default locale is, although if anything I would expect the Australian format to cause a problem. Given that providing a constant is pretty much mandatory, I wonder if throwing an exception might be a better option? I spent ages reading and trying to understand the manual and still didn't realize I needed the constant. It might save a lot of USER=ID10T errors.\n\nI fixed the test code with a Zend_Date::ISO_8601 though it still seems to ignore Z. This is the pertinent code:\n\ndate_default_timezone_set('Australia\/Brisbane');\n$test = new Zend_Date('2009-04-15T09:22:17.000Z', Zend_Date::ISO_8601);\necho $test->getTimezone() . ' ' . $test . \"\\n\";\n\nI get:\n\nAustralia\/Brisbane Apr 15, 2009 9:22:17 AM\n\nexpected:\n\nAustralia\/Brisbane Apr 15, 2009 7:22:17 PM\n\nThe dump of the Zend_date instance looks like this:\n\nobject(Zend_Date)#2 (8) {\n  [\"_locale:private\"]=>\n  string(2) \"en\"\n  [\"_fractional:private\"]=>\n  int(0)\n  [\"_precision:private\"]=>\n  int(3)\n  [\"_unixTimestamp:private\"]=>\n  string(10) \"1239751337\"\n  [\"_timezone:private\"]=>\n  string(18) \"Australia\/Brisbane\"\n  [\"_offset:private\"]=>\n  int(-36000)\n  [\"_syncronised:private\"]=>\n  int(0)\n  [\"_dst:protected\"]=>\n  bool(true)\n}\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danker",
                        "name": "danker",
                        "displayName": "Duncan Anker",
                        "active": true
                    },
                    "created": "2009-04-02T23:11:39.000+0000",
                    "updated": "2009-04-02T23:11:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29911",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Fixed",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-04-03T14:38:15.000+0000",
                    "updated": "2009-04-03T14:38:15.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6199\/transitions"
}