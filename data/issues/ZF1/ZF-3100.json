{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3100",
    "key": "ZF-3100",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Filter_Input with inputNamespace having filters and validators getting the wrong type..."
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeestimate": 0,
                "timespent": 20
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3100\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-11-15T11:36:02.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ludicruz",
                "name": "ludicruz",
                "displayName": "Jordan Raub",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-04-11T12:04:28.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-11-15T11:36:02.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have a date filter called My_Filter_Date and I need to use this before the standard Zend_Validate_Date validation, in ZF 1.5.1 this happens\n{quote}\n$filters = array(\n    'dob' => array('Date')\n);\n$validators = array(\n    'dob' => array('Date')\n);\n$data = array(\n    'dob' => '1990-01-01'\n),\n$options = array(\n    'inputNamespace' => array('My_Filter', 'My_Validate'),\n);\n$filter = new Zend_Filter_Input($filters, $validators, $data, $options);\n$filter->process(); \/\/throws \"Zend_Filter_Exception: Class based on basename 'Date' must implement the 'Zend_Validate_Interface' interface\" from line 914 Zend\/Filter\/Input.php\n{quote}\n\nline 908 of Zend\/Filter\/Input.php pulls out the wrong Class name from the method getPluginLoader since adding inputNamespace doesn't specify which type, either filter or validator or maybe both, the specified directory holds. \n\nmaybe it would be useful to add a key to the inputNamespace options array like so:\n{quote}\n$options = array(\n    'inputNamespace' => array(\n        'filter' => 'My_Filter', \n        'validate' => 'My_Validate'\n    ),\n);\n{quote}\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3100\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/worklog\/21608",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3100",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "comment": "I produced a patchfile retaining BC.",
                    "created": "2008-06-16T11:43:17.000+0000",
                    "updated": "2008-06-16T11:43:17.000+0000",
                    "started": "2008-06-16T11:42:00.000+0000",
                    "minutesSpent": 20
                }
            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                "name": "beberlei",
                "displayName": "Benjamin Eberlei",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11332",
                    "filename": "patchfile",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "created": "2008-06-16T11:45:21.000+0000",
                    "size": 1530,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11332\/patchfile"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10180",
                    "id": 10180,
                    "name": "Zend_Filter_Input",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20817",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ludicruz",
                        "name": "ludicruz",
                        "displayName": "Jordan Raub",
                        "active": true
                    },
                    "body": "This also breaks when I have a filter and a validator for the same thing... i.e. My_Filter_SSN and My_Validate_SSN\n\nexception thrown as \"Zend_Filter_Exception: Class based on basename 'SSN' must implement the 'Zend_Filter_Interface' interface\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ludicruz",
                        "name": "ludicruz",
                        "displayName": "Jordan Raub",
                        "active": true
                    },
                    "created": "2008-04-11T12:35:34.000+0000",
                    "updated": "2008-04-11T12:35:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22515",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "body": "I noticed a related problem that setOptions() calls addNamespace() for the INPUT_NAMESPACE case (ZFI lines 512-514): addNamespace has been depreciated though...\n\nApplying Jordan's suggestion above for a nested array as the inputNamespace value, the following would work: \n\n{code}\ncase self::INPUT_NAMESPACE:\n      $this->addFilterPrefixPath($value['filter'], str_replace('_', DIRECTORY_SEPARATOR, $value['filter']) );\n      $this->addValidatorPrefixPath($value['validate'], str_replace('_', DIRECTORY_SEPARATOR, $value['validate']) );\n      break;\n{code}\n\nAll this does though is replicate what's going on in the depreciated method... \n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "created": "2008-06-16T11:03:15.000+0000",
                    "updated": "2008-06-16T11:03:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22516",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "body": "This is a patchfile which retains BC.\n\nIt adds validatorNamespace and filterNamespace to the available options so you can use those instead of inputNamespace. \n\nIt calls the appropriate add --- PrefixPath method converting the prefix to a path in the process.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=carlton",
                        "name": "carlton",
                        "displayName": "Carlton Gibson",
                        "active": true
                    },
                    "created": "2008-06-16T11:45:23.000+0000",
                    "updated": "2008-06-16T11:45:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26425",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "Fixed in trunk as of 12670.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2008-11-15T11:36:01.000+0000",
                    "updated": "2008-11-15T11:36:01.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3100\/transitions"
}