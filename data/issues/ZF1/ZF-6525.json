{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6525",
    "key": "ZF-6525",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "does not work at all - Mac OS X, custom LAMP build"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6525\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/3",
                "name": "Duplicate"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10340",
                    "id": 10340,
                    "description": "Mini Release",
                    "name": "1.8.4",
                    "userReleaseDate": "23\/Jun\/09",
                    "archived": false,
                    "releaseDate": "2009-06-23",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-06-19T21:31:29.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gargoyle",
                "name": "gargoyle",
                "displayName": "Paul Court",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-04T14:47:37.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-08-20T14:35:07.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I cannot get Zend_Tool to work at all. This is all I get:-\r\n\r\npaul-courts-mac-pro:XAMP_Build paul$ zf show version\r\nPHP 5.2.9 (cli) (built: May  4 2009 22:25:46) \r\nCopyright (c) 1997-2009 The PHP Group\r\nZend Engine v2.2.0, Copyright (c) 1998-2009 Zend Technologies\r\n.:\/Volumes\/WORK\/XAMP\/lib\/php\/\r\n                       An Error Has Occurred                            \r\n Action 'show' is not a valid action.                                   \r\n\r\nZend FrameworkPHP Fatal error:  Class 'Zend_Version' not found in \/Volumes\/WORK\/XAMP\/lib\/Zend1.8\/Tool\/Framework\/Client\/Console\/HelpSystem.php on line 159\r\n\r\nFatal error: Class 'Zend_Version' not found in \/Volumes\/WORK\/XAMP\/lib\/Zend1.8\/Tool\/Framework\/Client\/Console\/HelpSystem.php on line 159\r\n\r\n\r\npaul-courts-mac-pro:XAMP_Build paul$ php \/Volumes\/WORK\/sites\/test \r\n1.8.0\r\n\r\n\r\npaul-courts-mac-pro:XAMP_Build paul$ cat \/Volumes\/WORK\/sites\/test\r\n<?php\r\nrequire_once 'Zend\/Loader\/Autoloader.php';\r\n$loader = Zend_Loader_Autoloader::getInstance();\r\necho Zend_Version::VERSION . \"\\n\";\r\npaul-courts-mac-pro:XAMP_Build paul$ \r\n\r\n\r\nI added the commands to show the php version and the include path to zf.sh just to make sure, and my very short test script works fine. Any ideas?"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6525\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                "name": "satoruyoshida",
                "displayName": "Satoru Yoshida",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-7036",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7036",
                    "type": {
                        "name": "Dependency",
                        "direction": "OUTBOUND",
                        "description": "depends on"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12008",
                    "filename": "Zend_Tool_Framework_Client_Console.php.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:06:22.000+0000",
                    "size": 590,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12008\/Zend_Tool_Framework_Client_Console.php.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12009",
                    "filename": "Zend_Tool_Framework_Client_Console_HelpSystem.php.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:23:38.000+0000",
                    "size": 745,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12009\/Zend_Tool_Framework_Client_Console_HelpSystem.php.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10380",
                    "id": 10380,
                    "name": "Zend_Tool",
                    "description": "Zend_Tool component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30661",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Are you sure ZF is in your include path?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-05-04T14:49:01.000+0000",
                    "updated": "2009-05-04T14:49:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30663",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gargoyle",
                        "name": "gargoyle",
                        "displayName": "Paul Court",
                        "active": true
                    },
                    "body": "Just found the problem. It does not like the \"Zend\" entry in my include path being a symlink!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gargoyle",
                        "name": "gargoyle",
                        "displayName": "Paul Court",
                        "active": true
                    },
                    "created": "2009-05-04T14:58:45.000+0000",
                    "updated": "2009-05-04T14:58:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31827",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "I did a little debugging, as well, as I get the same errors on \"release-1.8.3\", using a symlink to Zend in my \"include_path\". I added the following in Zend\/Tool\/Framework\/Client\/Console\/HelpSystem.php on line 164 to test a few things:\n\n[code]\nvar_dump(array(\n    'Is Zend_Loader_Autoloader available?' => class_exists('Zend_Loader_Autoloader', false),\n    'Is autoloading enabled?' => ( spl_autoload_functions() !== false ),\n    'Is Zend_Loader_Autoloader::autoload() registered?' => ( in_array(array('Zend_Loader_Autoloader', 'autoload'), (array) spl_autoload_functions()) ),\n));\n[code]\n\nThen executing \"zf.sh\" with no arguments, the expected output should be:\n\n[code]\narray(3) {\n  [\"Is Zend_Loader_Autoloader available?\"]=>\n  bool(true)\n  [\"Is autoloading enabled?\"]=>\n  bool(true)\n  [\"Is Zend_Loader_Autoloader::autoload() registered?\"]=>\n  bool(true)\n}\n[code]\n\nActual:\n\n[code]\narray(3) {\n  [\"Is Zend_Loader_Autoloader available?\"]=>\n  bool(false)\n  [\"Is autoloading enabled?\"]=>\n  bool(false)\n  [\"Is Zend_Loader_Autoloader::autoload() registered?\"]=>\n  bool(false)\n}\n[code]\n\nI was able to remedy the problem by performing either of the following in Zend\/Tool\/Framework\/Client\/HelpSystem.php @ 164:\n\n[code]\n        require_once 'Zend\/Loader\/Autoloader.php'; Zend_Loader_Autoloader::getInstance(); \/\/ Register the autoloader...\n        require_once 'Zend\/Version.php'; \/\/ Or just include the unloaded class before it's used...\n[code]\n\nThe bug actually appears to be in Zend_Tool_Framework_Client_Console::_preInit() @ 111, where the autoloader class is registered:\n\n[code]\n        \/\/ support setting the loader from the environment\n        if (isset($_ENV['ZEND_TOOL_FRAMEWORK_LOADER_CLASS'])) {\n            if (class_exists($_ENV['ZEND_TOOL_FRAMEWORK_LOADER_CLASS'])\n                || Zend_Loader::loadClass($_ENV['ZEND_TOOL_FRAMEWORK_LOADER_CLASS'])\n            ) {\n                $this->_registry->setLoader(new $_ENV['ZEND_TOOL_FRAMEWORK_LOADER_CLASS']);\n            }\n        }\n[code]\n\nNote that there's no \"else\" clause there if the $_ENV variable isn't set, so Zend_Loader_Autoloader doesn't get registered by default. Thus, if \"ZEND_TOOL_FRAMEWORK_LOADER_CLASS\" isn't set in our local environments, the autoloader stack is empty. Boo. I'll attach a patch.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T09:27:19.000+0000",
                    "updated": "2009-06-13T09:27:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31832",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "This patch should be applied to the base project directory and affect Zend_Tool_Framework_Client_Console, adding default autoloader support via Zend_Loader_Autoloader::autoload() if no other class is specified via the ENV variable ZEND_TOOL_FRAMEWORK_LOADER_CLASS. It contains the following lines, applied to library\/Zend\/Tool\/Framework\/Client\/Console.php @ 119:\n\n{code}\n        \/\/ otherwise register the default autoloader: Zend_Loader_Autoloader\n        else {\n            require_once 'Zend\/Loader\/Autoloader.php';\n            $this->_registry->setLoader(Zend_Loader_Autoloader::getInstance());\n        } \/\/ END if-else\n{code}\n\nThe problem from this ticket can also be resolved by patching Zend_Tool_Framework_Client_Console_HelpSystem by adding the following line to library\/Zend\/Tool\/Framework\/Client\/Console\/HelpSystem.php @ 164:\n\n{code}\n        require_once 'Zend\/Version.php';\n{code}\n\nHowever, the included patch is a more elegant solution, IMO, since it addresses a yet undetected issue with Zend_Tool, as explained above. Please feel free to apply either. I'm using the former for now. Thanks,\n\nDavid @ OrlandoPHP.org",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:06:35.000+0000",
                    "updated": "2009-06-13T13:06:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31833",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "If an admin would also please edit my earlier comment to correct my use of \"[code]\" instead of \"\\{code}\" for readability. Thanks.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:09:43.000+0000",
                    "updated": "2009-06-13T13:09:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31834",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "Actually, scratch that. I neglected to test before I uploaded that patch. The simpler, more specific one does the job, although having an autoloader registered would be handy, too... However, my earlier patch doesn't actually _do_ that. Sorry.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:23:38.000+0000",
                    "updated": "2009-06-13T13:23:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31835",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "So this _does_ get Zend_Tool _executable_ for me, but the list of providers is still empty, and {{zf.sh}} does not recognize any commands...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:26:58.000+0000",
                    "updated": "2009-06-13T13:26:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31836",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "To test out Paul's solution, I renamed my symlink and copied over the contents of the \"Zend\" directory into my {{include_path}}, instead. {{zf.sh ?}} now returns a list of colorized providers, but this problem still bugs me...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T13:33:30.000+0000",
                    "updated": "2009-06-13T13:33:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31840",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "body": "So my workaround for the moment is to set the ENV variable {{ZEND_TOOL_INCLUDE_PATH_PREPEND}} to {{\/usr\/local\/share\/php\/Zend_Framework\/library\/}}, and I've found the following in {{library\/Zend\/Tool\/Framework\/Loader\/IncludePathLoader.php}} @ 98:\n\n{code}\n                \/\/ no links allowed here for now\n                if ($item->isLink()) {\n                    continue;\n                }\n{code}\n\nApparently there's not a good solution for what to do with symlinks at this point, yet the [Quickstart Documentation|http:\/\/framework.zend.com\/docs\/quickstart\/create-your-project] recommends a symlink to the library... Obviously _after_ you get {{zf.sh}} running, though.\n\nPerhaps the problem here is that the IncludePathLoader is scanning the _entire tree_ defined by the {{include_path}} for files named \"Manifest.php\" or \"Provider.php\", which seems rather wasteful... Couldn't this operate more like the Plugin patterns, such that a number of known, assumed valid paths \/ namespaces are added to a stack for scanning...? That would bypass the symlink problem, at least.\n\nIs there a use-case for walking the _entire tree_ like that?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=al_the_x",
                        "name": "al_the_x",
                        "displayName": "David Rogers",
                        "active": true
                    },
                    "created": "2009-06-13T15:00:34.000+0000",
                    "updated": "2009-06-13T15:00:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31998",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "I think this issue could be resolved by ZF-7036.\nIt seems to be more simply.\n\nI think it would be too complex to use Zend_Loader_Autoloader.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2009-06-19T20:53:54.000+0000",
                    "updated": "2009-06-19T20:53:54.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6525\/transitions"
}