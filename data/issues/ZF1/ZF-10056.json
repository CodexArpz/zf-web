{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10056",
    "key": "ZF-10056",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "getErrors() add getMessages() does not filter out ignored form elements"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10056\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                "name": "flying",
                "displayName": "Alexander Grimalovsky",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-06-26T07:57:02.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-02-25T19:18:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Form have ability to set certain form elements as \"ignored\" so no values will be taken from them. However when I call getErrors() or getMessages() methods - I get messages also from ignored form fields while, logically, I should not."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10056\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-6909",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6909",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-12020",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12020",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14349",
                    "filename": "ZF-10056-utest-fix.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-09T15:34:18.000+0000",
                    "size": 944,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14349\/ZF-10056-utest-fix.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14348",
                    "filename": "ZF-10056-utest.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-09T15:28:08.000+0000",
                    "size": 948,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14348\/ZF-10056-utest.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14351",
                    "filename": "ZF-10056_rev3.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-10T14:56:51.000+0000",
                    "size": 1982,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14351\/ZF-10056_rev3.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14350",
                    "filename": "ZF-10056_v2.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-10T10:04:32.000+0000",
                    "size": 863,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14350\/ZF-10056_v2.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10470",
                    "id": 10470,
                    "description": "Mini Release",
                    "name": "1.10.6",
                    "userReleaseDate": "22\/Jun\/10",
                    "archived": false,
                    "releaseDate": "2010-06-22",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47056",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "This issue stays unchanged for a year already and still available in latest 1.11.7 version.\r\nI've prepared patch for this issue to get it fixed at last. Since there seems to be now way to add attachments to issues - here is link to it:\r\nhttp:\/\/dl.dropbox.com\/u\/7763774\/ZF-10056.patch",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-08T18:14:34.000+0000",
                    "updated": "2011-06-08T18:14:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47062",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Hi Alexander,\r\n\r\nThanks for the patch to contribute to ZF, but I notice that you don't appear to have a CLA on file, if you do, you should get in touch with Ralph Schindler and ask him to assign you the correct groups so that you can attach patches as an attachment rather than inline, otherwise, you should sign the cla (http:\/\/framework.zend.com\/wiki\/display\/ZFPROP\/Contributor+License+Agreement) and return it before contributing code, otherwise your contributions may go unused!\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-08T19:36:33.000+0000",
                    "updated": "2011-06-08T19:36:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47068",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "The patch does not respect the coding standards!\r\n\r\n[Zend Framework Coding Standard for PHP: Coding Style - Control Statements|http:\/\/framework.zend.com\/manual\/en\/coding-standard.coding-style.html#coding-standard.coding-style.control-statements]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-06-09T07:00:36.000+0000",
                    "updated": "2011-06-09T07:00:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47079",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Hello,\r\n\r\nKim, I've signed CLA and sent it for review, hope it will be accepted soon.\r\nKai, yes, you right, here is fixed version of patch:\r\nhttp:\/\/dl.dropbox.com\/u\/7763774\/ZF-10056_fixed.patch",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-09T09:23:50.000+0000",
                    "updated": "2011-06-09T09:23:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47081",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Alexander,\r\n\r\nNice, I will test your patch tomorrow.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-09T10:21:29.000+0000",
                    "updated": "2011-06-09T10:21:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47091",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "-Alexander, unfortunately I was not able to reproduce this issue. Please check my unit test if I'm missing something.-",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-09T15:28:08.000+0000",
                    "updated": "2011-06-09T15:34:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47092",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Sorry there was an error in my test. Your patch seems to resolve the issue. However, I would truncate the patch to be\n\n{code}\n--- Zend\/Form.php\tFri Jun 03 17:48:45 2011\n+++ Zend\/Form.php\tThu Jun 09 12:30:39 2011\n@@ -2242,6 +2242,9 @@\n         }\n         $context = $data;\n         foreach ($this->getElements() as $key => $element) {\n+            if ($element->getIgnore()) {\n+                continue;\n+            }\n             if (null !== $translator && $this->hasTranslator()\n                     && !$element->hasTranslator()) {\n                 $element->setTranslator($translator);\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-09T15:34:18.000+0000",
                    "updated": "2011-06-09T15:34:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47100",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Yes, Kim, you right, however I would propose to change patch this way:\r\n\r\n{code}\r\n--- Zend\/Form.php\tFri Jun 03 17:48:45 2011\r\n+++ Zend\/Form.php\tFri Jun 10 13:54:01 2011\r\n@@ -2242,6 +2242,9 @@\r\n         }\r\n         $context = $data;\r\n         foreach ($this->getElements() as $key => $element) {\r\n+            if ($element->getIgnore()) {\r\n+                continue;\r\n+            }\r\n             if (null !== $translator && $this->hasTranslator()\r\n                     && !$element->hasTranslator()) {\r\n                 $element->setTranslator($translator);\r\n@@ -2300,6 +2303,9 @@\r\n         $context    = $data;\r\n\r\n         foreach ($this->getElements() as $key => $element) {\r\n+            if ($element->getIgnore()) {\r\n+                continue;\r\n+            }\r\n             $check = $data;\r\n             if (($belongsTo = $element->getBelongsTo()) !== $eBelongTo) {\r\n                 $check = $this->_dissolveArrayValue($data, $belongsTo);\r\n{code}\r\n\r\nbecause Zend_Form have 2 methods for validation - isValid() and isValidPartial().",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-10T10:03:29.000+0000",
                    "updated": "2011-06-10T10:03:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47101",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Patch for fixing issue for isValidPartial() too",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-10T10:04:32.000+0000",
                    "updated": "2011-06-10T10:04:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47102",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Alexander, I agree with the latest proposal. I have modified unit test to test also {{isValidPartial()}} and packed both the patch and the test in one file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-10T14:56:51.000+0000",
                    "updated": "2011-06-10T14:56:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47313",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Are there any situations where it makes sense that a transient field would be ignored (ie: not be included in {{getValues()}}) but still need to be validated?  My thought process goes along the lines of a CSRF element, which isn't part of the form's data (so would be excluded from {{getValues()}}) but still needs to be validated to ensure it's value is correct.  If that is a viable use case, then we'll need to rethink the suggested fix.\r\n\r\nI've linked this issue with ZF-6909 because in the comments (specifically here: http:\/\/framework.zend.com\/issues\/browse\/ZF-6909#comment-39114 and here: http:\/\/framework.zend.com\/issues\/browse\/ZF-6909#comment-31612) there is a discussion about {{ignore}} vs {{disabled}} and how {{isValid}}\/{{isValidPartial}} don't check the {{ignore}} flag.  An opinion from Matthew was requested on the matter, but he did not respond.  ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-06-29T23:01:34.000+0000",
                    "updated": "2011-06-29T23:02:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47330",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "bq. My thought process goes along the lines of a CSRF element, which isn't part of the form's data (so would be excluded from getValues()) but still needs to be validated to ensure it's value is correct. If that is a viable use case, then we'll need to rethink the suggested fix.\r\n\r\nAdam - this is absolutely a valid argument and definitely the fix needs to be rethought. Fortunately someone has eyes open :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2011-06-30T14:32:19.000+0000",
                    "updated": "2011-06-30T14:32:19.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10056\/transitions"
}