{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3521",
    "key": "ZF-3521",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Allow roles to be entered in array format in isAllowed"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeestimate": 0,
                "timespent": 60
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/22",
                "name": "Community Driven Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3521\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10420",
                    "id": 10420,
                    "description": "Minor Release",
                    "name": "1.11.0",
                    "userReleaseDate": "02\/Nov\/10",
                    "archived": false,
                    "releaseDate": "2010-11-02",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-28T03:11:40.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pknull",
                "name": "pknull",
                "displayName": "Louis Grenzebach",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-06-26T10:47:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-11-05T01:23:18.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Inheritance is not always an optimal solution for ACL's. It would be beneficial if isAllowed could take an array as it's first argument for roles, for example:\n\n$acl->isAllowed(array('role1','role2'), 'resource', array('view','edit'))\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10040",
                "value": " Nice to Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3521\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/worklog\/21887",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3521",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "comment": "",
                    "created": "2009-10-12T13:44:31.000+0000",
                    "updated": "2009-10-12T13:44:31.000+0000",
                    "started": "2009-10-12T13:43:00.000+0000",
                    "minutesSpent": 60
                }
            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                "name": "gdelamarre",
                "displayName": "Gauthier Delamarre",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12300",
                    "filename": "allowMultipleRolesInIsAllowedChallenge.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "created": "2009-10-12T13:53:08.000+0000",
                    "size": 3673,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12300\/allowMultipleRolesInIsAllowedChallenge.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10070",
                    "id": 10070,
                    "name": "Zend_Acl",
                    "description": "Access control list authorization component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22709",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=octavian",
                        "name": "octavian",
                        "displayName": "Marc Jakubowski",
                        "active": true
                    },
                    "body": "Could you give us a use case when this approach would be useful?\n\nShould this statement return true, when the rule is allowed for both roles only or does only one of them need to match?\n\nA workaround would be to either check both roles separately and then merge results to you need or  to create a new dummy role that inherits both roles an then check if it is allowed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=octavian",
                        "name": "octavian",
                        "displayName": "Marc Jakubowski",
                        "active": true
                    },
                    "created": "2008-07-01T08:25:46.000+0000",
                    "updated": "2008-07-01T08:25:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22715",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pknull",
                        "name": "pknull",
                        "displayName": "Louis Grenzebach",
                        "active": true
                    },
                    "body": "I believe it would return true if one matched, as you only need to be allowed on one level. In our environment people are given several roles, which typically coincide with various titles they may have. Some of these roles may not have permission to enter the area, while others do. I was hoping for a way to hand an array of the users roles to the function, without having to loop through them (as your work around suggested (and now after the fact, what I ended up doing)).\n\nHere's my particular case\nI have a user, who has the roles of SiteAdmin, Teacher, and Staff. Of those roles, only two are allowed access to the view. \n\nWhile the social heirachy of these roles might imply the order of SiteAdmin > Teacher > Staff, we have cases where this order is changed, so that Teacher > SiteAdmin > Staff. There's also about a half dozen more roles on top of this.\n\nIt boils down to users having roles, that are mutually exclusive of each other, but may have access to an item through one more of those roles. I'm just trying to avoid unnecessary loops in my code where plausible.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pknull",
                        "name": "pknull",
                        "displayName": "Louis Grenzebach",
                        "active": true
                    },
                    "created": "2008-07-01T22:56:06.000+0000",
                    "updated": "2008-07-01T22:56:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28204",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Assigning to Ralph to get closure on this issues.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2009-01-14T13:31:40.000+0000",
                    "updated": "2009-01-14T13:31:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34321",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "So the proposed API, would that mean that all resources must share the same privelidge or just one?  In other words, given many roles, are you expecting it to be ANDed or ORed?\n\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-09-08T14:03:19.000+0000",
                    "updated": "2009-09-08T14:03:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34372",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Updating project management. Trivial, Nice To Have, Next Minor Release.\n\nWhile this is a worthwhile feature, the ZF team will not develop this feature, but if a community member would like to pick up and develop it, they may make an assignment of it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-09-10T08:30:41.000+0000",
                    "updated": "2009-09-10T08:30:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35170",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "body": "Moved public  Zend_Acl::isAllowed method to protected Zend_Acl::_isAllowed and replaced it with a method allowing arrays as first parameters. Also updated related UnitTest. No BC break.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "created": "2009-10-12T13:53:08.000+0000",
                    "updated": "2009-10-12T13:53:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42827",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=davidbroderick",
                        "name": "davidbroderick",
                        "displayName": "David Broderick",
                        "active": true
                    },
                    "body": "Did this patch make it into the ZF 1.11 release?  I don't see the changes from the patch file in Zend\\Acl.php",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=davidbroderick",
                        "name": "davidbroderick",
                        "displayName": "David Broderick",
                        "active": true
                    },
                    "created": "2010-11-04T10:21:13.000+0000",
                    "updated": "2010-11-04T10:21:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42839",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "body": "as far as I know this patch was not moved to trunk...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gdelamarre",
                        "name": "gdelamarre",
                        "displayName": "Gauthier Delamarre",
                        "active": true
                    },
                    "created": "2010-11-05T01:23:18.000+0000",
                    "updated": "2010-11-05T01:23:18.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3521\/transitions"
}