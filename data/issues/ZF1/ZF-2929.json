{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2929",
    "key": "ZF-2929",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Problems with German Umlaute since ZF 1.5"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2929\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10181",
                    "id": 10181,
                    "description": "Mini Release",
                    "name": " 1.5.2",
                    "userReleaseDate": "15\/May\/08",
                    "archived": true,
                    "releaseDate": "2008-05-15",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-04-21T01:14:24.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dom",
                "name": "dom",
                "displayName": "Dominik Bors",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-03-19T12:48:56.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-03-21T11:32:08.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "We have some strange behaviour with Zend_Filter_Alnum &\r\nZend_Filter_Alpha since ZF 1.5. Everything works correct by using ZF 1.0.4.\r\n\r\nBy folowing code line\r\necho Zend_Filter_Alnum::filter(\"L\u00fcge\"); \/\/ in utf-8 encoding\r\ndelivers Lge instead of L\u00fcge until ZF 1.0.x the result was correct.\r\n\r\nCorresponding code block in Zend\/Filter\/Alnum.php:\r\n<code>\r\n        if (!self::$_unicodeEnabled) {\r\n            \/\/ POSIX named classes are not supported, use alternative\r\na-zA-Z0-9 match\r\n            $pattern = '\/[^a-zA-Z0-9' . $whiteSpace . ']\/';\r\n        } else if (extension_loaded('mbstring')) {\r\n            \/\/ Unicode safe filter for the value with mbstring\r\n            $pattern = '\/[^[:alnum:]'  . $whiteSpace . ']\/u';\r\n        } else {\r\n            \/\/ Unicode safe filter for the value without mbstring\r\n            $pattern = '\/[^\\p{L}\\p{N}' . $whiteSpace . ']\/u';\r\n        }\r\n<\/code>\r\n\r\n\r\nThe problem is we have the mbstring enabled and this line don't work \t\r\n            $pattern = '\/[^[:alnum:]'  . $whiteSpace . ']\/u';\r\nbut this line\r\n            $pattern = '\/[^\\p{L}\\p{N}' . $whiteSpace . ']\/u';\r\nThe internal-encoding is correctly set to UTF-8.\r\n\r\nThe question is why the [:alnum:] line don't work, and why it is useful to handle on another way  if the extension is enabled ?"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/1",
                "name": "Blocker"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10037",
                "value": "   Must Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2929\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                "name": "satoruyoshida",
                "displayName": "Satoru Yoshida",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-2107",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2107",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10172",
                    "id": 10172,
                    "description": "Minor Release",
                    "name": "1.5.0",
                    "userReleaseDate": "17\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-17",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10013",
                    "id": 10013,
                    "name": "Zend_Filter",
                    "description": "methods for filtering data",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20015",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "Hello, Dominik.\nIs the mbstring extension used in German ?\n\nIn the last version, before changing in ZF-2107, only \"^\\p{L}\\p{N}\" pattern is used. \n\nBut I found it causes error in Japanese.  The problem is all character of Japanese is passed.\nSo, I changed because I thought mbstring extension used only in the language that has many multibyte characters.\n\nBut if the mbstring extension used in German , (or Czeck, Polish...etc)  ZF-2107 happens your problems.\n\nDo you have any idea instead of using \"if (extension_loaded('mbstring'))\" ?\nIt seems to be better if we use language location in if statement.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2008-03-19T19:19:51.000+0000",
                    "updated": "2008-03-19T19:19:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20383",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Please categorize\/fix as needed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-25T21:09:03.000+0000",
                    "updated": "2008-03-25T21:09:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20714",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dom",
                        "name": "dom",
                        "displayName": "Dominik Bors",
                        "active": true
                    },
                    "body": "Hello Satoru,\n\nsorry for my late answer.\n\nI don't think mbstring extension is used in German, it shouldn't. But the mbextension often is installed by default.\n\nI think we should add a second condition to the if statement, maybe something that asks if the default zend_locale is japanese.\n\nBest regards\nDominik ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dom",
                        "name": "dom",
                        "displayName": "Dominik Bors",
                        "active": true
                    },
                    "created": "2008-04-07T04:25:45.000+0000",
                    "updated": "2008-04-07T04:25:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20792",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "Hello, Dominik.\nThank you for your reply.\n\nOk, I try to add some condition by using Zend_Locale. :-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2008-04-10T08:47:32.000+0000",
                    "updated": "2008-04-10T08:47:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20869",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kupuyc",
                        "name": "kupuyc",
                        "displayName": "Kirill",
                        "active": true
                    },
                    "body": "I have same problem with russian characters:\n\n{code}$filter = new Zend_Filter_Alnum(true);  \nZend_Debug::dump($filter->filter('\u044d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u0435\u043d\u044c\u043a\u043e - mbstring enabled'));  \n\/\/string(19) \"   mbstring enabled\"{\/code}\n\n{code}$filter = new Zend_Filter_Alnum(true);  \nZend_Debug::dump($filter->filter('\u044d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u0435\u043d\u044c\u043a\u043e - mbstring disabled'));  \n\/\/string(48) \"\u044d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u0435\u043d\u044c\u043a\u043e  mbstring disabled\"{\/code}\n\nIn my case $pattern = '\/[^[:alnum:]'  . $whiteSpace . ']\/u'; is used by filter.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kupuyc",
                        "name": "kupuyc",
                        "displayName": "Kirill",
                        "active": true
                    },
                    "created": "2008-04-16T18:05:46.000+0000",
                    "updated": "2008-04-16T18:05:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20870",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "Thank You for Your information, Kirill.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2008-04-16T20:10:41.000+0000",
                    "updated": "2008-04-16T20:10:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/21217",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "Resolved in SVN r9266",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2008-04-21T01:14:24.000+0000",
                    "updated": "2008-04-21T01:14:24.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2929\/transitions"
}