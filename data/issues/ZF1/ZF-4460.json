{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4460",
    "key": "ZF-4460",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Resource objects passed in to ACL query methods are not passed through to registered assert()'s"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 0,
                "timeestimate": 0
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4460\/votes",
                "votes": 7,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10350",
                    "id": 10350,
                    "description": "Mini Release",
                    "name": "1.9.1",
                    "userReleaseDate": "11\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-11",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-14T14:38:21.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                "name": "coling",
                "displayName": "Colin Guthrie",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-10-03T03:50:23.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-08-17T09:07:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi,\n\nWhen querying an ACL, the resource objects that are passed into the query methods are not actually passed through to any asserts that are defined. Instead, their resourceId() is looked up and then the object passed in at ACL construction time is used instead.\n\nThis prevents some advanced use of the assert() system.\n\n\nHere is a detailed description:\n\nI have classes defined in my system which implement Zend_Acl_Resource_Interface. In my case I always implement my getResourceId() as a very simple \"return __CLASS__\".\n\nI'll use an example of Articles to try and put this into context.\n\nSay I have following setup:\n\n{noformat} \nclass Article implements Zend_Acl_Resource_Interface.\n{\n   public function getResourceId()\n   {\n     return __CLASS__;\n   }\n\n\n   public $author;\n\n   public function __construct($articleId)\n   {\n     \/\/ Load article by id and populate $author.\n   }\n}\n{noformat} \n\n(Obviously it does other stuff too!!)\n\n\n\nIn order to restrict editing to only the author of the article, I could implement the following Acl_Assert:\n\n{noformat} \nclass Own_Article_Assert implements Zend_Acl_Assert_Interface\n{\n   public function assert(\n     Zend_Acl $acl,\n     Zend_Acl_Role_Interface $role = null,\n     Zend_Acl_Resource_Interface $resource = null,\n     $privilege = null)\n   {\n     if (!($resource instanceof Article))\n       return false;\n\n     \/\/ We now know $resource is of the class \"Article\"\n\n     $auth = Zend_Auth::getInstance();\n     if (!$auth->hasIdentity())\n       return false;\n\n     return ($auth->getIdentity()->username == $resouce->author);\n   }\n}\n{noformat} \n\n\nThen I had an ACL something like... \n\n{noformat} \n$acl = new Zend_Acl;\n$acl->addRole(new Zend_Acl_Role('User'));\n$acl->add(new Zend_Acl_Resource('Article'));\n$acl->allow('User', 'Article' 'view');\n$acl->allow('User', 'Article' 'edit', new Own_Article_Assert);\n{noformat} \n\nThis should allow a user to view any article, but only allow the original author to edit it.\n\nI've used the generic Zend_Acl_Resource() object to add the resource into the Acl as I cannot configure my Acl with the real article object without instantiating it (and thus loading an article from the DB). This seems like a reasonable thing to do.\n\nAllow me to elaborate further. Let's say  I then have some code:\n\n{noformat} \n$art1 = new Article(1); \/\/ An article by current user\n$art2 = new Article(2); \/\/ An article by someone else\n\necho 'View 1: '.($acl->isAllowed('User', $art1, 'view') ? 'ACK' : 'NAK').\"<br \/>\";\necho 'View 2: '.($acl->isAllowed('User', $art2, 'view') ? 'ACK' : 'NAK').\"<br \/>\";\necho 'Edit 1: '.($acl->isAllowed('User', $art1, 'edit') ? 'ACK' : 'NAK').\"<br \/>\";\necho 'Edit 2: '.($acl->isAllowed('User', $art2, 'edit') ? 'ACK' : 'NAK').\"<br \/>\";\n{noformat} \n\nWhat you'd expect here is:\n{{ACK, ACK, ACK, NAK.}}\nBut what actually happens is:\n{{ACK, ACK, NAK, NAK.}}\n\n(sounds like Mars Attacks.... ;))\n\n\nThis is because the article object itself never gets passed through to the assert method and thus it fails at the \"instanceof\" check. This is due to the fact that the object you pass in to isAllowed is actually internally replaced by a the generic object added during ACL construction. This is done in Acl.php's get() function. (see the variable instance storage: $this->_resources[$resourceId]['instance']).\n\nI can fix this trivially with a small patch (which I'll attach) that preserves the object passed in if it is given and only uses the generic object if a string is used as the parameter. With this patch applied, my original Article object makes it through to the assert() and I can perform the necessary tests.\n\n\n\n\nI really hope this is a bug as, to me, I really don't see the point in using \"objects\" in the Acl system if the objects themselves are not going to be preserved and passed about accordingly. If the objects just represent generic strings then why not just use generic strings in the first place. Being able to pass a specific object to an assert method is what makes it powerful\/useful.\n\n\nI hope this is understandable. If you would like me to provide code I can do.\n\n\n*EDIT*\n\nI cannot for the life of me work out how to attach a patch to this issue, so I'll just have to post it inline here... am I being thick or is there really no way to add patches etc? Seems pretty counter productive if there isn't a way....\n\n{noformat}\nIndex: Acl.php\n===================================================================\n--- Acl.php\t(revision 30213)\n+++ Acl.php\t(working copy)\n@@ -288,8 +288,10 @@\n     {\n         if ($resource instanceof Zend_Acl_Resource_Interface) {\n             $resourceId = $resource->getResourceId();\n+            $lookup = false;\n         } else {\n             $resourceId = (string) $resource;\n+            $lookup = true;\n         }\n \n         if (!$this->has($resource)) {\n@@ -297,7 +299,7 @@\n             throw new Zend_Acl_Exception(\"Resource '$resourceId' not found\");\n         }\n \n-        return $this->_resources[$resourceId]['instance'];\n+        return $lookup ? $this->_resources[$resourceId]['instance'] : $resource;\n     }\n \n     \/**\n{noformat}\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4460\/watchers",
                "isWatching": false,
                "watchCount": 6
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-1722",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1722",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-1721",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1721",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10201",
                    "id": 10201,
                    "description": "Mini Release",
                    "name": "1.6.1",
                    "userReleaseDate": "15\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-15",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10070",
                    "id": 10070,
                    "name": "Zend_Acl",
                    "description": "Access control list authorization component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25145",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "There are similarities in these two bug reports with regards to the actual object that is passed to the assert(). Overall the usefulness of asserts are IMO restricted by these two issues.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2008-10-15T04:26:49.000+0000",
                    "updated": "2008-10-15T04:26:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25146",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "Again these are similar bugs. With regards to Resources, I feel that my fix in ZF-4460 is sufficient, I have not looked specifically at Roles. I suspect my fix applies better as the code in Zend_Acl has moved on.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2008-10-15T04:31:39.000+0000",
                    "updated": "2008-10-15T04:31:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25147",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "Sorry I chose the wrong kind of link :s\n\nAgain these are similar bugs. With regards to Resources, I feel that my fix in ZF-4460 is sufficient, I have not looked specifically at Roles. I suspect my fix applies better as the code in Zend_Acl has moved on. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2008-10-15T04:32:47.000+0000",
                    "updated": "2008-10-15T04:32:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25395",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "body": "Colin, thanks for submitting such a clear write-up of this bug.\n\nI think this bug is extremely important, as it is impossible to write non-trivial assertions if you can get access to the methods of the resource you are considering.\n\nMy use case is exactly the same as yours (a requirement to restrict people to records that belong to them), and I suspect that this is a very common scenario.\n\nAs an alternative to changing isAllowed(), we are overriding get() by telling it to only return the resource from the registry if the $resource parameter doesn't implement Zend_Acl_Resource_Interface:\n\n{code:none}\n    public function get($resource)\n    {\n        if ($resource instanceof Zend_Acl_Resource_Interface) {\n            $resourceId = $resource->getResourceId();\n        } else {\n            $resourceId = (string) $resource;\n        }\n\n        if (!$this->has($resource)) {\n            require_once 'Zend\/Acl\/Exception.php';\n            throw new Zend_Acl_Exception(\"Resource '$resourceId' not found\");\n        }\n\n        if (!$resource instanceof Zend_Acl_Resource_Interface) {\n            $resource = $this->_resources[$resourceId]['instance'];\n        }        \n        return $resource;\n    }\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "created": "2008-10-24T07:46:50.000+0000",
                    "updated": "2008-10-24T07:46:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25396",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "body": "Sorry, critical spelling error above!\n\nI think this bug is extremely important, as it is impossible to write non-trivial assertions if you CAN'T get access to the methods of the resource you are considering.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "created": "2008-10-24T07:48:21.000+0000",
                    "updated": "2008-10-24T07:48:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25397",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "body": "Finally, I think that whichever fix is applied, it should also be applied to Zend_Acl_Role_Registry->get() so that the code is consistent.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rhunwicks",
                        "name": "rhunwicks",
                        "displayName": "Roger Hunwicks",
                        "active": true
                    },
                    "created": "2008-10-24T07:52:05.000+0000",
                    "updated": "2008-10-24T07:52:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25403",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "Yeah the solution I had was a little messy with the inline if statement etc..\n\nI think this is the optimal version for neatness\/compactness\/clarity:\n\n{code:none}\npublic function get($resource)\n    {\n        if (!$resource instanceof Zend_Acl_Resource_Interface) {\n            $resource = $this->_resources[(string)$resource]['instance'];\n        }\n\n        if (!$this->has($resource)) {\n            require_once 'Zend\/Acl\/Exception.php';\n            throw new Zend_Acl_Exception(\"Resource '\".$resource->getResourceId().\"' not found\");\n        }\n\n        return $resource;\n    }\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2008-10-24T08:17:28.000+0000",
                    "updated": "2008-10-24T08:17:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25404",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "Erm, scratch that last comment. I see the by looking up the instance before checking ->has() is clearly insane. I'll stop to stop smoking so much crack. :s",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2008-10-24T08:19:08.000+0000",
                    "updated": "2008-10-24T08:19:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28202",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Assigning to Ralph to get closure on this issues.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2009-01-14T13:31:40.000+0000",
                    "updated": "2009-01-14T13:31:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31850",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "Anything new on this one?\nAs some other posters wrote this is some major blocker when working with assertions.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2009-06-15T01:54:28.000+0000",
                    "updated": "2009-06-15T01:54:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33087",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "A fix is in place in trunk at r17317 for ZF-1721 and ZF-1722 which I think might address this issue, please test.  Thanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-07-30T19:03:04.000+0000",
                    "updated": "2009-07-30T19:03:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33528",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "body": "Hi Ralph,\n\nI'd like to confirm this has indeed fixed my test case.\n\nThat said, when the get() method is called and a resource is passed in, that same resource object will not be passed out again. Is this the intended behaviour for a public method?\n\nSee my inline patch at the end of the description of this topic which fixes the get() method.. The resource object passed in to the get() method is preserved if it is already a resource. In the current 1.9.1 implementation, if a resource object is passed in, the resource object with the same identifier registered in the ACL is what is returned, not the original resource.\n\nThis is arguably not needed if this is just the intended behaviour of this public function (and changing it is admittedly an API breakage), but perhaps this should be rethought for 2.0 and changed?\n\nI'd welcome you're opinion on the matter. :)\n\nThanks for the fix.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=coling",
                        "name": "coling",
                        "displayName": "Colin Guthrie",
                        "active": true
                    },
                    "created": "2009-08-17T08:57:34.000+0000",
                    "updated": "2009-08-17T08:57:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33529",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "I originally tried going the same route, but it gets you to (like you said) a place where there is bc breakage.  Even if its not intended behavior, its what we have.\n\nI think there are loads of refactoring we can do for 2.0 time.  First is that we should tree ACL's more like Trees and nodes, thus utilizing RecursiveIterator and RecursiveIteratorIterator. There should also be a focus on explict roles\/resources and types of resources\/roles, both use cases being supported.  This means using strings for types, and exact objects for explicit role\/resource registration and checking.\n\nIf you have other thoughts, I suggest you start a Zend_Acl 2.0 page on the ZFDEV wiki :)\n\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-08-17T09:07:23.000+0000",
                    "updated": "2009-08-17T09:07:23.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4460\/transitions"
}