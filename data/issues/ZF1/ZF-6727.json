{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6727",
    "key": "ZF-6727",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Loader_Autoloader_Resource generated double slash in path name"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6727\/votes",
                "votes": 5,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-11-25T00:28:54.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                "name": "bate",
                "displayName": "Marco Kaiser",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-19T07:45:26.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-11-25T00:28:54.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "in the autoload method the return statement look like\n{code}\nreturn include $path . '\/' . str_replace('_', '\/', $final) . '.php';\n{code}\n\nthis results in a double \/\/ the . '\/' after path is not required or maybe should be checked because its results in a path require like this\n\napplication\/modules\/i18n\/models\/\/Example.php"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6727\/watchers",
                "isWatching": false,
                "watchCount": 9
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                "name": "bate",
                "displayName": "Marco Kaiser",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-8109",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8109",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12382",
                    "filename": "ZF-6727.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-19T06:41:08.000+0000",
                    "size": 482,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12382\/ZF-6727.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10001",
                    "id": 10001,
                    "name": "Zend_Loader",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31280",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "Set component and auto reassign",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2009-05-22T21:28:06.000+0000",
                    "updated": "2009-05-22T21:28:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31792",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=doctorrock83",
                        "name": "doctorrock83",
                        "displayName": "julien PAULI",
                        "active": true
                    },
                    "body": "Confirmed for me.\nI get some \"\/media\/www\/anaskaformationZF\/application\/default\/models\/Acl\/\/\/MyAcl.php\" when trying new Acl_MyAcl\nwith \n\n{code}\n$autoloader = new Zend_Loader_Autoloader_Resource(array(\n 'basePath'      => $appPath . '\/default\/models',\n 'namespace'     => '',\n 'resourceTypes' => array('tables'=>array('path'=>'Tables\/','namespace'=>'Table'),\n                          'objects'=>array('path'=>'Objects\/', 'namespace'=>'Object'),\n                          'forms'=>array('path'=>'Forms\/', 'namespace'=>'Form'),\n                          'acl'=>array('path'=>'Acl\/', 'namespace'=>'Acl')\n)));\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=doctorrock83",
                        "name": "doctorrock83",
                        "displayName": "julien PAULI",
                        "active": true
                    },
                    "created": "2009-06-12T02:54:50.000+0000",
                    "updated": "2009-06-12T02:54:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34398",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andkul",
                        "name": "andkul",
                        "displayName": "Andrey Kulikov",
                        "active": true
                    },
                    "body": "Double slashes in path too.\n\nFor Windows its good, but for linux i have this error in path:\n\n{code}Warning: Zend_Loader_Autoloader_Resource::include() [function.include]: Failed opening '\/var\/www\/vhosts\/artgroup.by\/subdomains\/job67\/httpdocs\/application\/modules\/job\/models\/\/Company\/RegisterForm.php' for inclusion (include_path='\/var\/www\/vhosts\/artgroup.by\/subdomains\/job67\/httpdocs\/library:\/var\/www\/vhosts\/artgroup.by\/subdomains\/job67\/httpdocs\/libs:\/var\/www\/vhosts\/artgroup.by\/subdomains\/job67\/..\/..\/libs:.:') in \/var\/www\/vhosts\/artgroup.by\/subdomains\/job67\/httpdocs\/libs\/Zend\/Loader\/Autoloader\/Resource.php on line 173 {code} ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andkul",
                        "name": "andkul",
                        "displayName": "Andrey Kulikov",
                        "active": true
                    },
                    "created": "2009-09-11T05:42:50.000+0000",
                    "updated": "2009-09-11T05:42:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34975",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jakemcgraw",
                        "name": "jakemcgraw",
                        "displayName": "Jake McGraw",
                        "active": true
                    },
                    "body": "Looks like it is a counting error, changing ln 174 from:\n\n{code:php}\n    $final = substr($class, strlen($lastMatch));\n{\/code}\n\nto:\n\n{code:php}\n    $final = substr($class, strlen($lastMatch)+1);\n{\/code}\n\nFixes the issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jakemcgraw",
                        "name": "jakemcgraw",
                        "displayName": "Jake McGraw",
                        "active": true
                    },
                    "created": "2009-09-29T13:21:31.000+0000",
                    "updated": "2009-09-29T13:21:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36127",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=amazium",
                        "name": "amazium",
                        "displayName": "Jeroen Keppens",
                        "active": true
                    },
                    "body": "Could be fixed by changing:\r\n\r\nreturn include $path . '\/' . str_replace('_', '\/', $final) . '.php';\r\n\r\nto:\r\n\r\nreturn rtrim(include $path, '\/') . '\/' . ltrim(str_replace('_', '\/', $final), '\/') . '.php';\r\n\r\nThat way you remove right trailing slashes from the path and left trailing slashes from the final bit.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=amazium",
                        "name": "amazium",
                        "displayName": "Jeroen Keppens",
                        "active": true
                    },
                    "created": "2009-11-19T00:52:08.000+0000",
                    "updated": "2009-11-19T00:52:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36134",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "Solution diff, please fix",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-19T01:47:59.000+0000",
                    "updated": "2009-11-19T01:47:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36151",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "correct patch",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-19T06:41:08.000+0000",
                    "updated": "2009-11-19T06:41:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36261",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "fixed in r19084",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-20T05:11:53.000+0000",
                    "updated": "2009-11-20T05:11:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36377",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=marcpeterson",
                        "name": "marcpeterson",
                        "displayName": "Marc Peterson",
                        "active": true
                    },
                    "body": "This patch breaks the autoloading of custom classes in my project.  I get the error:\r\n\r\nWarning: include() [function.include]: Filename cannot be empty in C:\\appliaction\\svn\\trunk\\library\\Zend\\Loader\\Autoloader\\Resource.php on line 188\r\nWarning: include() [function.include]: Failed opening '' for inclusion (include_path='C:\\application\\svn\\trunk\\application\/models\/doctrine;C:\\application\\svn\\trunk\\library;.;C:\\php5\\pear') in C:\\application\\svn\\trunk\\library\\Zend\\Loader\\Autoloader\\Resource.php on line 188\r\n\r\nAnd the class being passed to autoload() is \"Custom_Acl\"\r\n\r\nYour autoload() class does not return false.  It tried to include \"false\" as a file.  Try:\r\n\r\n\r\npublic function autoload($class)\r\n{\r\n    if ( $classpath = $this->getClassPath($class) ) include $classpath;\r\n    else return false;\r\n}\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=marcpeterson",
                        "name": "marcpeterson",
                        "displayName": "Marc Peterson",
                        "active": true
                    },
                    "created": "2009-11-20T15:40:17.000+0000",
                    "updated": "2009-11-20T15:40:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36382",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "Looks like we've stumbled across the same problem\u00a0...I submitted a patch almost identical to what you're suggesting earlier this afternoon at http:\/\/framework.zend.com\/issues\/browse\/ZF-8364 .  There are a few other issues that talk about the same thing too, so hopefully it'll make it in.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T17:57:27.000+0000",
                    "updated": "2009-11-20T17:57:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36410",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "I fix the problem in ZF-8364.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-22T23:48:07.000+0000",
                    "updated": "2009-11-22T23:48:07.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6727\/transitions"
}