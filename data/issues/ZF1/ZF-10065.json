{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10065",
    "key": "ZF-10065",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Radio Element adds a Label decorator automatically"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10065\/votes",
                "votes": 4,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/3",
                "name": "Duplicate"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-07-30T13:58:38.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gog",
                "name": "gog",
                "displayName": "Goran Juric",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-06-28T06:09:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-07-30T13:58:38.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using radio element with a custom decorator (for example view script decorator) and you do not set the disableLoadDefaultDecorators flag to true the element adds a label decorator to the element.\r\n\r\nThis is not consistent with how other elements work, and in my case it causes the element to render an extra label decorator.\r\n\r\nCommit 22151 in the Subversion changed the way Zend_Form_Element_Radio loads decorators.\r\n\r\nWhat has changed can be seen here:\r\nhttp:\/\/framework.zend.com\/code\/browse\/Standard_Library\/standard\/trunk\/library\/Zend\/Form\/Element\/Radio.php?r1=20096&r2=22151 and the commit message refers to the issue ZF-9682.\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10065\/watchers",
                "isWatching": false,
                "watchCount": 5
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-11517",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11517",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10470",
                    "id": 10470,
                    "description": "Mini Release",
                    "name": "1.10.6",
                    "userReleaseDate": "22\/Jun\/10",
                    "archived": false,
                    "releaseDate": "2010-06-22",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41929",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=masterbo",
                        "name": "masterbo",
                        "displayName": "Boyan Krastev",
                        "active": true
                    },
                    "body": "Adding a simple check if there are decorators set will fix the issue.\r\n\r\nAlso the @return type is wrong. Should be Zend_Form_Element_Radio.\r\n\r\n{code}\r\n\r\n    \/**\r\n     * Load default decorators\r\n     *\r\n     * Disables \"for\" attribute of label if label decorator enabled.\r\n     *\r\n     * @return void\r\n     *\/\r\n    public function loadDefaultDecorators()\r\n    {\r\n        if ($this->loadDefaultDecoratorsIsDisabled()) {\r\n            return $this;\r\n        }\r\n\r\n        \/**\r\n         * Check if there are decorators set\r\n         *\/\r\n        $decorators = $this->getDecorators();\r\n        if (!empty($decorators)) {\r\n            return $this;\r\n        }\r\n\r\n        parent::loadDefaultDecorators();\r\n        $this->addDecorator('Label', array('tag' => 'dt',\r\n                                           'disableFor' => true));\r\n        return $this;\r\n    }\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=masterbo",
                        "name": "masterbo",
                        "displayName": "Boyan Krastev",
                        "active": true
                    },
                    "created": "2010-08-10T01:44:38.000+0000",
                    "updated": "2010-08-10T01:44:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43525",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sico",
                        "name": "sico",
                        "displayName": "Simon Corless",
                        "active": true
                    },
                    "body": "Why not check for a label decorator and if there is one set the disableFor attribute to true. If there isn't a label then add the default one as normal and set the disableFor.\r\n\r\n{noformat}$this->getDecorator('Label')->setOption('disableFor', true);{noformat} \r\n\r\nAs an additional problem this also overwrites any changes you make such as to the requiredSuffix and optionalSuffix.\r\n\r\nIn fact could the whole method be changed to the following:\r\n\r\n{noformat}public function loadDefaultDecorators()\r\n    {\r\n        parent::loadDefaultDecorators();\r\n\r\n        if (!($label = $this->getDecorator('Label'))) {\r\n            return $this;\r\n        }\r\n\r\n        $label->setOption('disableFor', true);\r\n        \r\n        return $this;\r\n    }{noformat}\r\n\r\nThe parent::loadDefaultDecorators(); takes care of the first if() in the new method itself. Then you just check for a label and disable the for option.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sico",
                        "name": "sico",
                        "displayName": "Simon Corless",
                        "active": true
                    },
                    "created": "2010-12-08T14:21:56.000+0000",
                    "updated": "2010-12-08T14:21:56.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10065\/transitions"
}