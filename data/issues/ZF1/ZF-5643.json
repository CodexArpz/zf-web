{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5643",
    "key": "ZF-5643",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Config_Writer_Xml creates illegal nodes if key is numeric"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5643\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10291",
                    "id": 10291,
                    "description": "Mini Release",
                    "name": "1.7.7",
                    "userReleaseDate": "16\/Mar\/09",
                    "archived": false,
                    "releaseDate": "2009-03-16",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-03-10T09:01:29.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pimpinonline",
                "name": "pimpinonline",
                "displayName": "Kyle Mizell",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-01-27T09:54:45.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-05-22T01:04:34.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "If you try to create an XML config using a multidimensional array ( say from a database select ), and the keys are numeric, it generates an XML config that cannot be read into Zend_Config_Xml ( because it has illegal nodes ).\n\nI believe a fix could be as such:\n\nprotected function _addBranch(Zend_Config $config, SimpleXMLElement $xml)\n    {\n        foreach ($config as $key => $value) {\n            if ($value instanceof Zend_Config) {\n\tif (is_numeric($key)) {\n                \t        $child = $xml->addChild('node_' . $key);\n\t} else {\n\t        $child = $xml->addChild($key);\n\t}\n                $this->_addBranch($value, $child);\n            } else {\n                $xml->addChild($key, (string) $value);\n            }\n        }\n    }"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/2",
                "name": "Critical"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5643\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                "name": "dasprid",
                "displayName": "Ben Scholzen",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10250",
                    "id": 10250,
                    "description": "Mini Release",
                    "name": "1.7.3",
                    "userReleaseDate": "19\/Jan\/09",
                    "archived": false,
                    "releaseDate": "2009-01-19",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10371",
                    "id": 10371,
                    "name": "Zend_Config_Writer",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29337",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "Adding prefixes is not a good solution, as the user doesn't expect it.\n\nActually, Zend_Config supports numeric arrays with any key-order, thus it allows you to fill in the database result without any problem. Zend_Config_Xml now supports numeric arrays as well, not with any key-order by repeating an element multiple times, which will result in an numeric array starting from 0 to X.\n\nSo we have those two options:\n\na) Zend_Config_Writer_Xml sees a numeric key and throws an exception.\nb) Zend_Config_Writer_Xml looks up the current array, and if it finds a numeric key, it ignores the key value itself and just creates the numeric array in XML, so that Zend_Config_Xml can read it. Tho this will loose the numeric indexes.\n\nAny suggestions? Personally I'd use case b).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-03-09T03:47:18.000+0000",
                    "updated": "2009-03-09T03:47:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31245",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=renepardon",
                        "name": "renepardon",
                        "displayName": "Christoph, Ren\u00e9 Pardon",
                        "active": true
                    },
                    "body": "Hello,\n\nI get the same error as described above:\n\nCatchable fatal error: Object of class Zend_Config could not be converted to string in \/usr\/share\/php\/Zend\/Config\/Writer\/Xml.php on line 182\n\nI tried to overwrite my config.xml file with multidimensional array included like:\n\n<zend-config>\n  <notification>\n    <adress name=\"firstname lastname\" mail=\"mail@domain.de\" \/>\n    <adress name=\"firstname2 lastname2\" mail=\"mail2@domain.de\" \/>\n  <\/notification>\n<\/zend-config>\n\nThis is the code i used:\n\n                $pathtoconfig = realpath(dirname(__FILE__) . '\/..\/..\/');\n                $config = new Zend_Config_Xml($pathtoconfig . '\/config.xml', null, array('skipExtends' => true, 'allowModifications' => true));\n\/\/\t\t$configarray\t=\t$config->toArray();\n\/\/\t\t$config\t=\tnew Zend_Config($configarray,true);\n\t\t$config->newtry = array();\n\n\t\t$config->setExtend('newtry', 'default');\n\t\t\n\t\t$config->newtry->templateid = 2;\n\t\t$config->newtry->layout = 'lachmichwech';\n\t\t\n\t\t$config->newtry->sendmail = array();\n\t\t$config->newtry->sendmail->reseller = array();\n\t\t\n\t\t$config->newtry->sendmail->reseller->adress = array('name' => 'firstname lastname, 'mail' => 'mail@domain.net');\n\t\t\n\t\t$writer = new Zend_Config_Writer_Xml();\n\t\t$writer->setConfig($config);\n\t\t$writer->setFilename($pathtoconfig . '\/test.xml');\n\t\t\n\t\t$writer->write();\n\nThank you for your help.\n\ngreets",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=renepardon",
                        "name": "renepardon",
                        "displayName": "Christoph, Ren\u00e9 Pardon",
                        "active": true
                    },
                    "created": "2009-05-22T00:41:53.000+0000",
                    "updated": "2009-05-22T00:41:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31247",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=renepardon",
                        "name": "renepardon",
                        "displayName": "Christoph, Ren\u00e9 Pardon",
                        "active": true
                    },
                    "body": "Hello again,\n\nwe (our company) has fixed the problem now. Here is the solution:\n\n\/\/ FIXME Zend\/Config\/Writer\/Xml.php line (182) \n$child = $parent->addChild($branchName -,(string) $value-); \n\nNow it's possible to write childs with numeric keys and array values.\n\ngreets",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=renepardon",
                        "name": "renepardon",
                        "displayName": "Christoph, Ren\u00e9 Pardon",
                        "active": true
                    },
                    "created": "2009-05-22T01:04:34.000+0000",
                    "updated": "2009-05-22T01:04:34.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5643\/transitions"
}