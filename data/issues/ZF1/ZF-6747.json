{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6747",
    "key": "ZF-6747",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend\/Application\/Resource\/Navigation issue"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6747\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-07-23T19:47:18.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                "name": "gerardroche",
                "displayName": "bullfrogblues",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-20T08:40:17.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-06-04T00:39:37.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Zend_Application_Resource_Navigation"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Fatal error when using Zend_Application Navigation Resource with custom view resource in bootstrap\n\nref: http:\/\/www.nabble.com\/Zend-Framework-f15440.html\npossibly related http:\/\/www.nabble.com\/Zend_Navigation-and-Zend_Application-configs-td23635058.html\n\n\nreproduce:\n\n\nSet up a ZF project via Quickstart zf Command Line Tool (which is great :))\n\nAdd to application.ini\n\nresources.view[] =\nresources.layout.layoutPath = APPLICATION_PATH \"\/layouts\/scripts\"\nresources.navigation.pages.indexFoo.label = \"Foo\"\nresources.navigation.pages.indexFoo.controller = \"index\"\nresources.navigation.pages.indexFoo.action = \"foo\"\nresources.navigation.pages.indexBar.label = \"Bar\"\nresources.navigation.pages.indexBar.controller = \"index\"\nresources.navigation.pages.indexBar.action = \"bar\"\n\nIn the view\n\necho $this->navigation()->menu();\n\nEverything works great, the menu is echoed as expected.\n\n\nBut if you now add a custom view resource in the bootstrap the menu disappears?\n\ne.g.\n\n    protected function _initView()\n    {\n        \/\/ Initialize view\n        $view = new Zend_View();\n        $view->doctype('XHTML1_STRICT');\n        $view->headTitle('My First Zend Framework Application');\n\n        \/\/ Add it to the ViewRenderer\n        $viewRenderer = Zend_Controller_Action_HelperBroker::getStaticHelper(\n            'ViewRenderer'\n        );\n        $viewRenderer->setView($view);\n\n        \/\/ Return it, so that it can be stored by the bootstrap\n        return $view;\n    }\n\n\nif you then comment out view resource config  in application.ini\ni.e.\n;resources.view[] =\n\nyou get a fatal error:\n\nFatal error: Call to a member function getView() on a non-object in path\\to\\1.8.1\\library\\Zend\\Application\\Resource\\Navigation.php on line 100"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6747\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                "name": "freak",
                "displayName": "Dolf Schimmel (Freeaqingme)",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-7061",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7061",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10390",
                    "id": 10390,
                    "name": "Zend_Application",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31187",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Assigning to Robin.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-20T09:29:31.000+0000",
                    "updated": "2009-05-20T09:29:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31188",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Assigning to Dolf, because he wrote the navigation resource (plus I'm super busy until june, and not too familiar with Zend_Application yet).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-20T09:41:42.000+0000",
                    "updated": "2009-05-20T09:41:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31952",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "I set the priority of this issue to minor when creating it though I think it should be upgraded. \n\nWhy?\n\nUse of the navigation resource (from configs file e.g ini) requires altering any bootstraps in your app that use a view initializer  i.e. \"_initView()\" . And though making the changes may very well be trivial I think the upgrade of priority is justified.\n\n\nFYI: The workaround for use of the navigation resource from configs is simply to rename your view inializer and retrieving the view resource for manipulation: \n{noformat} \n    public function _initViewNotNamedInitView()\n    {\n        $view = $this->bootstrap('view')->getResource('view');\n        \/\/ now make your changes to the view\n    }\n{noformat} \n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-06-18T07:06:43.000+0000",
                    "updated": "2009-06-18T07:06:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32028",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=melchior",
                        "name": "melchior",
                        "displayName": "Marco Frank",
                        "active": true
                    },
                    "body": "I think the problem lies in Zend_Application_Resource_View\n\nThe navigation view helper always tries to get the view by: (row.99) \n\n$view = $this->getBootstrap()->getPluginResource('view')->getView();\n\n\nI use custom smarty view class, that gets initialized in Bootstrap.php. So the view plugin resource never knows from smarty view because it never gets (wanted) used\/inited.\n\nrelated issue in zend view resource:\nhttp:\/\/framework.zend.com\/issues\/browse\/ZF-7061 \n\n\nregards,\nmarco",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=melchior",
                        "name": "melchior",
                        "displayName": "Marco Frank",
                        "active": true
                    },
                    "created": "2009-06-21T00:21:11.000+0000",
                    "updated": "2009-06-21T00:21:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32890",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Fixed with r17016\nMerged into 1.9 branch with r17017",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-07-23T19:47:17.000+0000",
                    "updated": "2009-07-23T19:47:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46541",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ding",
                        "name": "ding",
                        "displayName": "Jon",
                        "active": true
                    },
                    "body": "This issue is still present in 1.11.6 using the setup from documentation: \r\n\r\nhttp:\/\/framework.zend.com\/manual\/en\/zend.application.available-resources.html#zend.application.available-resources.view\r\n\r\nBy putting that into the application.ini the very same fatal error appears.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ding",
                        "name": "ding",
                        "displayName": "Jon",
                        "active": true
                    },
                    "created": "2011-05-11T19:29:28.000+0000",
                    "updated": "2011-05-11T19:29:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46972",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Yet I've been unable to think of a unittest that would demonstrate this 'faulty' behavior. Please provide a unittest that currently fails, and would pass after the issue has been fixed. If none can be provided I'll once again close this issue as resolved.\r\n\r\nThank you for helping making ZF better.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2011-06-04T00:39:37.000+0000",
                    "updated": "2011-06-04T00:39:37.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6747\/transitions"
}