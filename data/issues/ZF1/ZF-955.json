{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-955",
    "key": "ZF-955",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "No results for some queries after upgrading"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-955\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-03-02T06:56:21.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mkrkac",
                "name": "mkrkac",
                "displayName": "Marin Krkac",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-02-23T09:55:23.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:51.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "After upgrading from 0.7 to 0.8 I'm getting no results for some queries (simple, one word only).\n\nI don't know exactly what interface changes have been made, maybe I'm doing something wrong. It would be nice to have a short migration guide, like there is for Zend_Controller.\n\nThe only things I changed are:\n- {{new Zend_Search_Lucene($indexPath);}} => {{Zend_Search_Lucene::open($indexPath);}}\n- {{new Zend_Search_Lucene($indexPath, true);}} => {{Zend_Search_Lucene::create($indexPath);}}\n\nI tried re-indexing everything multiple times with different analyzers, it didn't help.\nAfter the re-indexing, the index is not optimized (except for the auto-optimization). If I optimize it with Zend_Search_Lucene I start getting some results for those queries, but some of the results are wrong. If I re-index everything and optimize it with Luke, it appears to be working correctly.\n\nI know the description is not very helpful but I was unable to find any other clues. I'm using PHP 5.2.1."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-955\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                "name": "alexander",
                "displayName": "Alexander Veremyev",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-1002",
                    "issue": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1002",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10021",
                    "id": 10021,
                    "name": "Zend_Search_Lucene",
                    "description": "pure PHP robust, general purpose text search engine",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12983",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "body": "Could you give an example of queries and index itself (attach it to the issue or put it somewhere and give an url)? ",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "created": "2007-02-26T11:48:36.000+0000",
                    "updated": "2007-02-26T11:48:36.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12999",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mkrkac",
                        "name": "mkrkac",
                        "displayName": "Marin Krkac",
                        "active": true
                    },
                    "body": "Here are two samples:\n- [sample1|http:\/\/www.woofiles.com\/dl-221-hqBNonbM-sample1searchindex.tar.bz2]\n- [sample2|http:\/\/www.woofiles.com\/dl-220-5HmK115I-sample2searchindex.tar.bz2]\n\nThe sample queries you could try are \"creole\" and \"dottie\". Both indexes return 5 results for \"creole\" and 2 results for \"dottie\" in ZF 0.7.\n\nIn ZF 0.8, both indexes return no results for either \"creole\" or \"dottie\".\n\nIf I optimize the first index with Zend_Search_Lucene in ZF 0.8, I get 5 results for \"creole\" and 2 results for \"dottie\", but some of the results are wrong. If I optimize it with Luke or PyLucene, the results are correct.\n\nIf I optimize the second index with either Zend_Search_Lucene in ZF 0.8 or Luke or PyLucene, the results are correct.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mkrkac",
                        "name": "mkrkac",
                        "displayName": "Marin Krkac",
                        "active": true
                    },
                    "created": "2007-02-26T14:44:40.000+0000",
                    "updated": "2007-02-26T14:44:40.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13094",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "body": "Just fixed this. Very stupid bug :I\n\n> If I optimize the first index with Zend_Search_Lucene in ZF 0.8, I get 5 results for \"creole\" and 2 results for \"dottie\", \n> but some of the results are wrong. If I optimize it with Luke or PyLucene, the results are correct.\n\nPlease remember, that Zend_Search_Lucene searches through all fields by default.\nUse:\n-------------\n$index->find('registeredName:creole')\n-------------\nor\n-------------\nZend_Search_Lucene::setDefaultSearchField('registeredName');\n$index->find('creole');\n-------------\nto get the same result as Java Lucene.\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "created": "2007-03-02T06:56:21.000+0000",
                    "updated": "2007-03-02T06:56:21.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13102",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mkrkac",
                        "name": "mkrkac",
                        "displayName": "Marin Krkac",
                        "active": true
                    },
                    "body": "I'm sorry, I forgot to mention that I'm using {{Zend_Search_Lucene::setDefaultSearchField('registeredName');}}.\n\nIf I optimize the first index (sample1) with Zend_Search_Lucene from SVN, I still get the correct number of results with some of them being wrong. Luke is also giving me the same results (correct number of results, but some of them are wrong).\n\nBut if I re-index everything, I can't find any more problems. I'm getting the correct results no matter if the index is optimized or not and no matter what I'm using to optimize it.\n\nThank you.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mkrkac",
                        "name": "mkrkac",
                        "displayName": "Marin Krkac",
                        "active": true
                    },
                    "created": "2007-03-02T09:56:40.000+0000",
                    "updated": "2007-03-02T09:56:40.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-955\/transitions"
}