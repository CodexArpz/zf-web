{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8533",
    "key": "ZF-8533",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Db_Table_Abstract _fetch() returns only arrays"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8533\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-12-22T10:16:34.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                "name": "mittax",
                "displayName": "peter b\u00f6thig",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-12-12T13:12:57.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-12-22T10:16:34.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The _fetchAll methode use a hardcoded Constant\r\n{code}\r\nprotected function _fetch(Zend_Db_Table_Select $select)\r\n    {\r\n        $stmt = $this->_db->query($select);\r\n        $data = $stmt->fetchAll(Zend_Db::FETCH_ASSOC);\r\n        return $data;\r\n    }\r\n{code}\r\ni created a patch. It gets the current given constant of the db_Adapter.\r\n{code}\r\n\r\n protected function _fetch(Zend_Db_Table_Select $select) {\r\n        $stmt = $this->_db->query($select);\r\n        $data = $stmt->fetchAll($this->_db->getFetchMode());\r\n        return $data;\r\n    }\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8533\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                "name": "ramon",
                "displayName": "Ramon Henrique Ornelas",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-8534",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8534",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10390",
                    "id": 10390,
                    "description": "Mini Release",
                    "name": "1.9.6",
                    "userReleaseDate": "24\/Nov\/09",
                    "archived": false,
                    "releaseDate": "2009-11-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10012",
                    "id": 10012,
                    "name": "Zend_Db",
                    "description": "interfaces, APIs, and adapters for various third-party data stores",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36882",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "body": "Sorry. Is there an Option to use 2 CodeBlocks. One for the issue and one for the solvation?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "created": "2009-12-12T13:20:27.000+0000",
                    "updated": "2009-12-12T13:20:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36901",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "body": "I could figure it out.\r\n\r\nI used in the model the var rowClass and pointed to the model itself. That causes an error of return only array when i fetchAll() on the modelobject, even when i setFetchMode(Zend_Db::Fetch_OBJ).\r\n\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "created": "2009-12-14T04:07:48.000+0000",
                    "updated": "2009-12-14T04:07:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37089",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "body": "If change is applied to cause problem to other components of the Db.\r\nExample: Zend_Db_Table_Row.\r\n\r\nI do not see this issue as a bug but an improvement.\r\n\r\n@peter\r\nBecause of this improvement?\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "created": "2009-12-20T13:57:13.000+0000",
                    "updated": "2009-12-20T13:57:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37096",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "body": "@ramon\r\n\r\nthe problen i see is the following: \r\ni wrongly set the $_RowClass in my Modelfile to Admin(s).php in Admins.php instead to set it to Admin.php (my rowclassfile).\r\n\r\nThis simple mistake causes a return of type array in fetchAll(). It took 3 hours to find the error.\r\nSo i tried to set the returnvalue explizit to object with setFethMode() but with not success.\r\n\r\nIt would be very helpfull if the framework would throw an exception of \"missing correct _rowClass definition\" or something in that way.\r\n\r\nI could only find my mistake of debugging the framework. \r\n\r\nChange the hardcoded Constant to dynamic getFechtmode in _fetch() causes another problem.\r\nThe rowclass needs assoc as returnvalue to return an array with resultrows.\r\n\r\ngreets\r\n\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "created": "2009-12-21T01:42:56.000+0000",
                    "updated": "2009-12-21T01:42:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37104",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "I am not sure what the feature\/bug issue is here.\r\n\r\nZend_Db_Table only deals in associative information, as the keys map directly to properties in an object.  Other fetch modes would not make must sense.  Can someone help me understand the issue here?\r\n\r\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-12-21T10:15:33.000+0000",
                    "updated": "2009-12-21T10:15:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37105",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "body": "@ ralph\r\n\r\nits correct, that the result of zend_db_table_row only can be type array. the incorrect use of _rowClass causes a return of array by using zend_db_table_abstract::fetchAll()  instead of type object.\r\n\r\nif $_rowClass would throw an exeption if it points to itselfs or another zend_db_table_abstract class it would be very helpful. Not only for beginners like me.  ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mittax",
                        "name": "mittax",
                        "displayName": "peter b\u00f6thig",
                        "active": true
                    },
                    "created": "2009-12-21T11:10:07.000+0000",
                    "updated": "2009-12-21T11:10:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37131",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "body": "@ralph\r\n\r\nI commented on this  does not  change was feasible and does not make sense, that would cause some problems in Row.\r\n\r\nI will close this issue as \"Not a issue\".\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "created": "2009-12-22T02:06:18.000+0000",
                    "updated": "2009-12-22T02:06:18.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8533\/transitions"
}