{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11845",
    "key": "ZF-11845",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Wrong file permission in Zend_Search_Lucene"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11845\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-12-01T14:20:46.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                "name": "blacky1707",
                "displayName": "Dirk Schwarz",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-10-26T07:52:10.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-12-01T14:20:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "protected static $_defaultFilePermissions = '0777';\r\n\r\nis a string, should be integer or you should use octdec() to convert when using file permissions in fopen\r\n\r\n\r\nsee: http:\/\/de.php.net\/manual\/de\/function.chmod.php (comments)\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11845\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zf-caretaker-adamlundrigan"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10981",
                    "id": 10981,
                    "description": "Mini Release",
                    "name": "1.11.11",
                    "userReleaseDate": "29\/Sep\/11",
                    "archived": false,
                    "releaseDate": "2011-09-29",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10021",
                    "id": 10021,
                    "name": "Zend_Search_Lucene",
                    "description": "pure PHP robust, general purpose text search engine",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48804",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "What version of Zend Framework are you using?\r\n\r\nCould you please specify the file you found this in.  When searching against trunk, the only file I could find {{$_defaultFilePermissions}} in was {{Zend_Search_Lucene_Storage_Directory_Filesystem}}, and it has it's value (0666) initialized properly (ie: not a string). ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-10-26T16:38:43.000+0000",
                    "updated": "2011-10-26T16:39:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48810",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "body": "I'm using version 1.11.11 and the revision of the file Filesystem.php is: 23964. The class is Zend_Search_Lucene_Storage_Directory_Filesystem and in the version I have, the variable is defined as\r\n\r\nprotected static $_defaultFilePermissions = '0777';\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "created": "2011-10-27T06:44:50.000+0000",
                    "updated": "2011-10-27T06:44:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48811",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "body": "BTW, the function getDefaultFilePermissions() is considered to return integer, but returns a string\r\n\r\n    \/**\r\n     * Get default file permissions\r\n     *\r\n     * @return integer\r\n     *\/\r\n    public static function getDefaultFilePermissions()\r\n    {\r\n        return self::$_defaultFilePermissions;\r\n    }",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "created": "2011-10-27T06:46:45.000+0000",
                    "updated": "2011-10-27T06:46:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48815",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Are you sure something hasn't changed locally in your ZF copy?  Looking into the release-1.11.11 svn tag, that file at r23964 looks like this:\r\nhttp:\/\/framework.zend.com\/code\/filedetails.php?repname=Zend+Framework&path=%2Ftags%2Frelease-1.11.11%2Flibrary%2FZend%2FSearch%2FLucene%2FStorage%2FDirectory%2FFilesystem.php\r\n\r\nAn interesting thing I came across while researching this is that the release-1.11.11 file is at r23964, but the same file in trunk is at r23906 ([see here|http:\/\/framework.zend.com\/code\/filedetails.php?repname=Zend+Framework&path=%2Ftrunk%2Flibrary%2FZend%2FSearch%2FLucene%2FStorage%2FDirectory%2FFilesystem.php])",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-10-27T18:09:50.000+0000",
                    "updated": "2011-10-27T18:09:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48839",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "body": "Yes, I'm sure. We are working with symlinks and a centralized copy of ZF. The Version is 1.11.11 (FULL) which was downloaded on 29th of September 2011 (day of the release). I'm downloading the latest version and going to doublecheck the file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "created": "2011-10-28T07:02:28.000+0000",
                    "updated": "2011-10-28T07:02:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48841",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "body": "Looks like the file I downloaded on 29th of October is different from the current version I downloaded a few minutes ago. But the file Version.php contains 1.11.11 with r24483 WTF??? ;-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=blacky1707",
                        "name": "blacky1707",
                        "displayName": "Dirk Schwarz",
                        "active": true
                    },
                    "created": "2011-10-28T07:42:39.000+0000",
                    "updated": "2011-10-28T07:42:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48846",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "That is unusual.  I can't recall exactly when I downloaded my local copy of 1.11.11 full release, but it has the correct file (library\/Zend\/Search\/Lucene\/Storage\/Directory\/Filesystem.php @ r23964).  Do you still have the archive file you downloaded on Sept 29th?\r\n\r\n-In the meantime, I'll look into the trunk vs. release-1.11.11 issue to find out why trunk has an older revision of library\/Zend\/Search\/Lucene\/Storage\/Directory\/Filesystem.php-\r\nThis is just due to the fact that there was a length of time between commit to trunk (r23906) and merging to release (r23964).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-10-28T13:45:22.000+0000",
                    "updated": "2011-10-28T13:47:50.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11845\/transitions"
}