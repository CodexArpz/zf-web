{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6775",
    "key": "ZF-6775",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Unable to send arrays through AMF from Java"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6775\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10331",
                    "id": 10331,
                    "description": "Mini Release",
                    "name": "1.8.3",
                    "userReleaseDate": "09\/Jun\/09",
                    "archived": false,
                    "releaseDate": "2009-06-09",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-06-03T00:52:12.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                "name": "sunilbg",
                "displayName": "Sunil",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-22T02:09:31.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-06-03T00:52:11.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Summary: , I'm sending a Java Primitive Array(String[]) in Java and it is going as Array Reference and this is not being deserialized correctly by the Zend PHP framework, however it works fine when I call this from a Flex Project, where an Array is sent and not Array Reference. (Attached are the images which show the AMF request being sent)\n\nDescription:\n\nI have a php class which has a method as shown below.\n\npublic function testarray($arr) \n{\n\treturn $arr;\n}\n\nI'm invoking this method using the AMFConnection class available as part of BlazeDS (flex.messaging.io.amf.client.AMFConnection), through the following code.\n\nAMFConnection amfConnection = new AMFConnection();\namfConnection.setObjectEncoding(3);\namfConnection.setInstantiateTypes(false);\n \nObject[] args = new Object[1];\nargs[0] = new String[]{\"a\",\"b\"};\namfConnection.connect(\"http:\/\/localhost\/phpproject\/gateway.php\");\n \nRemotingMessage message = new RemotingMessage();\nmessage.setMessageId(flex.messaging.util.UUIDUtils.createUUID());\nmessage.setOperation(\"testArray\");\nmessage.setBody(args);\nmessage.setSource(\"testPhp\");\nmessage.setDestination(\"GenericDestination\");\n \nreturnValue = amfConnection.call(null, message);\n \nThe return value from the server is the argument that is passed, i.e. I should get the array with strings a,b, but I'm getting 0 as the arguments were not passed correctly\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6775\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                "name": "wadearnold",
                "displayName": "Wade Arnold",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11948",
                    "filename": "PHPArray-debug.zip",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-25T00:37:07.000+0000",
                    "size": 4530,
                    "mimeType": "application\/zip",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11948\/PHPArray-debug.zip"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11947",
                    "filename": "TestAMF.zip",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-25T00:35:41.000+0000",
                    "size": 2586,
                    "mimeType": "application\/zip",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11947\/TestAMF.zip"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11939",
                    "filename": "UsingAMFConnection.JPG",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-22T02:10:36.000+0000",
                    "size": 60559,
                    "mimeType": "image\/jpeg",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11939\/UsingAMFConnection.JPG",
                    "thumbnail": "http:\/\/fw02.zend.com\/issues\/secure\/thumbnail\/11939\/_thumb_11939.png"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11940",
                    "filename": "UsingFlex.JPG",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-22T02:11:27.000+0000",
                    "size": 51779,
                    "mimeType": "image\/jpeg",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11940\/UsingFlex.JPG",
                    "thumbnail": "http:\/\/fw02.zend.com\/issues\/secure\/thumbnail\/11940\/_thumb_11940.png"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10350",
                    "id": 10350,
                    "name": "Zend_Amf",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31248",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "This is using Java",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-22T02:10:36.000+0000",
                    "updated": "2009-05-22T02:10:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31249",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "This is using flex",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-22T02:11:27.000+0000",
                    "updated": "2009-05-22T02:11:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31264",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "Not being a java guy can you upload your java files that I could use to test this? \n\nThanks! \nWade",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-05-22T08:30:59.000+0000",
                    "updated": "2009-05-22T08:30:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31269",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "body": "I tested string arrays on flex (a = [\"a\", \"b\"]) and it works just fine. I can not test Java code here. Could you please have Flex example that reproduces the problem so I could test it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "created": "2009-05-22T10:03:17.000+0000",
                    "updated": "2009-05-22T10:03:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31314",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "It works only in Flex application, it does not work in Java.  Attached are the Java and PHP files.\n\na. Import the attached TestAMF java project in eclipse \nb. download the blazeds.war file from http:\/\/opensource.adobe.com\/wiki\/display\/blazeds\/download+blazeds+trunk and extract that and add the following 2 jars in the libraries section of project properties. flex-messaging-core.jar and flex-messaging-common.jar\nc. extract the phparray-debug.zip to your webroot and make sure your zend installation is there @ webroot\nd. run the applicaiton, notice the return value is 0 instead of the array a, b which is passed from Java",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-25T00:32:24.000+0000",
                    "updated": "2009-05-25T00:32:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31315",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "The java project to test",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-25T00:35:41.000+0000",
                    "updated": "2009-05-25T00:35:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31316",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "The php files and the zend gateway.php file are part of this zip",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-05-25T00:37:07.000+0000",
                    "updated": "2009-05-25T00:37:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31528",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "body": "If it works with flex, then how do you know the problem is with our code? What Java does differently from flex so flex works but Java doesn't?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "created": "2009-06-01T08:56:15.000+0000",
                    "updated": "2009-06-01T08:56:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31530",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "We are using the Java Implementation of flash's Netconnection as indicated in the earlier cmment which is the AMFConnection class. It is sending an ArrayReference. An ArrayReference in Java is just a reference to an already declared array in the AMF body. According to AMF protocol, any AMF supporting backend should support ArrayReferences too",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-06-01T09:56:16.000+0000",
                    "updated": "2009-06-01T09:56:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31531",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "body": "Also, If you notice in the AMF message, the body returns the internal \"parameters\" list. There's also a parameters value that has the original \"parameters\" list as well which means that both \"body\" and \"parameters\" refer to the same object and the one that you are getting in the body is ArrayReference.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sunilbg",
                        "name": "sunilbg",
                        "displayName": "Sunil",
                        "active": true
                    },
                    "created": "2009-06-01T10:18:01.000+0000",
                    "updated": "2009-06-01T10:18:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31560",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "body": "Fixed, thanks.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "created": "2009-06-03T00:52:10.000+0000",
                    "updated": "2009-06-03T00:52:10.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6775\/transitions"
}