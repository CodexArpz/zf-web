{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4026",
    "key": "ZF-4026",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "requests object does not clear previous user params"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4026\/votes",
                "votes": 3,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10362",
                    "id": 10362,
                    "description": "Mini Release",
                    "name": "1.9.3",
                    "userReleaseDate": "22\/Sep\/09",
                    "archived": false,
                    "releaseDate": "2009-09-22",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-09-17T10:05:55.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=huyby",
                "name": "huyby",
                "displayName": "Stijn Huyberechts",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-08-21T08:39:16.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-09-17T10:05:55.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi,\n\nI'm building a CMS system upon the Zend Framework. But I'm having troubles with the Request object, which seems not to \"clear\" the user params. Each page exists of several page elements; each element is a new request that is added to the actionstack. If the request's user params are printed in the IndexController everything is fine, but when I print the same request in the controller for that specific action than I see also user params of the previous actions.\n\n{code}\n\/\/ this code is in the IndexController in the \"default\" module\nforeach($elements as $arr) {\n\t\/\/ clone request object for each action\n\t$req = clone $request;\n\t\n\t\/\/ set controller, action and module name\n\t$req->setActionName($arr[\"action\"]);\n\t$req->setControllerName($arr[\"controller\"]);\n\t$req->setModuleName($arr[\"path\"]);\n\n\t$req->setParam(\"_pageElementID\", $arr[\"elementID\"]);\n\t\n\t\/\/ add custom parameters\n\tif($arr[\"params\"]) {\n\t\t$params = explode(\"\/\", $arr[\"params\"]);\n\t\tforeach($params as $param) {\n\t\t\tlist($key, $val) = explode(\"=\", $param);\n\t\t\t$req->setParam(\"_\".$key, $val);\n\t\t}\n\t}\n\t$this->_helper->actionStack($req); \/\/ add element request to action stack\n}\n{code}\n\nPrintout of two request params:\n{code}\nArray\n(\n    [_moduleContentKey] => leftmenu\n    [_pageElementID] => 14\n    [_startLevel] => 1\n    [_test] => 1\n)\n\nArray\n(\n    [_moduleContentKey] => default\n    [_pageElementID] => 3\n    [_startLevel] => 1   \/\/ parameter is a \"leftover\" from the previous action\n    [_test] => 1              \/\/ parameter is a \"leftover\" from the previous action\n    [_showRoot] => 1  \n)\n{code}\n\nPossible solution:\n\nAdd a clearParams method to Zend_Controller_Request_Http:\n\n{code}\n    public function clearParams()\n    {\n       $this->_params = array()\n    }\n{code}\n\nThen this method should be called from the ActionStack plugin when the _forward method is triggered for the next action.\n\nIs this the right way to handle this problem? Honestly I don't like to change the code from the Zend Framework...\n\nThx in advance for your comments and advice,\n\nCheers,\n\nStijn\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4026\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                "name": "lightflowmark",
                "displayName": "Mark",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12109",
                    "filename": "ZF-4026_fix.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-28T02:05:29.000+0000",
                    "size": 4950,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12109\/ZF-4026_fix.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12110",
                    "filename": "ZF-4026_test.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-28T02:05:35.000+0000",
                    "size": 2319,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12110\/ZF-4026_test.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30607",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "This is a more serious bug than perhaps it has appeared, as it prohibits the use of ActionStack in many cases.  It's a trivial fix (it seems) and would be good to solve.\n\nAnother (possibly simpler) solution would be to replace the ActionStack::forward($next) method with\npublic function forward(Zend_Controller_Request_Abstract $next)\n{\n        $this->setRequest($next);\n}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-05-03T03:10:00.000+0000",
                    "updated": "2009-05-03T03:10:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31111",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=poni1111",
                        "name": "poni1111",
                        "displayName": "Andrei Iarus",
                        "active": true
                    },
                    "body": "Follow the comments of the issue http:\/\/www.nabble.com\/Menu-in-ZF%3A-Controller-Plugin-with-postDispatch-method-td23306086.html#a23315051 \nThe problem described there seems to be related.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=poni1111",
                        "name": "poni1111",
                        "displayName": "Andrei Iarus",
                        "active": true
                    },
                    "created": "2009-05-18T10:52:52.000+0000",
                    "updated": "2009-05-18T10:52:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31116",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "Added code tags.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2009-05-18T14:03:46.000+0000",
                    "updated": "2009-05-18T14:03:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31124",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "body": "Please don't change the behaviour of _forward() ! There are some use cases where it is explicitly needed that you have the parameters still available!\n\nBut I would like to see something like this:\n\n{code:php}\n\/**\n * @param string $url\n * @param bool $reset      | reset the params in Front Controller\n *\/\nprotected function _forward($url, $reset = false)\n{code}\n\nThis would not break BC!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "created": "2009-05-19T01:54:17.000+0000",
                    "updated": "2009-05-19T01:54:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32966",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "I would like to submit a patch for this issue; not sure the best place to discuss it, please let me know if these comments are not the appropriate place.\n\nI think that BC should be broken here.  The ActionStack::forward method should use the exact request object passed to it when it was created, not some frankenstein object of all the user params set in previous actionstack actions.  If an actionstack action2 relies on parameters set in a previous actionstack action1, then action1 should add action2 to the actionstack.\n\nCurrent behaviour is:\n{code}\n   public function indexAction()\n    {\n        $request = clone $this->getRequest();\n                $request->setActionName('test2');\n                $this->_helper->actionStack($request);\n\n        $request = clone $this->getRequest();\n                $request->setActionName('test1')\n                        ->setParams(array('bar' => 'baz'));\n                $this->_helper->actionStack($request);\n    }\n\n    public function test1Action()\n    {\n        $this->getRequest()->setParam('fromTest1','shouldNotBeInTest2');\n        Zend_Debug::dump($this->getRequest()->getParams());\n\/\/outputs  [\"bar\"] => string(3) \"baz\", [\"fromTest1\"] => string(3) \"shouldNotBeInTest2\"\n    }\n\n    public function test2Action()\n    {\n        Zend_Debug::dump($this->getRequest()->getParams());\n\/\/outputs  [\"bar\"] => string(3) \"baz\", [\"fromTest1\"] => string(3) \"shouldNotBeInTest2\"\n    }\n{code}\n\n\nI believe the rational & desired behaviour is for test2 to not have any parameters set when it is called like this.  If the above is the desired behaviour, then it should be coded like:\n\n{code}\n   public function indexAction()\n    {\n        $request = clone $this->getRequest();\n                $request->setActionName('test1')\n                        ->setParams(array('bar' => 'baz'));\n                $this->_helper->actionStack($request);\n    }\n\n    public function test1Action()\n    {\n        $this->getRequest()->setParam('fromTest1','shouldNotBeInTest2');\n        Zend_Debug::dump($this->getRequest()->getParams());\n\/\/outputs  [\"bar\"] => string(3) \"baz\", [\"fromTest1\"] => string(3) \"shouldNotBeInTest2\"\n\n\n          $request = clone $this->getRequest();\n          $request->setActionName('test2');\n          $this->_helper->actionStack($request);\n    }\n\n    public function test2Action()\n    {\n        Zend_Debug::dump($this->getRequest()->getParams());\n\/\/outputs  [\"bar\"] => string(3) \"baz\", [\"fromTest1\"] => string(3) \"shouldNotBeInTest2\"\n    }\n{code}\n\n\nWhat are your thoughts on breaking BC here?  I have a patch for this ready if it's acceptable.  I don't believe that this optional reset parameter suggested by Dennis is viable, as _forward is not a user-callable method.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-27T06:35:52.000+0000",
                    "updated": "2009-07-27T06:35:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32967",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "body": "A long time has passed since I add a comment to this issue.\n\nAfter re-reading everything, it seems like I have not seen the \"clone\" statement in the description. I'm not sure if there exists a reset() method for the request-object, but I still would prefer another way.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "created": "2009-07-27T06:44:50.000+0000",
                    "updated": "2009-07-27T06:44:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32968",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "There isn't a reset() method for the request object, but this isn't the main problem.  The problem is that ActionStack::forward does not call any putative reset() method; it adds parameters to the request object using setParams() (which doesn't actually set the parameters - it adds them to existing parameters).  Changing this breaks BC, but as far as I can see, it's the only way to prevent unwanted parameters being set in later ActionStack actions.\n\nWhat is your use-case for building up parameters through successive ActionStack actions?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-27T06:54:54.000+0000",
                    "updated": "2009-07-27T06:54:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32970",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "body": "It is possible, that you set a value per setParam() which will be used by more than one Action in the later use.\n\nMy main missunderstanding is the context, where you want to change that. I thought about the Action-Controller available _forward() method and as I can see, I was wrong here. The main reason why I'm still against a reset of the values is, that no one would expect that by cloning an object! For me a clone must be an exact copy, not a half copy. You never know who uses this behaviour at the moment. So I think a reset() or resetParams() method seems to be a better way instead of implementing a functionality no one would expect when using it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "created": "2009-07-27T07:10:32.000+0000",
                    "updated": "2009-07-27T07:10:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32971",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=huyby",
                        "name": "huyby",
                        "displayName": "Stijn Huyberechts",
                        "active": true
                    },
                    "body": "I'm glad to see this issue is still alive. I'm still 'patching' the ZF with my 'solution' in the original post of this issue. As I see it now, it is clear that the request object needs to have 2 separate methods to modify or add parameters:\n\nmodify (reset) parameter(s):\nZend_Controller_Request_Abstract::setParam()\nZend_Controller_Request_Abstract::setParams()\n\nadd parameter(s):\nZend_Controller_Request_Abstract::addParam()\nZend_Controller_Request_Abstract::addParams()\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=huyby",
                        "name": "huyby",
                        "displayName": "Stijn Huyberechts",
                        "active": true
                    },
                    "created": "2009-07-27T07:11:01.000+0000",
                    "updated": "2009-07-27T07:11:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32975",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "Dennis: absolutely.  No-one's suggesting that the clone does anything other than clone the request object; only that, given 2 actions in the actionstack, each with their own request object, action1 should not magically change the parameters for action2's request.\n\nStijn: I agree this is by far the best solution.  However, this seems like a big BC break; any input from the ZF team on this?\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-27T07:56:29.000+0000",
                    "updated": "2009-07-27T07:56:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32976",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This *is* a big BC break, as the parameter munging is a specific use case for which ActionStack was designed.\n\nI think we could introduce a flag to ActionStack to indicate that the request object user parameters should be cleared, but this is really the only concession I'd like to make at this time.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-07-27T08:53:38.000+0000",
                    "updated": "2009-07-27T08:53:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32977",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "Fair enough.\n\nOut of interest, what is the use case for using ActionStack to build up parameters which isn't better served by the code I outline above, where test1Action adds test2Action to the ActionStack?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-27T09:33:31.000+0000",
                    "updated": "2009-07-27T09:33:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32996",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "Patch & test done.\n\nI've added a clearParams() method to the request class, and a setClearRequestParams() method to the ActionStack class, which controls this behaviour.  It defaults to false, so bc is not broken - I think this is confusing, and that bc should be broken here.\n\nI'd still really like to see a robust defence of the current behaviour, this solution seems sub-optimal to me.\n\nI'd also be interested to know why the request setParams() actually adds parameters rather than setting the parameters, and why it's not implemented as Stijn suggested, which is the root cause of this confusion.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lightflowmark",
                        "name": "lightflowmark",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-07-28T02:05:35.000+0000",
                    "updated": "2009-07-28T02:05:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34528",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "One reason that the user params are not cleared on _forward\/ActionStack calls is due to how other components, such as ContextSwitch, do their work. Imagine a scenario where ContextSwitch is in play, and a JSON context is detected because of the \"format\" parameter found in the user params (i.e., set by the router); if you were to clear out the params, then additional actions invoked would no longer know the current context, and would be appending HTML to what should be a JSON response.\n\nI am reviewing the patch for inclusion; as long as the behavior is controlled by a flag and that the default state of the flag is the current behavior, we should be able to include it.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-09-17T09:36:44.000+0000",
                    "updated": "2009-09-17T09:36:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34531",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Patch applied in trunk and 1.9 release branch",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-09-17T10:05:52.000+0000",
                    "updated": "2009-09-17T10:05:52.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4026\/transitions"
}