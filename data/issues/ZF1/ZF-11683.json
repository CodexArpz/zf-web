{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11683",
    "key": "ZF-11683",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_View ignore callable properties"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11683\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-03-06T14:33:30.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dnk1981",
                "name": "dnk1981",
                "displayName": "Dmitry Kozlovich",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-08-18T09:24:27.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-03-06T14:33:30.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "bug",
                "error",
                "view"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have a class, for example:\r\n\r\n{code:title=App_SomeClass|borderStyle=solid}class App_SomeClass\r\n{\r\n    public method someMethod()\r\n    {\r\n        \/\/ ...\r\n    }\r\n    public method __invoke()\r\n    {\r\n        \/\/ ...\r\n    }\r\n}{code}\r\n\r\nPass the link to view: *$this->view->someObject = new App_SomeClass();*\r\nNow we can call someMethod(): *$this->someObject->someMethod();*\r\n{color:red}But we can not do so: *$this->someObject();*\r\nBecause Zend begins to look the same name Helpers, Plugins, and so on, ignoring the property.{color}\r\nI propose a solution:\r\n\r\n{code:title=Zend_View_Abstract|borderStyle=solid}abstract class Zend_View_Abstract implements Zend_View_Interface\r\n{\r\n    \/\/ ...\r\n\r\n    public function __call($name, $args)\r\n    {\r\n        \/\/ is callable property\r\n        if (property_exists($this, $name)) {\r\n            if (is_callable($this->$name)) {\r\n                return call_user_func_array($this->$name, $args);\r\n            }\r\n        }\r\n\r\n        \/\/ is the helper already loaded?\r\n        $helper = $this->getHelper($name);\r\n\r\n        \/\/ call the helper method\r\n        return call_user_func_array(\r\n            array($helper, $name),\r\n            $args\r\n        );\r\n    }\r\n\r\n    \/\/ ...\r\n}{code}\r\n\r\nThank you."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11683\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zf-crteam-review"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10780",
                    "id": 10780,
                    "description": "Mini Release",
                    "name": "1.11.8",
                    "userReleaseDate": "07\/Jul\/11",
                    "archived": false,
                    "releaseDate": "2011-07-07",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10026",
                    "id": 10026,
                    "name": "Zend_View",
                    "description": "View portion of the ZF MVC",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47999",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Actually, there's another issue at stake here: you cannot assign callables to properties and invoke them. For example, try the following:\r\n\r\n{code}\r\nclass A\r\n{\r\n    public function __invoke()\r\n    {\r\n        echo __CLASS__;\r\n    }\r\n}\r\n\r\n$o = new stdClass;\r\n$o->a = new A;\r\n$o->a();\r\n{code}\r\n\r\nYou'll get a fatal error (call to undefined method).\r\n\r\nSo, the root cause is actually not how __call() operates, but how PHP operates.\r\n\r\nNow, we could potentially add the functionality you indicate here. However, it smells like a BC break -- __call() has only ever proxied to helpers in the past, which has allowed having helpers and properties of the same name. If developers have properties that are callable currently, this would potentially break their systems, as instead of getting the exception, they may now get unexpected results.\r\n\r\nIn the meantime, while we decide this issue, for your usage, may I suggest using {{$this->someObject->__invoke()}}?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2011-08-18T13:23:19.000+0000",
                    "updated": "2011-08-18T13:23:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49932",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "I agree that this request would be difficult to implement without causing some level of BC break.  Should it be closed as \"Wont' Fix\" for ZF1, or is it still being considered for 1.12?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2012-03-06T01:51:41.000+0000",
                    "updated": "2012-03-06T01:51:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49935",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "On thinking about this, I don't think we should do this in ZF1. I have some functionality in ZF2 to somewhat mimic this behavior, but it's definitely BC-breaking behavior against ZF1.\r\n\r\nIn ZF1, I'd do:\r\n{code}\r\n$helper = $this->someObject;\r\n$helper();\r\n{code}\r\n\r\nThis will work regardless of PHP version, as well as regardless of ZF version.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-03-06T14:33:22.000+0000",
                    "updated": "2012-03-06T14:33:22.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11683\/transitions"
}