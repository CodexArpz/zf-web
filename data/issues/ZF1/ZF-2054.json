{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2054",
    "key": "ZF-2054",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Formatted month and day values are sometimes inverted"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2054\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10140",
                    "id": 10140,
                    "description": "Mini Release",
                    "name": "1.0.3",
                    "userReleaseDate": "30\/Nov\/07",
                    "archived": true,
                    "releaseDate": "2007-11-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-10-10T16:48:46.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=elazar",
                "name": "elazar",
                "displayName": "Matthew Turland",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-10-10T00:34:50.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-10-10T16:48:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "This appears to happen when the month of the given date is greater than 9. See the code below for an example exposing the bug. Note that the first call to dateTest produces the expected output, while the month and day are inverted in the fourth line of the output for the second call when strtotime() is not called on the parameter before passing it to the Zend_Date constructor, whereas the output is correct when strtotime() is called on the parameter before passing it to the Zend_Date constructor.\n\n{code:title=DateTest.php|borderStyle=solid}\ndateTest('2007-09-07 23:08:00');\n\/*\nOutput:\n$datetime = 2007-09-07 23:08:00\nstrtotime($date) = 1189224480\ndate('Y-m-d H:i:s', strtotime($datetime)) = 2007-09-07 23:08:00\n(new Zend_Date($datetime))->toString('YYYY-MM-dd HH:mm:ss') = 2007-07-09 23:08:00\n(new Zend_Date(strtotime($datetime)))->toString('YYYY-MM-dd HH:mm:ss') = 2007-09-07 23:08:00\n*\/\n\ndateTest('2007-10-09 23:08:00');\n\/*\nOutput:\n$datetime = 2007-10-09 23:08:00\nstrtotime($date) = 1191989280\ndate('Y-m-d H:i:s', strtotime($datetime)) = 2007-10-09 23:08:00\n(new Zend_Date($datetime))->toString('YYYY-MM-dd HH:mm:ss') = 2007-09-10 23:08:00\n(new Zend_Date(strtotime($datetime)))->toString('YYYY-MM-dd HH:mm:ss') = 2007-10-09 23:08:00\n*\/\n\nfunction dateTest($datetime)\n{\n    echo '$datetime = ' . $datetime . \"\\n\";\n    echo 'strtotime($date) = ' . strtotime($datetime) . \"\\n\";\n    echo 'date(\\'Y-m-d H:i:s\\', strtotime($datetime)) = ' . \n        date('Y-m-d H:i:s', strtotime($datetime)) . \"\\n\";\n    $date = new Zend_Date($datetime);\n    echo '(new Zend_Date($datetime))->toString(\\'YYYY-MM-dd HH:mm:ss\\') = ' . \n        $date->toString('YYYY-MM-dd HH:mm:ss') . \"\\n\";\n    $date = new Zend_Date(strtotime($datetime));\n    echo '(new Zend_Date(strtotime($datetime)))->toString(\\'YYYY-MM-dd HH:mm:ss\\') = ' . \n        $date->toString('YYYY-MM-dd HH:mm:ss\n}\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2054\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10130",
                    "id": 10130,
                    "description": "Mini Release",
                    "name": "1.0.2",
                    "userReleaseDate": "25\/Sep\/07",
                    "archived": true,
                    "releaseDate": "2007-09-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17131",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "What is your default locale ?\nI expect that's your problem...\n\nReason:\nIn your second example you gave an integer to Zend_Date.\nIntegers are treated as unix timestamps. This is why this example works in your eyes.\n\nIn your first example you gave an string to Zend_Date.\nStrings are treated as localized inputs. If you do not provide an locale Zend_Date uses your default locale from your browser or from your server.\n\nThe problem occurs when you give an input which differs from your default locale.\nExample:\nWhen you give '10.04.2007 10:00:00' and your default locale is 'YYYY-MM-dd HH:mm:ss' your input will not be parsed correct. There is some automatically correction... 2007 can never be a month for example, and so on.\nBut days and months smaller then 13 can not automatically be corrected.\n\nBut every \"normal\" user will give an input in the format he is familiar with.\nOr you define a input format which the user hsa to do... then use the optional parameters of Zend_Date.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-10-10T13:31:59.000+0000",
                    "updated": "2007-10-10T13:31:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17132",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Btw:\nstrtotime uses the english notation...\n\nSo if you call Zend_Date with the locale 'en' it works like strtotime.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-10-10T13:34:16.000+0000",
                    "updated": "2007-10-10T13:34:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17135",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=elazar",
                        "name": "elazar",
                        "displayName": "Matthew Turland",
                        "active": true
                    },
                    "body": "I tried changing this line:\n\n$date = new Zend_Date($datetime);\n\nto this:\n\n$date = new Zend_Date($datetime, Zend_Date::DATES, 'en_US')\n\nas per examples from the documentation and your suggestion, which I'm assuming is what you were inferring.\n\nhttp:\/\/framework.zend.com\/manual\/en\/zend.date.overview.html#zend.date.options\n\nThe output is identical. This is under PHP 5.2.4, if that's relevant.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=elazar",
                        "name": "elazar",
                        "displayName": "Matthew Turland",
                        "active": true
                    },
                    "created": "2007-10-10T13:56:43.000+0000",
                    "updated": "2007-10-10T13:56:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17143",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "No... you are assuming wrong.\n\nThe standard format for en_US is \"MMM d, yyyy\"...\nYou are giving \"YYYY-MM-dd\" as input.\n\nSo eighter you use the right locale-input\nOR\nif you know that your input is always formatted as ISO you should always use the format Zend_Date::ISO_8601 for your input\n\nBtw:\nRunning your code I am not receiving the output you gave... but this is because my default locale differs from yours.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-10-10T16:24:44.000+0000",
                    "updated": "2007-10-10T16:24:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17144",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=elazar",
                        "name": "elazar",
                        "displayName": "Matthew Turland",
                        "active": true
                    },
                    "body": "OK, changing the format to Zend_Date::ISO_8601 causes the output to be correct. You can go ahead and close this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=elazar",
                        "name": "elazar",
                        "displayName": "Matthew Turland",
                        "active": true
                    },
                    "created": "2007-10-10T16:36:57.000+0000",
                    "updated": "2007-10-10T16:36:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17145",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Closing this issue as it's no \"problem\" of Zend_Date.\n\nTip: If you have a database value as input you should always use Zend_Date::ISO_8601 as stated in the documentation.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-10-10T16:48:46.000+0000",
                    "updated": "2007-10-10T16:48:46.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2054\/transitions"
}