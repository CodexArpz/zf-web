{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3321",
    "key": "ZF-3321",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Search_Lucene::find() times out on certain queries"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3321\/votes",
                "votes": 17,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10291",
                    "id": 10291,
                    "description": "Mini Release",
                    "name": "1.7.7",
                    "userReleaseDate": "16\/Mar\/09",
                    "archived": false,
                    "releaseDate": "2009-03-16",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-03-13T11:10:55.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                "name": "dasprid",
                "displayName": "Ben Scholzen",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-05-24T16:37:46.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-03-20T08:33:14.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When doing a search like the following, Zend_Search_Lucene times out (on my server I have a script timeout of 60 seconds, so I *guess* it is not related to the mass of results, also since I only have about 100 results there.\n\n{code}\n$search = new Zend_Search_Lucene(...);\n$search->find('*');\n{code}\n\nAlso searches like {code}*.*{code} result in a timeout.\n\nYou can test this bug as well with the Manual Search of the Zend Framework. As this cannot be catched as Exception or such, it is really bad for production sites and should be fixed with the next mini release."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/1",
                "name": "Blocker"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3321\/watchers",
                "isWatching": false,
                "watchCount": 8
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                "name": "alexander",
                "displayName": "Alexander Veremyev",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5588",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5588",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                },
                {
                    "issueKey": "ZF-6026",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6026",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10181",
                    "id": 10181,
                    "description": "Mini Release",
                    "name": " 1.5.2",
                    "userReleaseDate": "15\/May\/08",
                    "archived": true,
                    "releaseDate": "2008-05-15",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10021",
                    "id": 10021,
                    "name": "Zend_Search_Lucene",
                    "description": "pure PHP robust, general purpose text search engine",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22074",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Alex, please evaluate and categorize as necessary. I'm taking a stab at release targeting based on Ben's comments, but you can change this if you think it's not right.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-06-01T15:58:38.000+0000",
                    "updated": "2008-06-01T15:58:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22909",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dinok",
                        "name": "dinok",
                        "displayName": "Dino Knoll",
                        "active": true
                    },
                    "body": "I think this is really necessary and important.\nJust think of what might happen, if somebody knows that you are using Zend_Search_Lucene.\nIt's easy to kill the server with a flood of requests with invalid queries.\nCurrently I plan to write some QueryFilters for the production server. But a good solution would be fine.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dinok",
                        "name": "dinok",
                        "displayName": "Dino Knoll",
                        "active": true
                    },
                    "created": "2008-07-16T13:09:07.000+0000",
                    "updated": "2008-07-16T13:09:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25414",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pencil",
                        "name": "pencil",
                        "displayName": "Nils Caspar",
                        "active": true
                    },
                    "body": "Any news?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=pencil",
                        "name": "pencil",
                        "displayName": "Nils Caspar",
                        "active": true
                    },
                    "created": "2008-10-25T08:21:02.000+0000",
                    "updated": "2008-10-25T08:21:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25804",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kotek",
                        "name": "kotek",
                        "displayName": "Mateusz Kotiuk",
                        "active": true
                    },
                    "body": "How it's going ? ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kotek",
                        "name": "kotek",
                        "displayName": "Mateusz Kotiuk",
                        "active": true
                    },
                    "created": "2008-11-07T00:37:17.000+0000",
                    "updated": "2008-11-07T00:37:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26853",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sandstrom",
                        "name": "sandstrom",
                        "displayName": "removed user",
                        "active": true
                    },
                    "body": "Would also very much like to see this bug resolved. Wish I knew enough to be able to contribute myself.\n\nAnyone know the status on this one?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sandstrom",
                        "name": "sandstrom",
                        "displayName": "removed user",
                        "active": true
                    },
                    "created": "2008-12-01T12:14:45.000+0000",
                    "updated": "2008-12-01T12:14:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28322",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=skyblaze",
                        "name": "skyblaze",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "i Also have this important bug in a production site. I discovered it a few days ago. I have only a few records in the index but if i do a search with \"*\" php goes in timeout . I'm running zend framework 1.7",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=skyblaze",
                        "name": "skyblaze",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-01-20T06:54:22.000+0000",
                    "updated": "2009-01-20T06:54:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28440",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=skyblaze",
                        "name": "skyblaze",
                        "displayName": "Mark",
                        "active": true
                    },
                    "body": "is it possibile to know if and when the problem will be resolved? We use this library in production sites so this is very very critial and important thank you.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=skyblaze",
                        "name": "skyblaze",
                        "displayName": "Mark",
                        "active": true
                    },
                    "created": "2009-01-23T03:04:33.000+0000",
                    "updated": "2009-01-23T03:04:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29258",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zielun",
                        "name": "zielun",
                        "displayName": "Micha? Zieli?ski",
                        "active": true
                    },
                    "body": "I`m also in similar situation. Any clues when Alexander Veremyev will be able to fix it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zielun",
                        "name": "zielun",
                        "displayName": "Micha? Zieli?ski",
                        "active": true
                    },
                    "created": "2009-03-04T01:05:57.000+0000",
                    "updated": "2009-03-04T01:05:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29466",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "body": "Fixed.\n\nFix is included into ZF 1.7.7 even it adds sevral methods into API. Documentation will be added with ZF 1.8.0",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                        "name": "alexander",
                        "displayName": "Alexander Veremyev",
                        "active": true
                    },
                    "created": "2009-03-13T11:10:54.000+0000",
                    "updated": "2009-03-13T11:10:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29620",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darruda",
                        "name": "darruda",
                        "displayName": "Dario Arruda",
                        "active": true
                    },
                    "body": "Hi all.\nI updated today to the latest version (1.7.7) and found what I think is a bug: querying the index with a range term, produces an error:\n\n\"Uncaught exception 'Zend_Search_Lucene_Exception' with message 'Terms per query limit is reached.' in ...\/Zend\/Search\/Lucene\/Search\/Query\/Range.php:191 Stack trace: #0 ...\/Zend\/Search\/Lucene\/Search\/Query\/Boolean.php(145): \"\n\nCode:\n  $userQuery = Zend_Search_Lucene_Search_QueryParser::parse(convertSpecialCharacters($query));\n  $datesLimit = Zend_Search_Lucene_Search_QueryParser::parse(date:[20010101 TO 20090303]);\n  $query = new Zend_Search_Lucene_Search_Query_Boolean();\n        \n   $query->addSubquery($datesLimit, true \/* required *\/);\n   $query->addSubquery($userQuery, true \/* required *\/);\n        \n   $index = Zend_Search_Lucene::open($this->LuceneIndexLocation);\n   $hits = $index->find($query);\n\nNote: if the time frame between the dates is small (less than 1 year, for example) it works fine.\n\nTried Zend_Search_Lucene::setTermsPerQueryLimit(0) but still doesn't work.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darruda",
                        "name": "darruda",
                        "displayName": "Dario Arruda",
                        "active": true
                    },
                    "created": "2009-03-20T08:27:41.000+0000",
                    "updated": "2009-03-20T08:27:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29621",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Dario, please add a new issue for that.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-03-20T08:33:13.000+0000",
                    "updated": "2009-03-20T08:33:13.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3321\/transitions"
}