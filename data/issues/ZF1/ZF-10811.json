{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10811",
    "key": "ZF-10811",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Ldap work properly in windows but crash in centos"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10811\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                "name": "rampog",
                "displayName": "Ramlan Gustian",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-12-11T15:16:06.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-08-27T17:00:03.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "dear all\r\nthe php terminated scripts when connect to Active Directory Windows when invalid credential\r\nbut when i try\r\nin windows return\r\n\"0x31 (Invalid credentials; 80090308: LdapErr: DSID-0C0903A9, comment: AcceptSecurityContext error, data 52e, v1db0): administratord@domain.myhost.com\"\r\n\r\ncapture of my code\r\n$options = array(\r\n'host' => '10.10.10.110',\r\n'username' => 'administratord',\r\n'password' => 'P@ssw0rd',\r\n'accountDomainName' => 'domain.myhost.com',\r\n'accountCanonicalForm' => 4,\r\n'optReferrals' => 0,\r\n'baseDn' => 'DC=domain,DC=myhost,DC=com'\r\n);\r\n$ldap=new Zend_Ldap($options);\r\n$connected = $ldap->connect();\r\n$data = $ldap->getResource();\r\nvar_dump($data);"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10811\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                "name": "sgehrig",
                "displayName": "Stefan Gehrig",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10440",
                    "id": 10440,
                    "description": "Mini Release",
                    "name": "1.10.3",
                    "userReleaseDate": "01\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10281",
                    "id": 10281,
                    "name": "Zend_Ldap",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43570",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "Could you please make sure, that ext\/ldap (that's the LDAP PHP extension) is working correctly on your CentOs machine? Try to connect to the server using the core ldap_*-functions.\r\nCheck you php.ini for any configuration parameters present - also check phpinfo(); for the ext\/ldap. \r\n\r\nIt's quite uncommon that Zend_Ldap brings down the whole script by itself without any error message.\r\n\r\nPlease also do a check on your error log. If you disabled error logging, please turn it on, so that PHP low-level errors are logged to a file (alternatively switch display_errors on so that PHP low-level errors are displayed on screen),\r\n\r\nWe'd need a lot mor information to do some debugging on this one.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-12-12T22:58:42.000+0000",
                    "updated": "2010-12-12T22:58:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43571",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "body": "\r\nHi Stefan Gehrig \r\ni am very pleasure for reply\r\ni have created new case in ticketing support but still no reply\r\ni also have attach files that support tools generate\r\n\r\nall is well connecting to Active Directory both windows & my centOs machine if valid username & password\r\n\r\nbut only invalid credential in my CentOs machine terminated scripts\r\n\r\ni check in \/usr\/local\/zend\/var\/log\/php.log nothing change when i execute that invalid credential\r\n\r\nfor info\r\n\r\ncentOs machine \r\nPHP Version 5.3.1\r\n\r\ndisplay_errors - On\r\nerror_log - \/usr\/local\/zend\/var\/log\/php.log \t\r\nerror_reporting - E_ALL\r\n\r\nshould i place files that generated by zend CE support tools is possible here?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "created": "2010-12-12T23:34:26.000+0000",
                    "updated": "2010-12-12T23:34:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43575",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "Strange... Please post as much information as possible (remove such things as usernames, password and server addresses \/ names if possible).\r\n\r\nWhat does\r\n\r\n{code}\r\nvar_dump($connected);\r\n{code}\r\n\r\nprint (inserted before the second-to-last line)?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-12-13T04:40:22.000+0000",
                    "updated": "2010-12-13T04:40:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43584",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "body": "\r\nreturn like this when i var_dump for invalid credential but i should be place before\r\n\r\n{code}$data = $ldap->getResource();{code}\r\n\r\nobject(Zend_Ldap)#142 (6) { [\"_connectString\":\"Zend_Ldap\":private]=> string(19) \"ldap:\/\/10.10.10.110\" [\"_options\"]=> array(15) { [\"host\"]=> string(12) \"10.10.10.110\" [\"port\"]=> int(0) [\"useSsl\"]=> bool(false) [\"username\"]=> string(14) \"administratord\" [\"password\"]=> string(8) \"P@ssw0rd\" [\"bindRequiresDn\"]=> bool(false) [\"baseDn\"]=> string(20) \"DC=ibm,DC=myhost,DC=com\" [\"accountCanonicalForm\"]=> int(4) [\"accountDomainName\"]=> string(11) \"ibm.myhost.com\" [\"accountDomainNameShort\"]=> NULL [\"accountFilterFormat\"]=> NULL [\"allowEmptyPassword\"]=> bool(false) [\"useStartTls\"]=> bool(false) [\"optReferrals\"]=> bool(false) [\"tryUsernameSplit\"]=> bool(true) } [\"_resource\":protected]=> resource(141) of type (ldap link) [\"_boundUser\":protected]=> bool(false) [\"_rootDse\":protected]=> NULL [\"_schema\":protected]=> NULL } \r\n\r\nfor info\r\ni use zf version 1.10.3\r\nscripts terminated in\r\nzend\/ldap.php on line 204 {code}        @ldap_get_option($this->_resource, LDAP_OPT_ERROR_STRING, $estr2);{\/code}\r\nwhen invalid credential \r\n\r\nmay be could help\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "created": "2010-12-13T19:02:51.000+0000",
                    "updated": "2010-12-13T19:02:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43590",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "OK... We're closing in...\r\n\r\nPlease check your phpinfo(); and post the \"ldap\"-section, which should give you something like\r\n\r\n{code}\r\nldap\r\n\r\nLDAP Support\tenabled\r\nRCS Version\t$Id: ldap.c 299434 2010-05-17 20:09:42Z pajoye $\r\nTotal Links\t0\/unlimited\r\nAPI Version\t3001\r\nVendor Name\tOpenLDAP\r\nVendor Version\t20411\r\nSASL Support\tEnabled\r\n\r\nDirective\tLocal Value\tMaster Value\r\nldap.max_links\tUnlimited\tUnlimited\r\n{code}\r\n\r\nPerhaps your version of ext\/ldap has not been built with OpenLDAP 2.x.x OR Netscape Directory SDK x.x which means that the ldap_get_option() function might not be available or not working properly.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-12-14T06:13:48.000+0000",
                    "updated": "2010-12-14T06:16:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43598",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "body": "LDAP Support \tenabled\r\nRCS Version \t$Id: ldap.c 287897 2009-08-30 15:33:59Z iliaa $\r\nTotal Links \t0\/unlimited\r\nAPI Version \t3001\r\nVendor Name \tOpenLDAP\r\nVendor Version \t20420\r\n\r\nDirective\tLocal Value\tMaster Value\r\nldap.max_links\tUnlimited\tUnlimited\r\n\r\n\r\nmay be could help\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "created": "2010-12-15T00:11:50.000+0000",
                    "updated": "2010-12-15T00:11:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43609",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "Not what I \"hoped\" for...\r\n\r\nDo you have any other Linux machine on hand to try the code? What AD server are you authenticating against (Windows Server 2003, Windows Server 2008)?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-12-15T11:27:54.000+0000",
                    "updated": "2010-12-15T11:27:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43614",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "body": "Windows Server 2008\r\nany recommendation what php version that work properly\r\nfor doing authentication through LDAP Active Directory\r\nthat you have tried?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "created": "2010-12-15T20:07:54.000+0000",
                    "updated": "2010-12-15T20:07:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43615",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "Do you have any possibility to run the Zend_Ldap unit tests on both of your machines? \r\n\r\nI actually managed to run all the tests successfully from a Windows machine (PHP 5.2.x) connecting to OpenLDAP, Windows 2003 R2 and Windows 2008 and from a Mac (PHP 5.3.3) connecting to OpenLDAP and Windows 2003 R2. Unfortunately I don't have a Windows 2008 virtual machine available, so I cannot test PHP 5.3.3 against the Windows 2008 AD.\r\n\r\nHard to debug... ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-12-16T00:00:23.000+0000",
                    "updated": "2010-12-16T00:00:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43990",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "body": "ok tks for help,, temporary solution,, \r\ni've use php classic (ldap_bin) not using zend_auth_ldap\r\n\r\nit work properly both windows & centos",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rampog",
                        "name": "rampog",
                        "displayName": "Ramlan Gustian",
                        "active": true
                    },
                    "created": "2011-01-10T00:33:16.000+0000",
                    "updated": "2011-01-10T00:33:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51732",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=heiglandreas",
                        "name": "heiglandreas",
                        "displayName": "Andreas Heigl",
                        "active": true
                    },
                    "body": "Is this still an issue?\r\n\r\nIf so, what happens, if you remove the \"@\" before the ldap_get_options. Any helpful error messages?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=heiglandreas",
                        "name": "heiglandreas",
                        "displayName": "Andreas Heigl",
                        "active": true
                    },
                    "created": "2012-08-27T17:00:03.000+0000",
                    "updated": "2012-08-27T17:00:03.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10811\/transitions"
}