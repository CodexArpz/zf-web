{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3758",
    "key": "ZF-3758",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Add PUT Inlinefile"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3758\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-03-20T03:45:54.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                "name": "leo.buettiker",
                "displayName": "Leo B\u00fcttiker",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-07-25T07:24:57.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-03-20T03:45:54.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "HTTP PUT a file inline would be great. It should do something like curl did with this:\n\n$fin = fopen( $filename, 'r' );\n        $ch = curl_init();\n        curl_setopt($ch,CURLOPT_PUT,1);\n        curl_setopt($ch,CURLOPT_URL, $res['path']);\n        curl_setopt($ch,CURLOPT_VERBOSE, 0);\n        curl_setopt($ch,CURLOPT_INFILE, $fin);\n        curl_setopt($ch,CURLOPT_INFILESIZE, filesize($filename));\n        curl_setopt($ch,CURLOPT_TIMEOUT, 4);\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n        if(!curl_exec($ch)) {\n            $this->error=curl_error($ch);\n            curl_close($ch);\n            return false;\n        }\n        curl_close($ch);\n\nYou can currently do this by:\n    \t\/\/ Uploading an existing file\n\t$this->httpClient->setRawData(file_get_contents($filename), '');\n\t\/\/ Send the files\n\t$this->httpClient->request('PUT');\n\nThis feature should work something like this:\n$this->httpClient->setEncType(Zend_Http_Client::ENC_NONE);\n$this->httpClient->setFileUpload($filename); \/\/Compared to the existing functionality, you can only ad one file for Inline PUT\n$this->httpClient->request('PUT');\n\nPutting file inline is for example needed for implementing the MogileFS protocol."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3758\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                "name": "beberlei",
                "displayName": "Benjamin Eberlei",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-3616",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3616",
                    "type": {
                        "name": "Dependency",
                        "direction": "OUTBOUND",
                        "description": "depends on"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10015",
                    "id": 10015,
                    "name": "Zend_Http_Client",
                    "description": "performs HTTP requests",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23074",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "In my opinion things should not be duplicated.\n\nZend_File_Transfer handles (will handle) all variants of file upload and downloads. And it supports different adapters, also PUT, POST or even FTP.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-07-25T10:16:28.000+0000",
                    "updated": "2008-07-25T10:16:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23098",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "body": "Thomas I did not know about Zend_File_Transfer. It looks like what I need. But in my point of view Zend_File_Transfer's HTTP-Adapters should use Zend_Http_Client as Backend, but I might be wrong on this.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "created": "2008-07-26T02:42:41.000+0000",
                    "updated": "2008-07-26T02:42:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23111",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You're wrong at these. It should not use Zend_Http_Client as it does provide much more functionallity. Zend_Http_Client does not provide handling on validators or filters, it does not provide access to ftp, webdav and so on. Zend_File_Transfer will for example allow to upload per PUT and upload per FTP to another server automatically. This is not possible when using Zend_Http_Client.\n\nZend_Http_Client is meant to work as Http Client... which is a sort of browser. Nothing more. Zend_File_Transfer is intended to do something completly different.\nAlso framework components should be coded in a way where they do NOT extend each other when it's not necessary.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-07-26T09:57:03.000+0000",
                    "updated": "2008-07-26T09:57:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23132",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "body": "As I said, I absolutly love Zend_File_Transfer. I think it's a great concept and I'm looking forward to use it.\n\nI do not see very deep in the ZF development process, but for me Zend_Http_Client is a implementation of the HTTP Protocol from the client side. As I assume it's this, it has in my point of view to implement a full HTTP client regarding the standard (the reason for this \"New Feature\" request). As I do assume that Zend_Http_Client is implementing the HTTP Protocol I think the protocol (or part of it) should not implement again within the framework. Therefor I personaly think Zend_File_Transfer_Protocol_Http should use (not extend) Zend_Http_Client. But again, I do not have a very deep insight into the ZF development process and I might be wrong with my thoughts.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "created": "2008-07-28T06:14:46.000+0000",
                    "updated": "2008-07-28T06:14:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23133",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "{quote}As I said, I absolutly love Zend_File_Transfer. I think it's a great concept and I'm looking forward to use it. {quote}\nGreat to hear :-)\n\n\nAs you noted Zend_Http_Client is an implementation of a Clientside HTTP Part.\nAnd Zend_File_Transfer is an implementation of the Serverside for File Transfer.\n\nSo they do completly different things. Also to mention, when anyone want to do file transfer he must then also use Zend_Http_Client to get it working. This is exactly what we want not to have... the components should be seperated as long as they do not really extend each other.\n\nHttp_Client implements much more and completly different methods and things than used in file transfer... and in my eyes it would be a complete bunch of overhead if we would extend Http_Client just for file transfer which is in it's simplest way a validation of the $_FILES array and moving the files. :-)\n\nI would really not know where to use Http_Client... it has no validators, no filters, no protocol other than http, there is no connection for different protocols, no handling of down\/uploaded files... it's really a completly differerent class :-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-07-28T06:55:52.000+0000",
                    "updated": "2008-07-28T06:55:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25040",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "I dont understand what the problem is on this issue, since even the socket client supports PUTing a file with the described $client->setRawData(file_get_contents('bla.txt')); $client->request('PUT'); method.\n\nTherefore Http Client already supports this feature and this issue is not really needed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2008-10-11T07:25:55.000+0000",
                    "updated": "2008-10-11T07:25:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25043",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "Ok, i understand this is being an important issue for large files that should not fit into a PHP string. The current Incubator Version of the Curl Adapter supports this behaviour, and its being enforced by a Unittest. Can you check and confirm if the unit-test Zend_Http_Client_CurlTest::testPutFileContentWithHttpClient() functionality is the one you need?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2008-10-11T08:04:02.000+0000",
                    "updated": "2008-10-11T08:04:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25194",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "body": "The problem is not into functionality. I'm fine with first read the data with file_get_contents. \n\nThe problem is more that it looks like setRawData seems to not realy concepted for that (that is what you also might see in that you has to pass a second empty string). It might be hard for somebuddy to find out that he has to use the method \"setRawData\" if he want to upload a file. And in my point of view setFileUpload should not only work for POST but also for PUT and it should give a reasonable message if the http method does not allow to upload files.\n\nYou might see this is more of a API naming thing then a technical problem.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=leo.buettiker",
                        "name": "leo.buettiker",
                        "displayName": "Leo B\u00fcttiker",
                        "active": true
                    },
                    "created": "2008-10-17T08:15:49.000+0000",
                    "updated": "2008-10-17T08:15:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28669",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "body": "I think having direct file transfer capacity in Z_H_C would be great. Imagine you need to upload 100M file to somewhere like Amazon S3. Right now only way to do it with Z_H_C is to read whole thing in memory and then POST\/PUT it. But nobody really needs this 100M hog in memory, if only we had the standard way to stream it out (and, consequently, in). \nZend_File_Transfer is nice but seems to be meant for entirely different things. Ability to stream files without loading them in memory seems natural extension to Z_H_C capabilities. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "created": "2009-02-06T10:24:09.000+0000",
                    "updated": "2009-02-06T10:24:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28670",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "@Stanislav:\nYou miss one thing... Zend_HTTP_Client is for... HTTP...\nZend_File_Transfer supports multiple protocols like FTP, WEBDAV and so on additionally to HTTP. ZFT is build for file transfer... for nothing different.\n\nAnd you don't need to have the complete file in memory to send it. I don't know from where you have this information, but for ZFT this is not true.\n\nAlso, as I already said in a past comment:\nZend_File_Transfer is a server component and Zend_Http_Client simulates a Client... this are two different things.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-06T10:46:08.000+0000",
                    "updated": "2009-02-06T10:46:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29607",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "Is closed with the inclusion of cURL Adapter in trunk, to be released in 1.8",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2009-03-20T03:45:53.000+0000",
                    "updated": "2009-03-20T03:45:53.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3758\/transitions"
}