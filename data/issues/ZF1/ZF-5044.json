{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5044",
    "key": "ZF-5044",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Unexpected Notice - The language XY has to be added before it can be used"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5044\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-11-25T03:13:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=virus-2k",
                "name": "virus-2k",
                "displayName": "Gerrit B",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-11-24T07:33:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-11-25T05:33:37.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi there,\n\nin Zend Framework 1.6.2 I just included my language files with this line:\n\n$translate = new Zend_Translate( 'tmx', APPLICATION_PATH . '\/languages' );\n\nIt worked great. Now I just updated my ZF to 1.7 and I get this Notice:\n\nNotice: The language 'de' has to be added before it can be used. in C:\\xampp\\include\\Zend\\Translate\\Adapter.php on line 296\n\nAlso the Framework doesn't translate my Form anymore.\n\nI can avoid this notice by adding the full filename of the tmx-file i.e.:\n\n$translate = new Zend_Translate( 'tmx', APPLICATION_PATH . '\/languages\/lang.tmx' );\n\nbut I think that's wrong, because of tmx = folder include \/  more languages in one file...\n--------------------------\n\nhere is a sample code. you can reproduce the notice.\n\nhttp:\/\/nopaste.php-quake.net\/108073\n\ntry the code and you get a notice (don't forget to put the tmx code to a tmx file ...)\nafter that just comment line 21 and uncomment line 23. you'll get no error\/notice then...\n\nin the manual is still the text that tmx can link to a directory not just to a single file...\n\n---\n\nsorry I just can't find the function to simply add a comment.. :(\n\nit also doesn't work if i rename the dir to:\n{quote}\n$translate = new Zend_Translate( 'tmx', APPLICATION_PATH . 'languages' );\n{quote}\nalso doesn't work with:\n[...]APPLICATION_PATH . '\\languages'); nor with [...]APPLICATION_PATH . '\\\\languages'); nor with [...]APPLICATION_PATH . 'languages\\\\'); [.....]\n\ntesting on a win32 system.\nstacktrace:\n{quote}\n{main}( )\t..\\test.php:0\nZend_Translate->__construct( $adapter = 'tmx', $data = 'C:\\\\xampp\\\\htdocs\\\\zend_test\\\\www\\\\..\\\\application\\\\languages', $locale = ???, $options = ??? )\t..\\test.php:21\nZend_Translate->setAdapter( $adapter = 'tmx', $data = 'C:\\\\xampp\\\\htdocs\\\\zend_test\\\\www\\\\..\\\\application\\\\languages', $locale = NULL, $options = array () )\t..\\Translate.php:71\nZend_Translate_Adapter_Tmx->__construct( $data = 'C:\\\\xampp\\\\htdocs\\\\zend_test\\\\www\\\\..\\\\application\\\\languages', $locale = NULL, $options = array () )\t..\\Translate.php:93\nZend_Translate_Adapter->__construct( $data = 'C:\\\\xampp\\\\htdocs\\\\zend_test\\\\www\\\\..\\\\application\\\\languages', $locale = NULL, $options = array () )\t..\\Tmx.php:56\nZend_Translate_Adapter->setLocale( $locale = NULL )\t..\\Adapter.php:109\ntrigger_error ( 'The language \\'en\\' has to be added before it can be used.', 1024 )\t..\\Adapter.php:296\n{quote}\n\n---\nbut im sure that the directory does exists. \nagain: \nit works great with zf 1.6.2. without any notices or problems.\ni read the migration thing but i couldn't find anything about my problem...\n\nand i delivered the tmx file here... you see that the requested language is available :-(\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5044\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10260",
                    "id": 10260,
                    "description": "Minor Release",
                    "name": "1.7.0",
                    "userReleaseDate": "17\/Nov\/08",
                    "archived": false,
                    "releaseDate": "2008-11-17",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10099",
                    "id": 10099,
                    "name": "Zend_Translate",
                    "description": "Provides translation functionality, based on standards such as TMX and Gettext.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26633",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Please read the manual... there are migration notes for 1.6 to 1.7.\n\nAlso a notice does not prevent the code from being executed. Please read the notice. It describes the problem.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-24T09:54:43.000+0000",
                    "updated": "2008-11-24T09:54:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26634",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "{quote}but I think that's wrong, because of tmx = folder include \/ more languages in one file...{quote}\n\nand which of the several languages should be set ?\nNone in your case as you defined none... so the language from 'auto' is set and this is in your case 'de' which is not available in your tmx files.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-24T09:56:19.000+0000",
                    "updated": "2008-11-24T09:56:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26654",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You code can not have worked in 1.6.2 because application wide locales were added with 1.7.\n\nWhen you don't want warnings why do you not set the 'disableNotices' option to prevent the output of notices ?\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-24T14:09:44.000+0000",
                    "updated": "2008-11-24T14:09:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26663",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Please do a simple debugging of your own code and look if translation is the problem or your form.\n\nLook which languages are available\nLook which translations are available\nLook if you can manually translate\nLook if the requested language is available\nLook if you set the correct parameters\nLook into the migrations chapter",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-25T03:12:04.000+0000",
                    "updated": "2008-11-25T03:12:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26664",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Problem not reproducable.\nProbably a forms problem or a missing translation file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-25T03:13:03.000+0000",
                    "updated": "2008-11-25T03:13:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26672",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Editing the original issue is really a very bad behaviour.\nThis way no one can follow the problem.\n\nRelated to your code, all works as expected... there is no problem at all.\n\nBut do you really think that what you gave as directory is a directory ?\nI would say this is impossible...\nAccording to your example you gave the following directory:\n\nrealpath( dirname( __FILE__ ) ) . '\\..\\application\\\/languages'\n\nAnd my understanding is that a directoryname which is named \"\\\/\" is not detected as directory because this is impossible wether in Win* nor in Linux to have a directory with such a name.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-25T05:03:11.000+0000",
                    "updated": "2008-11-25T05:03:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26675",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Again... \n\nLook which languages are available\nLook which translations are available\nLook if you can manually translate\nLook if the requested language is available\nLook if you set the correct parameters\nLook into the migrations chapter\n\nYou will get this error only when\n * The directory does not exist\n * The language does not exist\n\nAnd don't say it exists, because with your original code when I changed the directory my php said that the path is no directory.\n\nA simple check with isDir would have shown you this. Zend_File_Transfer does nothing different.. it prooves if the given string is a directory with isDir, else it is treaten as normal filename.\n\nAnd with getList you can see which languages are available before setting them with setLocale().",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-11-25T05:22:01.000+0000",
                    "updated": "2008-11-25T05:22:01.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5044\/transitions"
}