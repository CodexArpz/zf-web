{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7734",
    "key": "ZF-7734",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Too many columns in Pdo_Mysql query crashes Zend Studio Unit Test."
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7734\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-31T08:12:29.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=orlissenberg",
                "name": "orlissenberg",
                "displayName": "Onno Lissenberg",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-31T07:47:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-08-25T06:33:47.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "DB",
                "UnitTest",
                "Windows",
                "ZendStudio7"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "If I run the following \"bad\" code snippet in a unit test it grinds to a halt with the following messages: \"CGI \/ FastCGI has stopped working\" (windows pop-up) and \"Test case was unexpectedly terminated\".\nI can resolve it by removing columns. The error does not occur outside Zend Studio (i.e. when I call the controller which uses this \"bad\" code). \n\nI'm using the Pdo_Mysql adapter and it seems to fail at the lowest level, on various Windows based environments (Vista & XP).\n\n--- bad code (too many columns?)---\n\n$sql = \"select * from auth_view_privileges where privilege_id = \" . $filter->filter($id);\t\t\t\n$result = $this->db->fetchRow($sql);\n\n--- good code (less columns) ---\n\n$sql = \"select privilege_id, load_dts, status, privilege_name from auth_view_privileges where privilege_id = \" . $filter->filter($id);\t\t\t\n$result = $this->db->fetchRow($sql);\n\np.s. using a latest trial version, we're evaluating the framework and IDE with the goal to adopt it as primary tech. stack here.\n\nBest Regards,\nOnno\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7734\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10361",
                    "id": 10361,
                    "description": "Mini Release",
                    "name": "1.9.2",
                    "userReleaseDate": "25\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10012",
                    "id": 10012,
                    "name": "Zend_Db",
                    "description": "interfaces, APIs, and adapters for various third-party data stores",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34101",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This is not a ZF issue, but an issue with your RDBMS.\n\nOne way you can use ZF to protect you in such situations is to use Zend_Db_Select to create your queries. For example, try this:\n\n{code}\n$columns = array(\n    'privilege_id', \n    'load_dts', \n    'status', \n    'description',\n    'privilege_name', \n    'createdby', \n    'modifiedby',\n);\n$select = $this->db->select();\n$select->from('auth_view_privileges', $columns)\n       ->where('privilege_id = ?', $id);\n$result = $this->db->fetchRow($select);\n{code}\n\nThe above code will ensure that all input is properly escaped for you RDMBS solution, and also quote all table and column names to ensure you do not have issues with reserved keywords.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-08-31T08:11:13.000+0000",
                    "updated": "2009-08-31T08:11:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34109",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=orlissenberg",
                        "name": "orlissenberg",
                        "displayName": "Onno Lissenberg",
                        "active": true
                    },
                    "body": "It's not the description column, it's the amount of columns that causes the crashes, was a bit too hasty in my reporting, it actually doesn't matter which column I exclude ...\n\nI used to have: \n\"select * from auth_view_privileges\"\n\nwhich initially crashed my unit tests (and still does for that matter on my work (Vista 64bit) and private machine (XP Pro)). It's driving me nuts, should prob. get a real OS :D\n\nAny thoughts?\n\n----------------------------------------------------------------------------------------------------------------------------------------------------\n'php-cgi.exe': Loaded 'H:\\Zend\\Zend Studio - 7.0.0\\plugins\\org.zend.php.debug.debugger.win32.x86_5.2.26.v20090806\\resources\\php5\\php-cgi.exe'\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=orlissenberg",
                        "name": "orlissenberg",
                        "displayName": "Onno Lissenberg",
                        "active": true
                    },
                    "created": "2009-08-31T13:10:23.000+0000",
                    "updated": "2009-08-31T13:10:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42101",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=marguskoiduste",
                        "name": "marguskoiduste",
                        "displayName": "Margus Koiduste",
                        "active": true
                    },
                    "body": "Hi!\r\n\r\nI had similar issue with Zend Studio 7.2.0 Build ID: 20100421 on Windows XP. While running unittest, the PHP binary crashed when making SELECT query containing wildcard (*). \r\n\r\nThe problem seems to be the php_pdo_mysql.dll PHP extension included in Zend Studio debugger plugin.\r\n\r\nI managed to resolve the issue by adding ZendDebugger PHP extension do my XAMPP 1.7.1 installation (http:\/\/forums.zend.com\/viewtopic.php?f=59&t=962#p4313) and configuring Zend Studio to use XAMPP php-cgi.exe binary for debugging (Window > Preferences > PHP > PHP Executeables).\r\n\r\nHope this saves someone's day,\r\nMargus",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=marguskoiduste",
                        "name": "marguskoiduste",
                        "displayName": "Margus Koiduste",
                        "active": true
                    },
                    "created": "2010-08-25T06:33:40.000+0000",
                    "updated": "2010-08-25T06:33:40.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7734\/transitions"
}