{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11542",
    "key": "ZF-11542",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "major incompatibility introduced in commit #21893"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11542\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=k2s",
                "name": "k2s",
                "displayName": "Martin Minka",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-07-08T14:43:56.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-05-14T16:01:02.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "incompatibility"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "At this time the ID creation for HTML tag was changed which has major impact on existing CSS and JavaScript.\r\n{code}\r\n$getId = create_function('$decorator',\r\n\t\t\t\t\t\t 'return $decorator->getElement()->getId()\r\n\t\t\t\t\t\t\t\t . \"-element\";');\r\n{code}\r\n\r\nTo keep the compatibility this could would need to be used:\r\n{code}\r\n$getId = create_function('$decorator',\r\n\t\t\t\t\t\t 'return $decorator->getElement()->getName()\r\n\t\t\t\t\t\t\t\t . \"-element\";');\r\n{code}\r\n\r\nWhat ever was the reason to change the way the ID is now build it would be great to make it at least possible to keep compatibility for existing projects. My proposal for such way is to add static member variable:\r\n{code}\r\nclass Zend_Form_Element implements Zend_Validate_Interface\r\n{\r\n\tpublic static $decoratorIdFunc = 'return $decorator->getElement()->getId(). \"-element\";';\r\n...\r\n        $getId = create_function('$decorator', self::$decoratorIdFunc);\r\n}\r\n\r\n\/\/ somewhere in Bootstrap for projects depending on old IDs\r\nZend_Form_Element::$decoratorIdFunc = 'return $decorator->getElement()->getName(). \"-element\";';\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11542\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47478",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "In looking at the above, the {{getId() . \"-element\"}} version is semantically correct; getName(), when used with forms that utilize array notation, will return values such as \"contact[foo]\" which represent invalid DOM identifiers.\r\n\r\nCan you give an example of the output you expected (based on previous versions) vs the output currently generated, and also an example of the JS and\/or CSS you were using? This would help me better understand the problem, and whether or not it's something we need to change and\/or accommodate within the framework.\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2011-07-12T19:18:07.000+0000",
                    "updated": "2011-07-12T19:18:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47723",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=k2s",
                        "name": "k2s",
                        "displayName": "Martin Minka",
                        "active": true
                    },
                    "body": "Sorry for late answer.\r\n\r\nThe produced difference is:\r\n\r\nwith getName(): <dd id=\"offline_creditcard-element\">\r\nwith getId():   <dd id=\"package-offline_creditcard-element\">\r\n\r\nMy opinion is that the problem is:\r\n* ZF is considered to be stable\r\n* if an project uses CSS dependent on this IDs it gets broken by commit #21893\r\n* there is no way to keep compatibility except to rework all CSS or to keep patched Zend_Form_Element in project\r\n\r\nI think getId() is more correct, but I would be very thank full if there could exists a way to keep compatibility.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=k2s",
                        "name": "k2s",
                        "displayName": "Martin Minka",
                        "active": true
                    },
                    "created": "2011-07-28T13:48:30.000+0000",
                    "updated": "2011-07-28T13:48:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50649",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Is anyone else having the same difficulties that Martin outlined?  Is this something that should be remediated in 1.12?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2012-05-14T16:01:02.000+0000",
                    "updated": "2012-05-14T16:01:02.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11542\/transitions"
}