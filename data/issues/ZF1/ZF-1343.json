{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1343",
    "key": "ZF-1343",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "\"Invalid parameter number: no parameters were bound\" when using ' and ? in where clause"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1343\/votes",
                "votes": 6,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-05-18T15:41:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kritz",
                "name": "kritz",
                "displayName": "Chris van der Wel",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-05-04T17:47:26.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-11-03T16:44:57.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "{code}\nclass Users extends Zend_Db_Table_Abstract {\n\tprotected $_name = 'users';\n}\n\n$db = Zend_Db::factory('PDO_MYSQL', $options);\nZend_Db_Table_Abstract::setDefaultAdapter($db);\n\n$username = \"chr?i's\";\n\n$table = new Users();\n$where = $table->getAdapter()->quoteInto('username = ?',$username);\n$rows = $table->fetchAll($where);\n{code}\n\nresults in an exception:\n\nFatal error: Uncaught exception 'Zend_Db_Adapter_Exception' with message 'SQLSTATE[HY093]: Invalid parameter number: no parameters were bound'\n\nWhen using \"chr?is\" or \"chr'is\" for $username everything is fine. It doesn't matter where the ? and ' are in the $username variable, just when they are both in $username they are causing problems."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1343\/watchers",
                "isWatching": false,
                "watchCount": 15
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5790",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5790",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                },
                {
                    "issueKey": "ZF-4083",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4083",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                },
                {
                    "issueKey": "ZF-7969",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7969",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-2059",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2059",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10070",
                    "id": 10070,
                    "description": "Beta Release; bug fixes",
                    "name": "0.9.2",
                    "userReleaseDate": "06\/Apr\/07",
                    "archived": true,
                    "releaseDate": "2007-04-06",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10012",
                    "id": 10012,
                    "name": "Zend_Db",
                    "description": "interfaces, APIs, and adapters for various third-party data stores",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14466",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Zend_Db related - assigned to Bill",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-05-06T09:06:45.000+0000",
                    "updated": "2007-05-06T09:06:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14478",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kritz",
                        "name": "kritz",
                        "displayName": "Chris van der Wel",
                        "active": true
                    },
                    "body": "It looks like it's a bug in PDO itself and not the Zend Framework.\n\nThe following code produces the same error:\n\n{code}\n$sth = $dbh->prepare(\"SELECT * FROM `users` WHERE username = 'ch?\\'ris';\");\n$sth->execute();\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kritz",
                        "name": "kritz",
                        "displayName": "Chris van der Wel",
                        "active": true
                    },
                    "created": "2007-05-06T10:05:02.000+0000",
                    "updated": "2007-05-06T10:05:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14482",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kritz",
                        "name": "kritz",
                        "displayName": "Chris van der Wel",
                        "active": true
                    },
                    "body": "Does anybody from Zend know if any bugs in the PDO extension will be fixed? The last release was more than a year ago, but there are several bug reports. Does it make any sense to report a new bug?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kritz",
                        "name": "kritz",
                        "displayName": "Chris van der Wel",
                        "active": true
                    },
                    "created": "2007-05-06T14:05:03.000+0000",
                    "updated": "2007-05-06T14:05:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14487",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "There are bugs reported as recently as March 15 in the PDO category that are now CLOSED (for example: http:\/\/bugs.php.net\/bug.php?id=40822).  So clearly some work continues on PDO.\n\nThis bug seems related to ZF-347.  PDO is not very intelligent about noticing when parameter placeholders inside string literals.  Not surprising -- to support that, PDO would have to implement a complete client-side SQL parser and that's probably beyond its scope.\n\nI'm going to mark this issue POSTPONED with respect to working on it for Zend Framework.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-05-06T21:22:37.000+0000",
                    "updated": "2007-05-06T21:22:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15915",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Confirmed, a test shows that this bug occurs when using PDO directly, not using Zend_Db at all.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-07-20T20:23:57.000+0000",
                    "updated": "2007-07-20T20:23:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19979",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "body": "I think we should reopen this ticket.\n\nI know this is old story but it totally bugs me that I am not able to use PDO_Mysql because of this...it's just so much faster.\nFrom your conclusion I get the idea that it's impossible to use this value using PDO_Mysql, well this is not the case.\nI am in process to finding what exactly the problem is...but it come to Select object etc etc... and will need more time. Thats why I decided to post this...so get some feedback from someone more familiar with issue.\n\nI looked in 6 scenarios with two values - one reported in ticket and one that I have problem with (seems it behaves differently - see scenario 2)\n\nWell obviously to reproduce all cases should comment\/uncomment all values  and\/or all scenarious code.\nHope it is not messy and clear.\nScenario 1 is the one that works for either values.\n\n        $username = \"chr?i's\";  \/\/ value 1\n        \/\/$username = \"';?%>'\"; \/\/ value 2\n\n        $table = new Table_User();\n\n        \/\/scenario 1 ... works for value 1 and 2\n        \/\/$oRow = $table->getAdapter()->fetchRow(\"SELECT * FROM `user` WHERE U_user_name = ?\",$username);\n\n        \/\/scenario 2 ... works for value 1 doesn't work for value 2       - initially reported in ticket\n        \/\/$sql_username = $table->getAdapter()->quoteInto('U_user_name = ?',$username);\n        \/\/$oRow = $table->getAdapter()->fetchRow(\"SELECT * FROM user WHERE $sql_username\");\n\n        \/\/scenario 3 ... doesn't work for value 1 and 2\n        \/\/$oRow = $table->fetchRow(\"U_user_name = ?\",$username);\n\n        \/\/scenario 4 ... doesn't work for value 1 and 2\n        \/\/$where = $table->getAdapter()->quoteInto('U_user_name = ?',$username);\n        \/\/$oRow = $table->fetchAll($where);\n\n        \/\/scenario 5 ... doesn't work for value 1 and 2\n        \/\/$oRow = $table->fetchRow(\"SELECT * FROM user WHERE U_user_name = ?\",$username);\n\n        \/\/scenario 6 ... doesn't work for value 1 and 2       -  one Chris van der Wel tested with.\n        \/\/$sth = $table->getAdapter()->prepare(\"SELECT * FROM `users` WHERE U_user_name = '{$username}';\");\n        \/\/$sth->execute();\n\n        var_dump($oRow);",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "created": "2008-03-18T09:16:11.000+0000",
                    "updated": "2008-03-18T09:16:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19980",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "body": "My bad,\n\"initially reported in ticket\"  is scenario 4, not as I mentioned scenario 2",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "created": "2008-03-18T09:30:17.000+0000",
                    "updated": "2008-03-18T09:30:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19982",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "body": "Can scratch scenario 3 and 5... second param is order by there, hence not relevant...don't know why got confused.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmut",
                        "name": "jmut",
                        "displayName": "Julian Davchev",
                        "active": true
                    },
                    "created": "2008-03-18T09:49:19.000+0000",
                    "updated": "2008-03-18T09:49:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19983",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willie",
                        "name": "willie",
                        "displayName": "Willie Alberty",
                        "active": true
                    },
                    "body": "I am experiencing this same issue in a production environment. I acknowledge the fact that there is a bug in PDO which is causing this behavior. However, I am not using PDO directly. If I were, I would be forced to live with it.\n\nSince I am using Zend_Db, there is an opportunity to work around the bug until it can be fixed in PDO. Isn't that part of the purpose of an abstraction layer -- to normalize behavior and work around bugs in the underlying implementations?\n\nUnless there is truly nothing that can be done (i.e, there is no possible way to code around it in PHP, which I did not read in the comment stream), this issue should be reopened. Telling our customers to \"not use ' and ? characters in the same database column\" is simply impractical.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willie",
                        "name": "willie",
                        "displayName": "Willie Alberty",
                        "active": true
                    },
                    "created": "2008-03-18T10:53:54.000+0000",
                    "updated": "2008-03-18T10:53:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19985",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Removing myself as assignee for this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2008-03-18T11:40:52.000+0000",
                    "updated": "2008-03-18T11:40:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19986",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Users requested reopening this issue.\n\nChanging component, since it is not specific to Zend_Db_Table.  Any query to a PDO adapter can exhibit this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2008-03-18T11:57:24.000+0000",
                    "updated": "2008-03-18T11:57:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20355",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Please categorize\/fix as needed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-25T20:43:58.000+0000",
                    "updated": "2008-03-25T20:43:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20428",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Resetting 'fix version priority' and 'fix version' to be re-evaluated for next release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-25T22:06:47.000+0000",
                    "updated": "2008-03-25T22:06:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23309",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=spam38",
                        "name": "spam38",
                        "displayName": "Tim Steiner",
                        "active": true
                    },
                    "body": "It would appear that if you use double quotes instead of single quotes around the string, the problem goes away\n\nie:\nSELECT * FROM users WHERE username = \"chr?i\\'s\";\ninstead of \nSELECT * FROM users WHERE username = 'chr?i\\'s';\n\nWhat are the consequences of having the _quote method use double quotes instead of single quotes?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=spam38",
                        "name": "spam38",
                        "displayName": "Tim Steiner",
                        "active": true
                    },
                    "created": "2008-08-05T09:15:44.000+0000",
                    "updated": "2008-08-05T09:15:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23310",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "@Tim:  Double-quotes used for string delimiters is non-standard SQL.  Double-quotes are supposed to delimit identifiers (e.g. table and column names).  SIngle quotes are the only standard SQL string delimiter.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2008-08-05T09:22:06.000+0000",
                    "updated": "2008-08-05T09:22:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23311",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Bill, do you have any insight for me as per fixing the issue?  I am inclined to mark this as not-an-issue since its a PDO thing.  is that not the right course of action?\n\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2008-08-05T09:29:31.000+0000",
                    "updated": "2008-08-05T09:29:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23320",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Yes, in my opinion this is a non-issue for ZF.  The fault lies in PDO code, not in ZF.  I had closed this issue as a non-issue on 2007-06-20, but users requested that it be re-opened.\n\nThere are two workarounds:\n\n1. Avoid using a PDO adapter if you use string literals in SQL expressions containing both an escaped quote and a question mark (or named parameter like :param).  This is not satisfying some people who say that PDO_MySQL is faster than MySQLi.  However, I'm not sure what the real difference in performance is, or whether it's a dealbreaker for a typical web app.  This deserves some measurement, not anecdotal evidence or artificial benchmarks.\n\n2. Parameterize the SQL string literal, without using interpolation as a \"fake parameter\" mechanism like {{quoteInto()}}.  For example compare the following two solutions, the first using a parameter and the second using {{quoteInto()}}:\n{code}\n\/\/ True parameter solution works:\n$string = \"O'Reilly?\";\n$sql = \"SELECT * FROM foo WHERE c = ?\";\n$stmt = $db->prepare($sql);\n$stmt->execute(array($string));\nprint_r($stmt->fetchAll());\n\n\/\/ Fake parameter solution with interpolation throws exception:\n$string = \"O'Reilly?\";\n$sql = $db->quoteInto(\"SELECT * FROM foo WHERE c = ?\", $string);\n$stmt = $db->prepare($sql);\n$stmt->execute();  \/\/ PDO throws exception here\nprint_r($stmt->fetchAll());\n{code}\n\nIt's still difficult to use params in Zend_Db_Table methods, since those all use interpolation rather than true parameters.  You might want to architect some methods to Zend_Db_Table to support true parameters.  In fact, a community member just posted on the ZF mailing list today with such an idea.  But I think his solution is clumsy.\n\nOne other suggestion:  have someone with privileges on PHP.net actually fix the fault in PDO itself.  I have emailed Wez Furlong about this issue twice in the past, but unfortunately I got no reply.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2008-08-05T11:05:32.000+0000",
                    "updated": "2008-08-05T11:05:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23571",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jameshartford",
                        "name": "jameshartford",
                        "displayName": "James Hartford",
                        "active": true
                    },
                    "body": "This is also an issue when using Zend_Db_Select as follows:\n\n$db = new Zend_Db::factory(...);\n\n$select = $db->select()->from(\"users\")->where(\"firstname=?\", \"test's ?\");\n$rows = $db->fetchAll($select);\n\nIn this case you should be able to detect in Zend_Db_Adapter_Abstract->query() that $sql is an instance of Zend_Db_Select and reset the $sql and $bind values appropriately to use a true parameter solution. Unless this is done, using Zend_Db_Select gives the same result as the fake parameter solution that Bill has shown above.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jameshartford",
                        "name": "jameshartford",
                        "displayName": "James Hartford",
                        "active": true
                    },
                    "created": "2008-08-21T10:22:30.000+0000",
                    "updated": "2008-08-21T10:22:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25536",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=spam38",
                        "name": "spam38",
                        "displayName": "Tim Steiner",
                        "active": true
                    },
                    "body": "I believe the issue is resolved as of PHP 5.2.7RC2",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=spam38",
                        "name": "spam38",
                        "displayName": "Tim Steiner",
                        "active": true
                    },
                    "created": "2008-10-30T14:31:31.000+0000",
                    "updated": "2008-10-30T14:31:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27566",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Ralph, please evaluate this issue and determine the best course of action.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-12-19T15:08:08.000+0000",
                    "updated": "2008-12-19T15:08:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27936",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Has this been resolved in PHP?\n\n-Ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-01-09T13:42:55.000+0000",
                    "updated": "2009-01-09T13:42:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28387",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=serbanghita",
                        "name": "serbanghita",
                        "displayName": "Serban Ghita",
                        "active": true
                    },
                    "body": "this has been fixed in PHP 5.2.8\n\ntake a look at: http:\/\/www.php.net\/ChangeLog-5.php\n\nFixed bugs #44251, #41125 (PDO + quote() + prepare() can result in segfault). (tsteiner at nerdclub dot net)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=serbanghita",
                        "name": "serbanghita",
                        "displayName": "Serban Ghita",
                        "active": true
                    },
                    "created": "2009-01-21T23:30:33.000+0000",
                    "updated": "2009-01-21T23:30:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29118",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "body": "Nope. Nothing has changed in 5.2.8. The bug is still there.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "created": "2009-02-26T09:19:22.000+0000",
                    "updated": "2009-02-26T09:19:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29182",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=johannes",
                        "name": "johannes",
                        "displayName": "Johannes Schill",
                        "active": true
                    },
                    "body": "I had similar (if not the same?) problem with PHP 5.2.3, but yesterday's release - 5.2.9 - solved it here if anyone is interested.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=johannes",
                        "name": "johannes",
                        "displayName": "Johannes Schill",
                        "active": true
                    },
                    "created": "2009-02-27T02:21:32.000+0000",
                    "updated": "2009-02-27T02:21:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29184",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "body": "Yes. I've just upgraded to the yesterday's 5.2.9 release - problem is solved.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "created": "2009-02-27T03:06:00.000+0000",
                    "updated": "2009-02-27T03:06:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29493",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tovrleaf",
                        "name": "tovrleaf",
                        "displayName": "Niko Kivel\u00e4",
                        "active": true
                    },
                    "body": "I experiences this same bug and what I found interesting was that using PDOStatement doesn't crash if you have used single ' before using both ' and ? as:\n{noformat}$select->from('foo')->where('bar = ?', \"test'ing\")->where('bar = ?', \"b'?iz\");{noformat} \n\nThis gives us dirty quick workaround solution (in theory) to add logic to query when input contains both ' and ? for users with PHP version < 5.2.9 to use something like this:\n{noformat}$select->from('foo')->where(\"id <> ?\", \"'\")->where('bar = ?', \"b'?iz\");{noformat} \nwhen \n{noformat} $select->from('foo')->where('bar = ?', \"b'?iz\");{noformat} \ncrashes.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tovrleaf",
                        "name": "tovrleaf",
                        "displayName": "Niko Kivel\u00e4",
                        "active": true
                    },
                    "created": "2009-03-16T01:44:02.000+0000",
                    "updated": "2009-03-16T01:44:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29537",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=snakehit",
                        "name": "snakehit",
                        "displayName": "Snakehit",
                        "active": true
                    },
                    "body": "I have also upgraded to latest version of PHP 5.2.9 and the problem is solved.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=snakehit",
                        "name": "snakehit",
                        "displayName": "Snakehit",
                        "active": true
                    },
                    "created": "2009-03-18T03:55:41.000+0000",
                    "updated": "2009-03-18T03:55:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30458",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joust",
                        "name": "joust",
                        "displayName": "Artur Bodera",
                        "active": true
                    },
                    "body": "This sucks when you can't use the newest PHP version.\n\nMy workaround for the problem  (only for Mysql, may have other negative effects)\n{code}\n$db->getConnection()->setAttribute(PDO::MYSQL_ATTR_DIRECT_QUERY, false);\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joust",
                        "name": "joust",
                        "displayName": "Artur Bodera",
                        "active": true
                    },
                    "created": "2009-04-27T04:29:48.000+0000",
                    "updated": "2009-04-27T04:29:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30466",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joust",
                        "name": "joust",
                        "displayName": "Artur Bodera",
                        "active": true
                    },
                    "body": "Unfortunatelly PDO sucks even more, and the same error happend when using :varName binding, ie:\n{code}\nSELECT * FROM table  WHERE name = '}elhF\\'?:u|h>\\'?n\\'?'\n{code}\n\nThis query, even with my woarkound above, will throw *SQLSTATE[HY093]: Invalid parameter number: mixed named and positional parameters*. That's because it sees :u as a parameter. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=joust",
                        "name": "joust",
                        "displayName": "Artur Bodera",
                        "active": true
                    },
                    "created": "2009-04-27T07:36:08.000+0000",
                    "updated": "2009-04-27T07:36:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31118",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Test case commited, this appears to be not an issue in php 5.2.8",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-05-18T15:41:01.000+0000",
                    "updated": "2009-05-18T15:41:01.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1343\/transitions"
}