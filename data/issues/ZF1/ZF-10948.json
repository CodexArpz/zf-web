{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10948",
    "key": "ZF-10948",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "option to disable translation of labels in zend navigation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10948\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                "name": "admirau",
                "displayName": "Tomek P\u0119szor",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-01-14T04:52:36.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-02-10T16:18:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Navigation *always* translates labels and titles for the container.\r\n\r\nThere is an option in the view helper to disable the translation for the whole container, but there is no option to disable this translation for specific pages.\r\n\r\nExample use case:\r\n\r\n{code}\r\n$page = new Zend_Navigation_Page_Mvc(}}\r\n    array(\r\n        'label' => $blogPost->alreadyTranslatedTitleFromDb\r\n        \/\/ ... \r\n    )\r\n);\r\n\r\n$page2 = new Zend_Navigation_Page_Mvc(\r\n    array(\r\n        'title' => 'Edit: ' . $blogPost->alreadyTranslatedTitleFromDb\r\n        \/\/ ... \r\n    )\r\n);\r\n\r\n\r\n$container->addPage($page);\r\n$container->addPage($page2);\r\n\r\n{code}\r\n\r\nNow, when I use:\r\n\r\n{code}\r\n$page->getLabel();\r\n{code}\r\n\r\nor \r\n\r\n{code}\r\n$page2->getTitle();\r\n{code}\r\n\r\nthe label is translated twice. The same for breadcrumbs, sitemaps etc.\r\n\r\nTranslation logs are filled with ~random messages.\r\n\r\nOption to disable the translation is needed:\r\n\r\n{code}\r\n$page = new Zend_Navigation_Page_Mvc(\r\n    array(\r\n        'label' => $blogPost->alreadyTranslatedTitleFromDb\r\n        'disableTranslation' => true\r\n        \/\/ ... \r\n    )\r\n);\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10948\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14972",
                    "filename": "0001-Add-useTranslator-support-for-Zend_Navigation-contai.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-03-21T20:56:03.000+0000",
                    "size": 17152,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14972\/0001-Add-useTranslator-support-for-Zend_Navigation-contai.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10520",
                    "id": 10520,
                    "description": "Mini Release",
                    "name": "1.11.2",
                    "userReleaseDate": "30\/Dec\/10",
                    "archived": false,
                    "releaseDate": "2010-12-30",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44027",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "This is not a bug, because the Zend_Navigation - view helpers translate the label and title only once! \r\nI think this is more of a suggestion for an improvement. Please change the type of these issue and remove it as an affected component Zend_Translate.\r\n\r\nCan you write a few tests and a patch? That would be very useful for quick editing.\r\nThanks.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-01-14T05:33:11.000+0000",
                    "updated": "2011-01-14T05:36:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44031",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "body": "Changed priority to major, because the patch with unit tests is available and can be easily fixed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "created": "2011-01-15T03:08:28.000+0000",
                    "updated": "2011-01-15T03:08:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44032",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "body": "I wrote a fix for this issue, including unit tests.\r\nThe fix *is* backwards compatible.\r\n\r\nHere is link to the patch and modified files:\r\nhttp:\/\/taat.pl\/useTranslator_Zend_Navigation_Container_patch.tar.gz\r\n(how can I upload it here? Could someone do this?)\r\n\r\nThis basically adds useTranslator property with getter and setter,\r\nand some conditions in view helpers handling the new option.\r\n\r\nThe patch contains new methods for the unit tests\r\nand the modifications to the library itself.\r\n\r\nList of modified files.\r\n\r\nModified: library\/Zend\/Navigation\/Container.php\r\nModified: library\/Zend\/Navigation\/Page.php\r\nModified: library\/Zend\/View\/Helper\/Navigation\/Breadcrumbs.php\r\nModified: library\/Zend\/View\/Helper\/Navigation\/HelperAbstract.php\r\nModified: library\/Zend\/View\/Helper\/Navigation\/Menu.php\r\n\r\nUnit Tests:\r\n\r\nModified: tests\/Zend\/Navigation\/ContainerTest.php\r\nModified: tests\/Zend\/Navigation\/PageTest.php\r\nModified: tests\/Zend\/View\/Helper\/Navigation\/BreadcrumbsTest.php\r\nModified: tests\/Zend\/View\/Helper\/Navigation\/MenuTest.php\r\nModified: tests\/Zend\/View\/Helper\/Navigation\/NavigationTest.php\r\nAdded: tests\/Zend\/View\/Helper\/Navigation\/_files\/expected\/menu\/translated_one_page_without_translator.html\r\n\r\nThanks.\r\n\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "created": "2011-01-15T03:17:48.000+0000",
                    "updated": "2011-01-15T03:17:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48546",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Hi Tomek,\r\nwhy the container must be changed?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-09-27T18:00:26.000+0000",
                    "updated": "2011-09-27T18:00:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48553",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "body": "Frank,\r\n\r\nWhen you want to add a page, which is already translated, currently there's no option to disable translation just for this particular page container on the pre-view helper level (without iteration).\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=admirau",
                        "name": "admirau",
                        "displayName": "Tomek P\u0119szor",
                        "active": true
                    },
                    "created": "2011-09-29T07:22:39.000+0000",
                    "updated": "2011-09-29T07:23:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50094",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Patch and unit tests from Tomek added.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-03-21T20:56:03.000+0000",
                    "updated": "2012-03-21T20:56:03.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10948\/transitions"
}