{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4556",
    "key": "ZF-4556",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Checkbox, can't toggle anymore, wrong checkValue"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4556\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-11-06T12:46:41.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=becoded",
                "name": "becoded",
                "displayName": "Bert Van Hauwaert",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-10-11T02:29:45.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-11-06T12:57:29.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "In ZF 1.5.2, you could use a checkbox to toggle between 0 and 1. (Without specifying any values in your config)\nNow, in ZF 1.6.1, this doesn't work any more.\n\nIn the the static function, determineCheckboxInfo from the FormCheckbox viewhelper there is a check if the value !== null. Then the unCheckedValue will be set with the value of self::$_defaultCheckedOptions['unChecked'] but checkedValue remains null.\nLater on in the function there is a check if the checkedValue is null and if so, then the checkedValue will be set to the value given to the function.\n\nSo that means that if the initial value of the checkbox is 0 (so checkbox is unChecked), only the unCheckedValue will be set with the default value. This means that checkedValue remains null and will be changed to 0 in the last if-statement. So this results in a checkedValue of 0 and an unCheckedValue of 0. So you can't toggle anymore because the value will always be 0.\n\nIt seems related to http:\/\/framework.zend.com\/issues\/browse\/ZF-4274 but without the use of Dojo\n\nFor the moment, I changed on line 135  \n} elseif ($value !== null) {\nto  \n} elseif ($value !== null && $value != self::$_defaultCheckedOptions['unChecked']) {\nto make it backwards compatible"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4556\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                "name": "mcleod@spaceweb.nl",
                "displayName": "Bart McLeod",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10201",
                    "id": 10201,
                    "description": "Mini Release",
                    "name": "1.6.1",
                    "userReleaseDate": "15\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-15",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25757",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "body": "I noticed the same behavior a long time ago as I updated from svn. It can be easily worked around by setting the checked value.\n\n{code}\/\/in navigation checkbox\n    \t$in_mainmenu = new Zend_Form_Element_Checkbox('in_mainmenu');\n    \t$in_mainmenu->setLabel('in main menu')->setCheckedValue('ja');\n    \t$form->addElement($in_mainmenu);\n{code}\n\nBecause It can be so easily worked around, I do not think of this as a critical bug. Will therefore change it to major, although minor would be even better.\n\nWill also try to fix it in the meantime, because it was a great feature that you could just toggle it without doing anything.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "created": "2008-11-06T07:27:52.000+0000",
                    "updated": "2008-11-06T07:27:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25781",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "body": "This is no longer an issue. If you create the most basic form, you will not be able to reproduce the error. Try this form:\n\n\n{code}\nrequire_once 'Zend\/Loader.php';\n\/**\n * Loads all Zend Framework classes automagically\n *\n * @param string $className\n *\/\nfunction __autoload($className){\n    Zend_Loader::loadClass($className);\n}\n\n$form = new Zend_Form('test');\n$form->setView(new Zend_View());\n$form->setAction('');\n$form->setMethod('post');\n$form->addElement('checkbox', 'mine');\n$form->addElement('submit','metoo');\n$form->isValid($_POST);\necho $form;\n{code}\n\nThis form will post to itself and populate itself as a result of $form->isValid($_POST); It is perfectly able to toggle.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "created": "2008-11-06T12:46:41.000+0000",
                    "updated": "2008-11-06T12:46:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25782",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "body": "Now that I think of it more carefully, I noticed this behavior before and it still 'exists' if the checkedValue that you populate the form with is different from '1'. But that is by design.\n\nBefore 1.6 you could toggle it with ANY value on populate. Say you would not set a checkedValue in your config or explicitly on a class instance, you could check the box  by passing in 'anyvalue' as opposed to null, false or 0 (I guess). That was kind a fun, but also a little unexpected. \n\nSo now you can only toggle by populating with '1', unless you set the checkedValue to the value you desire.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "created": "2008-11-06T12:57:29.000+0000",
                    "updated": "2008-11-06T12:57:29.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4556\/transitions"
}