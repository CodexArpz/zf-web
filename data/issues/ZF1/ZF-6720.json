{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6720",
    "key": "ZF-6720",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Config_Writer has no option to get a string of the config data, it can only output to file"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6720\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                "name": "naneau",
                "displayName": "Maurice Fonk",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-19T02:16:39.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T21:38:04.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Config_Writer has no option to obtain a string of the configuration data it will write to a file. There are instances where you would like to work with the string instead of simply writing it to a file. You might want to store the config data in something other than a file, or expose them through a web service."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6720\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/4",
                "name": "Reopened"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10371",
                    "id": 10371,
                    "name": "Zend_Config_Writer",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31125",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "Why would you want to store a configuration as XML (which kinda is a database) in another database?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-05-19T02:22:54.000+0000",
                    "updated": "2009-05-19T02:22:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31126",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "There are many valid reasons (think user-specific configs, that are not predefined), xml is a handier format for storing trees than relational databases anyway.  Databases aren't the only application here.  I have a service layer which needs access to configuration that is the result of merged configs for which I need an xml string.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-05-19T02:37:11.000+0000",
                    "updated": "2009-05-19T02:37:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31129",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "It's not the sense of a writer to output strings. If you want to store a config object in a database, simply do serialize($config) or something similar.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-05-19T03:56:55.000+0000",
                    "updated": "2009-05-19T03:56:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31209",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "Closing the issue with this reply is absolutely not satisfactory and downright insulting, please be professional.\n\nThere are many valid reasons one could have to obtain just string and do the actual writing to a i\/o stream separately. Creating a web-service which exposes (parts of) a configuration was the one I ran into. I can also see a use case, for xml configs, where one would do XSLT upon the string. Your idea that xml is \"kinda a database\" is a fallacy as a file-system is one too. \n\nThe need to store configurations (that are variable) in a standardized format in a database is the most obvious use case. Your proposed solution to use a serialized config object is extremely poor design and would pin all future queries against that database to a php implementation. While it is true that one could model an actual variable configuration layer in a relational database, ZF offers no support for db based configs.\n\nThe fact that the writer already has all the necessary functionality to produce strings makes a fix for this issue easy. Furthermore it could be implemented without breaking the API, although I must say that the file-centric implementation is poorly thought out anyway. What is the rationale behind the limitation towards file-based config writing?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-05-21T04:00:40.000+0000",
                    "updated": "2009-05-21T05:58:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31210",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "Speaking of poor design, it is pretty wrong as well to store XML in a database when you could do it in the correct way. I have created a Zend_Config_Db proposal some time ago, but since there was never much feedback, I had froozen it. If you are actually interested in storing configurations in a database, you should comment on that proposal.\n\nhttp:\/\/framework.zend.com\/wiki\/x\/jwAa",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-05-21T04:17:53.000+0000",
                    "updated": "2009-05-21T04:18:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31212",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "body": "I have to agree with Ben.\n\nIt is not the purpose that has driven the design of the config writers, and if it were, then this issue should be for Zend_Config_Writer and not Zend_Config_Writer_Xml.\n\nIt does sound as though the means to your end would be better suited with something like SimpleXML, or one of the other many native PHP XML libraries.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "created": "2009-05-21T04:44:09.000+0000",
                    "updated": "2009-05-21T04:44:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31213",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "Agreed, Zend_Config_Db is the ultimate solution for db-based configs. However, that is a completely separate issue from the one at hand here. Ryan makes a fair point that this issue is more related to Zend_Config_Writer in general than Zend_Config_Writer_Xml. Xml output is probably the more requested, but that does not mean that I might not want to expose my configurations in ini format for instance.\n\nAlso, for ben, I would suggest you read http:\/\/dev.mysql.com\/tech-resources\/articles\/xml-in-mysql5.1-6.0.html for some background info about how xml is used in conjunction with relational databases (a quick google should turn up more about this subject).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-05-21T05:01:54.000+0000",
                    "updated": "2009-05-21T05:01:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31214",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "Updated the description a little to reflect the fact that this applies to Zend_Config_Writer in general, not just Zend_Config_Writer_Xml",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-05-21T05:04:42.000+0000",
                    "updated": "2009-05-21T05:04:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31411",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=becoded",
                        "name": "becoded",
                        "displayName": "Bert Van Hauwaert",
                        "active": true
                    },
                    "body": "I need something similar. \nI made some modules that you can install. It will execute some SQL-statements, copy some files and it also needs to merge some config-files. I can't and I also don't want to write the merged config to the filesystem. I want to output the config and after a manual check, I will copy and paste the new config in the right file (sometimes, i don't want the changes to be made). Almost everything is already written to make this happen. Just add a toString method or something and copy almost everything from the write method in the new method. The write method will then call the toString method and write everything to the file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=becoded",
                        "name": "becoded",
                        "displayName": "Bert Van Hauwaert",
                        "active": true
                    },
                    "created": "2009-05-28T01:35:55.000+0000",
                    "updated": "2009-05-28T01:35:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38267",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ronny+stalker",
                        "name": "ronny stalker",
                        "displayName": "jw",
                        "active": true
                    },
                    "body": "Here is a hacked extension that allows you to return an XML string.\r\n\r\nIf the ''file aspects'' were separated\/refactored from the ''xml generation'' aspects in the write() method of the parent class, then the extension would be a lot less smelly.\r\n\r\nApologies for breaking code-style convention - i think my way is nicer and easier read...funny that.\r\n\r\nAny way this does the job i think:\r\n\r\n{code} \r\nrequire_once 'Zend\/Config\/Writer\/Xml.php';\r\n\r\n\/**\r\n * i basically copied the write method and removed the bits relating to files\r\n *\/\r\nclass MYzendx_Config_Writer_XmlString extends Zend_Config_Writer_Xml\r\n\t{\r\n\t\/**\r\n\t* \r\n\t* returns a string\r\n\t*\r\n\t* @param  Zend_Config $config\r\n\t*\r\n\t*\r\n\t* @return string\r\n\t*\/\r\n\tpublic function writeString(Zend_Config $config = null)\r\n\t\t{\r\n\r\n\t\tif ($config !== null)\r\n\t\t\t{\r\n\t\t\t$this->setConfig($config);\r\n\t\t\t}\r\n\r\n\r\n\t\tif ($this->_config === null)\r\n\t\t\t{\r\n\t\t\trequire_once 'Zend\/Config\/Exception.php';\r\n\t\t\tthrow new Zend_Config_Exception('No config was set');\r\n\t\t\t}\r\n\r\n\t\t$xml         = new SimpleXMLElement('<zend-config\/>');\r\n\t\t$extends     = $this->_config->getExtends();\r\n\t\t$sectionName = $this->_config->getSectionName();\r\n\r\n\t\tif (is_string($sectionName))\r\n\t\t\t{\r\n\t\t\t$child = $xml->addChild($sectionName);\r\n\r\n\t\t\t$this->_addBranch($this->_config, $child);\r\n\t\t\t}\r\n\t\t else \t{\r\n\t\t\tforeach ($this->_config as $sectionName => $data)\r\n\t\t\t\t{\r\n\t\t\t\tif (!($data instanceof Zend_Config)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t$child = $xml->addChild($sectionName);\r\n\r\n\t\t\tif (isset($extends[$sectionName]))\r\n\t\t\t\t{\r\n\t\t\t\t$child->addAttribute('extends', $extends[$sectionName]);\r\n\t\t\t\t}\r\n\r\n\t\t\t$this->_addBranch($data, $child);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$dom = dom_import_simplexml($xml)->ownerDocument;\r\n\t\t$dom->formatOutput = true;\r\n\r\n\t\t$xmlString = $dom->saveXML();\r\n\r\n\t\treturn $xmlString;\r\n\t\t}\r\n\r\n\t\/\/i thought i'd add this bit just for the record\r\n\r\n\t\/**\r\n\t* Defined by Zend_Config_Writer\r\n\t*\r\n\t* @param  string      $filename\r\n\t* @param  Zend_Config $config\r\n\t* @throws Zend_Config_Exception When filename was not set\r\n\t* @throws Zend_Config_Exception When filename is not writable\r\n\t* @return void\r\n\t*\/\r\n\t\/*\r\n\tpublic function write($filename = null, Zend_Config $config = null)\r\n\t\t{\r\n\t\tif ($filename !== null)\r\n\t\t\t{\r\n\t\t\t$this->setFilename($filename);\r\n\t\t\t}\r\n\r\n\t\t\/\/----------modification start\r\n\r\n\t\tif ($this->_filename === null)\r\n\t\t\t{\r\n\t\t\trequire_once 'Zend\/Config\/Exception.php';\r\n\t\t\tthrow new Zend_Config_Exception('No filename was set');\r\n\t\t\t}\r\n\r\n\t\t$xmlString = $this->writeString($config);\r\n\r\n\r\n\t\t\/\/----------modification end\r\n\r\n\t\t$result = @file_put_contents($this->_filename, $xmlString);\r\n\r\n\t\tif ($result === false)\r\n\t\t\t{\r\n\t\t\trequire_once 'Zend\/Config\/Exception.php';\r\n\t\t\tthrow new Zend_Config_Exception('Could not write to file \"' . $this->_filename . '\"');\r\n\t\t\t}\r\n\t\t}\r\n\t*\/\r\n\r\n\t}\r\n{code} ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ronny+stalker",
                        "name": "ronny stalker",
                        "displayName": "jw",
                        "active": true
                    },
                    "created": "2010-02-04T22:04:05.000+0000",
                    "updated": "2010-02-04T22:23:15.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6720\/transitions"
}