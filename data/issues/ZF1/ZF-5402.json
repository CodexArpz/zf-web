{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5402",
    "key": "ZF-5402",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Auth_Adapter_Http design requires cleartext passwords from resolvers"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5402\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lmorchard",
                "name": "lmorchard",
                "displayName": "leslie michael orchard",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-01-04T18:45:10.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-02-18T15:13:02.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I'm trying to use Zend_Auth_Adapter_Http with a model that only has access to MD5 hashes of passwords.  However, the relationship between the adapter and Zend_Auth_Adapter_Http_Resolver_Interface implementations requires that a cleartext password be returned.\n\nThe culprit is in this code, around line 540 of Zend_Auth_Adapter_Http:\n\n{code}\n        $password = $this->_basicResolver->resolve($creds[0], $this->_realm);\n        if ($password && $password == $creds[1]) {\n            $identity = array('username'=>$creds[0], 'realm'=>$this->_realm);\n            return new Zend_Auth_Result(Zend_Auth_Result::SUCCESS, $identity);\n        } else {\n            return $this->_challengeClient();\n        }\n{code}\n\nOnly the username is passed to the resolver, and a cleartext password is expected in return.  \n\nFor my own use, I've written a subclass that overrides this method.  It passes both username and password to the resolver, expecting a boolean in return indicating whether the password was valid:\n\n{code}\n        $password_match = $this->_basicResolver->resolve($creds, $this->_realm);\n        if (true == $password_match) {\n            $identity = array('username'=>$creds[0], 'realm'=>$this->_realm);\n            return new Zend_Auth_Result(Zend_Auth_Result::SUCCESS, $identity);\n        } else {\n            return $this->_challengeClient();\n        }\n{code}\n\nThis seems like the only way to make the thing work for my purposes."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/6",
                "name": "N\/A"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5402\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/10000",
                "name": "Postponed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10270",
                    "id": 10270,
                    "description": "Mini Release",
                    "name": "1.7.1",
                    "userReleaseDate": "01\/Dec\/08",
                    "archived": false,
                    "releaseDate": "2008-12-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10084",
                    "id": 10084,
                    "name": "Zend_Auth",
                    "description": "A abstraction for various concrete web application authentication implementations.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28694",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "body": "In HTTP Basic authentication, the client effectively sends the password over the wire in clear text (base64 encoded). Also, the one included Resolver is used for both Basic and Digest authentication, so it must treat the password field in the file as opaque. These are legitimate design problems with the HTTP Auth adapter. The only simple solution to this particular issue (within the current design), would be to pick an arbitrary encoding or hash algorithm (such as MD5), and require that the password returned from the Resolver is in that encoding\/hash. That creates a backward-compatibility problem, if you consider the file format used by the resolver for basic auth part of the API.\n\nI've already completely redesigned this adapter, but I haven't yet figured out how\/if I can provide a 1.x-compatible facade for the new API.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "created": "2009-02-07T16:19:14.000+0000",
                    "updated": "2009-02-07T16:19:14.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5402\/transitions"
}