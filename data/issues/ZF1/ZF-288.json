{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-288",
    "key": "ZF-288",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Enable Router to work without relying on mod_rewrite (or equivalent for other web servers)"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-288\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10002",
                    "id": 10002,
                    "description": "Preview Release; MVC refactoring and other enhancements and fixes",
                    "name": "0.2.0",
                    "userReleaseDate": "29\/Oct\/06",
                    "archived": true,
                    "releaseDate": "2006-10-29",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2006-07-27T03:42:44.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2006-07-26T20:59:30.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:16.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "For example, combining .htaccess, http:\/\/httpd.apache.org\/docs\/2.2\/mod\/core.html#acceptpathinfo, and $_SERVER['PATH_INFO'], it is possible to extremely efficiently map http:\/\/www.foo.com\/something.php\/* to a ZF bootstrap script without the overhead of mod_rewrite.\n\nThis issue is *not* about which approach is better.  A non-trivial percentage of potential ZF users will not be able to use mod_rewrite for one of several possible reasons.  If we support an alternative, then some portion of those users will be able to use ZF."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-288\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                "name": "martel",
                "displayName": "Michal Minicki",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-262",
                    "issue": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-262",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10010",
                    "id": 10010,
                    "description": "Preview Release",
                    "name": "0.1.3",
                    "userReleaseDate": "18\/Apr\/06",
                    "archived": true,
                    "releaseDate": "2006-04-18",
                    "released": true
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10000",
                    "id": 10000,
                    "description": "Preview Release",
                    "name": "0.1.4",
                    "userReleaseDate": "29\/Jun\/06",
                    "archived": true,
                    "releaseDate": "2006-06-29",
                    "released": true
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10001",
                    "id": 10001,
                    "description": "Preview Release",
                    "name": "0.1.5",
                    "userReleaseDate": "11\/Jul\/06",
                    "archived": true,
                    "releaseDate": "2006-07-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10614",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "body": "First things first - current solution (RewriteRouter) allows you to use the framework without mod_rewrite. URLs like 'http:\/\/test.nebula.intranet\/index.php\/archive\/2006\/07' and 'http:\/\/localhost\/test\/index.php\/archive\/2006\/07' will just work.\n\nThe problem with pure path_info is that you don't have access to the rewrite base (eg. 'test\/index.php') so you can't get correct URLs for your application root (to use for img, css, js, etc). But since it's a standard CGI environment variable, it's definately worth checking out as a possible source of getting the base out of the request URI (by stripping path_info). This may prevent the hacks needed to bypass this bug (or feature):\n\nhttp:\/\/bugs.php.net\/bug.php?id=38141\nhttp:\/\/issues.apache.org\/bugzilla\/show_bug.cgi?id=40102",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "created": "2006-07-27T03:42:44.000+0000",
                    "updated": "2006-07-27T03:42:44.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10615",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "body": "Oh, and one more thing - this does seem not to work on IIS. Is there an equivalent of AcceptPathInfo on that server software?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "created": "2006-07-27T03:44:50.000+0000",
                    "updated": "2006-07-27T03:44:50.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10660",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "body": "Gavin, I have tried to use PATH_INFO for the task but it seems the bug also touches this one. \n\nIf you place your RewriteRules under <Directory> or in .htaccess everything works. But if you place it directly under <VirtualHost> you get:\n\nFor the root dir:\n\n$_SERVER['DOCUMENT_ROOT'] = '\/var\/www\/localhost\/htdocs\/test'\n$_SERVER['SCRIPT_FILENAME'] = '\/var\/www\/localhost\/htdocs\/test\/index.php'\n$_SERVER['REQUEST_URI'] = '\/'\n$_SERVER['SCRIPT_NAME'] = ''\n$_SERVER['PATH_INFO'] = '\/index.html' \/\/ OMG!\n\nFor deeper URL (see request_uri) where PATH_INFO should be initialized (notice SCRIPT_NAME is \nstill wrong):\n\n$_SERVER['DOCUMENT_ROOT'] = '\/var\/www\/localhost\/htdocs\/test'\n$_SERVER['SCRIPT_FILENAME'] = '\/var\/www\/localhost\/htdocs\/test\/index.php'\n$_SERVER['REQUEST_URI'] = '\/archive\/2006\/05'\n$_SERVER['SCRIPT_NAME'] = ''\n$_SERVER['PATH_INFO'] = '\/archive\/2006\/05'\n\nOf course SCRIPT_NAME should be '\/index.php' in both of these cases.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "created": "2006-08-03T04:11:08.000+0000",
                    "updated": "2006-08-03T04:11:08.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10662",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "body": "And about the PathInfo on IIS. It is possible to make it work:\nhttp:\/\/support.microsoft.com\/kb\/184320\/EN-US\/\n\nLong story short, everything which needs to be done is to:\n\n1.\tChange to the following directory (depending on platform):\nWindows 2000: Drive:\\inetpub\\adminscripts\nWindows NT 4: Drive:\\winnt\\system32\\inetsrv\\adminsamples \n\n2.\tType the following:\nadsutil set w3svc\/AllowPathInfoForScriptMappings True (Sets at Master Properties Level)\nadsutil set w3svc\/1\/AllowPathInfoForScriptMappings True (Sets at WebSite Level)\n\nAnd voila.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=martel",
                        "name": "martel",
                        "displayName": "Michal Minicki",
                        "active": true
                    },
                    "created": "2006-08-03T11:54:05.000+0000",
                    "updated": "2006-08-03T11:54:05.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10704",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "I have written several web applications in the past without using mod_rewrite, instead using $_SERVER['PATH_INFO'], and have not had a problem referencing images, CSS, and Javascript files from within an application accessed via http:\/\/www.foo.com\/index.php\/something\/goes\/here.  However, there are numerous external inconsistencies in the environmental input provided to PHP.  Thus we must find test conditions and patterns amongst $_SERVER[] variables in order to make this work.\n\nI don't expect PATH_INFO to solve everyone's problems, but merely to provide another possible way for the ZF to work on their deployment platform, thus increasing the probability they can succeed when trying to install ZF applications.  Within a couple years, the majority of deployments of the ZF might be end users deploying ZF applications written by other developers.  Thus, installation needs to be easy .. and work, despite complications like mod_rewrite or use of PATH_INFO.\n\nThe current consensus leans toward splitting this functionality (analyzing $_SERVER and normalizing the \"base\" URL \/ file path) into a new class, Zend_Http_Request.  If we have Zend_Environment deployed, it might facilitate collection of environmental data (e.g. $_SERVER) to aid in testing a wide variety of deployment environments.  In fact, we probably could ask everyone to voluntarily submit the \"dump\" from Zend_Environment to help provide a large suite of test data.  See the new proposal here: http:\/\/framework.zend.com\/wiki\/x\/JgM\n\nThe ZF will have a Zend_Config ini config file.  Some details in this ini file might be configured automagically, drawing upon some of the test results from Zend_Environment, and other checks\/tests, such as whether or not $_SERVER['PATH_INFO'] works.\n\n$_SERVER[] variables that might help:\n- PHP_SELF\n- SCRIPT_FILENAME\n- SCRIPT_NAME\n- REQUEST_URI\n\nThere are other variables (e.g. environment), but the ones in $_SERVER *ought* to be the \"normalized\" values as created by code inside PHP itself (in the SAPI).  We may find that we need a long list of use cases and must test for many in order to normalize the data we need and make things work \"out of the box\".\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2006-08-15T20:40:23.000+0000",
                    "updated": "2006-08-15T20:40:23.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10717",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "Also, we plan to have a Zend Framework \"INI\" file using Zend_Config.  Thus, the computational resources required to test and determine the correct rewrite base won't be a concern for ZF 1.0, since the computation need not be performed on every execution.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2006-08-17T13:30:31.000+0000",
                    "updated": "2006-08-17T13:30:31.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-288\/transitions"
}