{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4158",
    "key": "ZF-4158",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "GData Ignores my parameters (max-results, start-index etc) when fetching feeds"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/5",
                "name": "Sub-task",
                "subtask": true
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4158\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10412",
                    "id": 10412,
                    "description": "Mini Release",
                    "name": "1.10.1",
                    "userReleaseDate": "10\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-10",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-02-06T07:51:08.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=premjg",
                "name": "premjg",
                "displayName": "Prem Pillai",
                "active": true
            }
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-09-01T23:26:12.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-02-06T07:51:08.000+0000"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "GData Ignores my parameters (max-results, start-index etc) when fetching feeds.\nNo matter what parameter values I add, the GData cbntacts feed always returns the same data set (first 25 entries)\n\nHere's my code:\n\n<?php\nsession_start();\n\/\/header(\"Content-type: text\/xml\");\n\nrequire_once 'Zend\/Oauth\/Consumer.php';\nrequire_once 'Zend\/Crypt\/Rsa\/Key\/Private.php';\nrequire_once 'Zend\/Gdata\/ClientLogin.php';\nrequire_once 'Zend\/Gdata.php';\n\n$users_index = $_SESSION['users_index'];\n\n\/\/ my rsa key string. when in production, put this string in an\nexternal file and call it using get_file_contents\n$test_cert = <<<_CERT\n-----BEGIN RSA PRIVATE KEY-----\nsadfdsfsdfdsfsdfsdfsdsdfsdfsdfsdfsdfsd\n-----END RSA PRIVATE KEY-----\n_CERT;\n\n$options = array(\n    'requestScheme' => Zend_Oauth::REQUEST_SCHEME_QUERYSTRING,\n    'version' => '1.0',\n    'signatureMethod' => 'RSA-SHA1',\n    'callbackUrl' => 'http:\/\/www.mydomain.com\/act\/test', \/\/ UPDATE FOR\nYOUR DETAILS\n    'requestTokenUrl' => 'https:\/\/www.google.com\/accounts\/\nOAuthGetRequestToken',\n    'userAuthorisationUrl' => 'https:\/\/www.google.com\/accounts\/\nOAuthAuthorizeToken',\n    'accessTokenUrl' => 'https:\/\/www.google.com\/accounts\/\nOAuthGetAccessToken',\n    'consumerKey' => 'www.mydomain.com',  \/\/ UPDATE FOR YOUR DETAILS\n    'consumerSecret' => new Zend_Crypt_Rsa_Key_Private($test_cert)\n);\n\n\/**\n * Example utilises the Google Contacts API\n *\/\n\n$consumer = new Zend_Oauth_Consumer($options);\n\nif (!isset($_SESSION['ACCESS_TOKEN_GOOGLE'])) {\n    if (!empty($_GET)) {\n        \/\/ Google does not like empty POST bodies - switch to GET\n        $token = $consumer->getAccessToken($_GET,\nunserialize($_SESSION['REQUEST_TOKEN_GOOGLE']), Zend_Oauth::GET);\n        $_SESSION['ACCESS_TOKEN_GOOGLE'] = serialize($token);\n    } else {\n        \/\/ Default POST works fine here since POST body contains scope\nparameter\n        $token = $consumer->getRequestToken(array('scope'=>'http:\/\/\nwww.google.com\/m8\/feeds'), Zend_Oauth::GET);\n        $_SESSION['REQUEST_TOKEN_GOOGLE'] = serialize($token);\n        $consumer->redirect();\n        exit;\n    }\n} else {\n\n    $token = unserialize($_SESSION['ACCESS_TOKEN_GOOGLE']);\n    $_SESSION['ACCESS_TOKEN_GOOGLE'] = null;\n\n}\n\n\/\/ OAuth Access Token Retreived; Proceed to query Data API\n$client = $token->getHttpClient($options);\n\/\/$client->setUri('http:\/\/www.google.com\/m8\/feeds\/groups\/default\/\nfull');\n\/\/$client->setMethod(Zend_Http_Client::GET);\n\n$contact = new Zend_Gdata($client);\n\n$contact_count =0;\n\n$query = new Zend_Gdata_Query('http:\/\/www.google.com\/m8\/feeds\/contacts\/\ndefault\/full');\n\n$feed = $contact->getFeed($query);\n\n$name = \"\";\n$email = \"\";\n\n$db = new db_connect();\n$db = $db->db;\n\nforeach($feed as $entry){\n        $name = $entry->title;\n\n        $parts = $entry->getExtensionElements();\n        foreach($parts as $p){\n                $element = $p->getDOM();\n                switch($element->tagName){\n                        case 'email':\n                                $email = $element->getAttribute('address');\n                                break;\n                        default:\n                                continue;\n                }\n        }\n$data = array(\n    'name'      => \"$name\",\n    'email' => \"$email\",\n        'users_index' => $users_index\n);\n\n\/\/insert into DB here\n\n$contact_count++;\n} "
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4158\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tjohns",
                "name": "tjohns",
                "displayName": "Trevor Johns",
                "active": true
            }
        },
        "parent": {
            "name": "parent",
            "type": "issuelinks",
            "value": {
                "issueKey": "ZF-3369",
                "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3369",
                "type": {
                    "name": "Parent",
                    "direction": "INBOUND"
                }
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11513",
                    "filename": "ZF-4158_v1.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tjohns",
                        "name": "tjohns",
                        "displayName": "Trevor Johns",
                        "active": true
                    },
                    "created": "2008-09-02T16:36:25.000+0000",
                    "size": 1174,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11513\/ZF-4158_v1.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10172",
                    "id": 10172,
                    "description": "Minor Release",
                    "name": "1.5.0",
                    "userReleaseDate": "17\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-17",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10088",
                    "id": 10088,
                    "name": "Zend_Gdata",
                    "description": "Class interface to Google Data API's.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24229",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tjohns",
                        "name": "tjohns",
                        "displayName": "Trevor Johns",
                        "active": true
                    },
                    "body": "This is being caused by Zend_Oauth_client not preserving query parameters on a GET request.\n\nAttached [^ZF-4158_v1.patch] as a patch to fix this behavior, to be sent to [~padraic] for review.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tjohns",
                        "name": "tjohns",
                        "displayName": "Trevor Johns",
                        "active": true
                    },
                    "created": "2008-09-02T16:36:28.000+0000",
                    "updated": "2008-09-02T16:36:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31342",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yongfook",
                        "name": "yongfook",
                        "displayName": "Jon Cockle",
                        "active": true
                    },
                    "body": "I am still seeing this issue with the latest version in the incubator:\nhttp:\/\/framework.zend.com\/svn\/framework\/standard\/incubator\/library\/Zend\/\n\nand the above patch unfortunately doesn't seem to fix it.\n\nI'm experiencing the same issue - GET params are stripped before sending requests, meaning that using Zend_Oauth for GData doesn't work beyond authentication.\n\nIs there any update on this?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yongfook",
                        "name": "yongfook",
                        "displayName": "Jon Cockle",
                        "active": true
                    },
                    "created": "2009-05-25T21:24:00.000+0000",
                    "updated": "2009-05-25T21:24:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31343",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yongfook",
                        "name": "yongfook",
                        "displayName": "Jon Cockle",
                        "active": true
                    },
                    "body": "sorry, my mistake.\n\nthe patch fixes the issue but you still need to manually set:\n\n$client->setRequestScheme(Zend_Oauth::REQUEST_SCHEME_QUERYSTRING); \n\nbefore sending your request.\n\nlooks good though.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yongfook",
                        "name": "yongfook",
                        "displayName": "Jon Cockle",
                        "active": true
                    },
                    "created": "2009-05-25T21:37:23.000+0000",
                    "updated": "2009-05-25T21:37:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38298",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=padraic",
                        "name": "padraic",
                        "displayName": "P\u00e1draic Brady",
                        "active": true
                    },
                    "body": "Fixed in r20938",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=padraic",
                        "name": "padraic",
                        "displayName": "P\u00e1draic Brady",
                        "active": true
                    },
                    "created": "2010-02-06T07:51:08.000+0000",
                    "updated": "2010-02-06T07:51:08.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4158\/transitions"
}