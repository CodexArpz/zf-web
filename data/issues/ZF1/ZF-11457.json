{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11457",
    "key": "ZF-11457",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form::isValid() incorrectly handles multi-option form element spanned into multiple Zend_Form elements"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11457\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                "name": "flying",
                "displayName": "Alexander Grimalovsky",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-06-08T18:26:42.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-06-09T13:30:18.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "For multi-option form elements, in particular for Zend_Form_Element_Radio it is possible to have situation when single element of HTML form is represented by several elements in Zend_Form. In this case these elements are added with names that are differs from HTML form element's name.\r\n\r\nSuch form renders and works correctly until it is tried to be validated: Zend_Form::isValid() expects that keys of form's elements matches to keys of form data passed to validation, but it is not so in scenario described above.\r\n\r\nCorrect behavior would be to check if element is instance of Zend_Form_Element_Multi and use $element->getName() as key in array of validated values.\r\n\r\nSame behavior should be also applied to other methods of Zend_Form that performs iteration among form's elements and performs some actions using their keys. In particular following methods of Zend_Form may be affected by same problem:\r\nsetDefaults()\r\ngetValues()\r\ngetValidValues()\r\ngetUnfilteredValues()\r\nisValidPartial()\r\ngetMessages()"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11457\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10680",
                    "id": 10680,
                    "description": "Mini Release",
                    "name": "1.11.7",
                    "userReleaseDate": "02\/Jun\/11",
                    "archived": false,
                    "releaseDate": "2011-06-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47057",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Here is example script to demonstrate problem:\r\nhttp:\/\/dl.dropbox.com\/u\/7763774\/ZF-11457_example.php\r\nIt is expected to get \"VALID\" as result of its run, but instead it gives array of form errors.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-08T18:28:20.000+0000",
                    "updated": "2011-06-08T18:28:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47058",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "body": "Zend_Form also expects, and is designed to work with the multiOptions being on a *single* element. \r\nIts quite expected for this to cause problems, as its working well against the design of the form.\r\n\r\nI believe this issue should be closed as won't fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "created": "2011-06-08T18:52:58.000+0000",
                    "updated": "2011-06-08T18:52:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47080",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Ryan, I disagree with you. Zend_Form *allows* to set form element's names that are differs from key names in its $_elements registry, otherwise Zend_Form_Element::setName() and getName() methods should not be there or should not store element's name inside class but should ask owner form for their names. But it is not so.\r\n\r\nSince Zend_Form_Element *can* have its own name - I didn't see why it can't be used to construct several form elements with same name. Moreover it is pretty real world situation, not something synthetic. Examples of such form includes all kinds of wizard style forms that provide several choices and additional options that became active depending on the choice made. Real world example of such form can be found, for example, in Terms and Conditions form of Google AdSense: https:\/\/www.google.com\/adsense\/gaiaauth2?hl=en_US\r\nHere is screenshot of this form in its various states: \r\nhttp:\/\/dl.dropbox.com\/u\/7763774\/ZF-11457_google_adsense_toc_example.png\r\n\r\nBut, as I wrote before - currently Zend_Form doesn't allow to validate such form properly because of lack of very simple additional check. I really doesn't see why Zend Framework should deny such functionality that is usable in various applications because of lack of such small change.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-09T09:49:05.000+0000",
                    "updated": "2011-06-09T09:49:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47082",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "Hi Alexander,\r\ncan you provide a patch for this?\r\nI think Christian is very busy.\r\n\r\nThanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-06-09T10:50:23.000+0000",
                    "updated": "2011-06-09T10:50:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47089",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "body": "Hello,\r\n\r\nAfter further coding\/testing\/thinking I came to conclusion that Ryan is right. Also I found that real source of a problem that causes this bug to be submitted is different - it is 1:1 relation between logical and visual structure of the form while in a case of splitted set of radiobuttons this relation is different - single logical form element should be partially rendered several times and represented by several independent elements in HTML.\r\n\r\nAs I can understand - this is not so easy to do with current design of Zend_Form because it will require adding some kind of \"visual layout\" of the form and it is not clearly fit into what is Zend_Form designed for.\r\n\r\nBecause of this I propose to follow Ryan's decision and close this bug as \"not a bug\" or \"won't fix\". Sorry for publishing this so early without getting deep enough into problem.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=flying",
                        "name": "flying",
                        "displayName": "Alexander Grimalovsky",
                        "active": true
                    },
                    "created": "2011-06-09T13:30:18.000+0000",
                    "updated": "2011-06-09T13:30:18.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11457\/transitions"
}