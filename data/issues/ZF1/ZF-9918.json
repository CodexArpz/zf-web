{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9918",
    "key": "ZF-9918",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Validating a German Date returns true even if the date is wrong"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9918\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                "name": "griesi007",
                "displayName": "Christian Ebert",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-05-31T03:48:30.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T21:37:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I am trying to validate a German Date. isDate returns always true even if the date format is wrong. I am using the following line of Code:\r\n\r\nZend_Date::isDate('12.12-2010dsa', 'dd.mm.yyyy', 'de_DE')\r\n\r\nZend_Date converts the submitted date to the following date(var_dump($parsed) in Zend\/Date.php) \r\n\r\narray\r\n  'date_format' => string 'dd.mm.yyyy' (length=10)\r\n  'locale' => string 'de_DE' (length=5)\r\n  'day' => string '12' (length=2)\r\n  'minute' => string '12' (length=2)\r\n  'year' => int 1971\r\n  'hour' => int 12\r\n  'second' => int 0\r\n  'month' => int 1\r\n\r\nObviously the wrong date parts of the submitted dates are replaced by default values and then the date of course is wrongly  validated true\r\n\r\nValidating the date without setting locale and format works correct for US Dates"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9918\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10430",
                    "id": 10430,
                    "description": "Mini Release",
                    "name": "1.10.2",
                    "userReleaseDate": "24\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40913",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alekc",
                        "name": "alekc",
                        "displayName": "Alexander Chernov",
                        "active": true
                    },
                    "body": "I've tried your code\r\n{panel} \r\n$date = new Zend_Date('12.12-2010dsa', 'dd.mm.yyyy', 'de_DE');\r\n        $stringdate = $date->toString();\r\n        die($stringdate); \/\/output = 12.01.2010 00:12:00\r\n{panel}\r\nand on \r\n{panel}\r\nZend_Date::isDate('12.12-2010dsa', 'dd.mm.yyyy', 'de_DE');\r\n{panel}\r\non line 4761 of Zend\/Date $parsed value is \r\n{panel}\r\nArray\r\n(\r\n    [date_format] => dd.mm.yyyy\r\n    [locale] => de_DE\r\n    [day] => 12\r\n    [minute] => 12\r\n    [year] => 2010\r\n)\r\n{panel}\r\nSeems to be working for me",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alekc",
                        "name": "alekc",
                        "displayName": "Alexander Chernov",
                        "active": true
                    },
                    "created": "2010-06-09T07:06:54.000+0000",
                    "updated": "2010-06-09T07:06:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40920",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "body": "Hi Alexander,\r\n\r\nI can not follow your argumentation. Does in your case \r\n      Zend_Date::isDate('12.12-2010dsa', 'dd.mm.yyyy', 'de_DE'); \r\nreturn true? In my opinion it should never return true. I specified a date format of type dd.mm.yyyy. Therefore if the user enters something like '12.12-2010dsa' which is not compliant with the specified date format dd.mm.yyyy isDate must return false. In your comment, isDate transforms the given string '12.12-2010dsa' to day 12, year 2010 and minute 12 and returns true. In my eyes this is hardly accepatable. I want to strictly validate the submitted string to the required date format. If the user submits something else I want not to validate it true. The reason therefore is that I want to let the user check what he has submitted so he is able to correct errors. Otherwise something will be stored accidently what the user did not want to. In your example the user submitted 12.12-2010asd accidently. He wanted to submit 12.12.2010. In your example Zend will validate the given string to true and save the wrong date 12.01.2010. What makes it worth is that a timestamp of  00:12:00 is appendend which will produce a database error because database expects dd.mm.yyyy",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "created": "2010-06-09T12:47:28.000+0000",
                    "updated": "2010-06-09T12:47:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40921",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "But you know that \"dd.mm.yyyy\" means\r\nDAY - MINUTE - YEAR\r\n\r\nI know no single database on the market which accepts or uses the minute as month value of a date.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-06-09T13:04:27.000+0000",
                    "updated": "2010-06-09T13:04:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40922",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "body": "Hi Thomas,\r\n\r\nof course you are right. I noticed this error also but it does not make a difference. The following expression returns also true.\r\n\r\nvar_dump(Zend_Date::isDate('12.12-2010dsa', 'dd.MM.yyyy', 'de_DE'));\r\n\r\nMy problem is:\r\n1) User submits a string 12.12-2010dsa\r\n2) I want to make sure that this string is exactly in the format dd.MM.yyyy. So I expect that isDate should return false if the expected format has been specified and the given string does not match. I can understand if is_Date tries to fix a wrong date but this should only be the case if the developer explicitly said \"try to fix\" or if he did not specify the expected format. \r\n\r\nMaybe I am wrongly understanding the purpose of isDate. It would be great to learn what the idea behind is ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "created": "2010-06-09T13:39:49.000+0000",
                    "updated": "2010-06-09T13:39:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40926",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alekc",
                        "name": "alekc",
                        "displayName": "Alexander Chernov",
                        "active": true
                    },
                    "body": "Ah ok, I've not understood that you was looking for \"strict\" validation. I suppose (since I began to use ZF not a long time ago) that main purpose of isDate is to check if passed value can be converted in time value without errors. If you look in \"private static function _parseDate\" from Zend\/Locale\/Format.php you will see that it doesn't matter what character you are putting as separator since function will check iconv_strpos value of the anchor (dd, mm, yyyy, etc). \r\n\r\nI would suggest to use regex check in this case if you want to be sure to have time in \"correct\" form.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alekc",
                        "name": "alekc",
                        "displayName": "Alexander Chernov",
                        "active": true
                    },
                    "created": "2010-06-10T00:52:51.000+0000",
                    "updated": "2010-06-10T00:52:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40927",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "body": "Hi Alexander,\r\n\r\nyes obviously isDate checks if the passed value can be converted to a valid datetime value without errors. \r\n\r\nObviously you have Zend_Validate oder a RegExp to be sure that the expected pattern matches with the submitted string and the afterwards check with istDate of the submitted date is a date. \r\n\r\n@Thomas: Maybe It would be very helpful if the documentation explicitly points out that developers have to use Zend_Validate if they want to strictly validate an expected date pattern. \r\n\r\n\r\nBest Regards \r\nChristian  ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "created": "2010-06-10T01:25:36.000+0000",
                    "updated": "2010-06-10T01:25:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40928",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "body": "@Thomas: For the time beeing I think you can close this issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=griesi007",
                        "name": "griesi007",
                        "displayName": "Christian Ebert",
                        "active": true
                    },
                    "created": "2010-06-10T01:25:59.000+0000",
                    "updated": "2010-06-10T01:25:59.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9918\/transitions"
}