{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1998",
    "key": "ZF-1998",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Customizing messages from Zend_Validate_EmailAddress"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1998\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-12-08T12:30:14.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                "name": "darby",
                "displayName": "Darby Felton",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-09-26T10:50:36.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-12-08T12:30:14.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Ralf Kramer's [original message|http:\/\/www.nabble.com\/Customizing-messages-of-Zend_Validate_EmailAddress-tf4504427s16154.html#a12846346]:\n\n{quote}\nHi,\n\nI tried to customize the message of Zend_Validate_EmailAddress, it works quite well,  but I cant translate the messages that are added by Zend_Validate_Hostname in my $validators array.\n\nSample:\n{code}\n$validators = array(\n    'user_email' => array(\n        'EmailAddress',\n        'messages' => array(\n            array(\n                Zend_Validate_EmailAddress::INVALID =>\n                \"'%value%' ist keine g\u00fcltige E-Mail-Adresse\",\n\n                Zend_Validate_EmailAddress::INVALID_HOSTNAME  =>\n                \"'%hostname%' ist kein g\u00fcltiger Hostname. Bitte\n                pr\u00fcfen Sie Ihre E-Mail-Adresse  '%value%'\",\n\n                Zend_Validate_EmailAddress::INVALID_MX_RECORD  =>\n                \"'%hostname%' kein MX Record gefunden '%value%'\",\n\n                Zend_Validate_EmailAddress::DOT_ATOM =>\n                \"'%localPart%' ung\u00fcltiges Format (dot-atom)\",\n\n                Zend_Validate_EmailAddress::QUOTED_STRING =>\n                \"'%localPart%' ung\u00fcltiges Format\",\n\n                Zend_Validate_EmailAddress::INVALID_LOCAL_PART\n                => \"'%localPart%' ung\u00fcltiges Format '%value%'\",\n            )\n        )\n    )\n);\n{code}\n\nWhen $user_email == \"a\" I get this messages:\n{code}\n[\"user_email\"] => array(3) {\n    [0] => string(81) \"'a' ist kein g\u00fcltiger Hostname. Bitte pr\u00fcfen Sie Ihre E-Mail-Adresse  'aasda@a'\"\n    [1] => string(60) \"'a' does not match the expected structure for a DNS hostname\"\n    [2] => string(82) \"'a' appears to be a local network name but but local network names are not allowed\"\n  }\n{code}\n\nSo, there are two messages which are not translated, and I don't know how to translate them in my $validators array. Is there a way to achieve this?\n\nIf not, we should imho contemplate to ensure that each Zend_Validate_XXX class must gain access to all possible messages that could be added to the $messages array\n\nThough Bill explained, in a recent posting, that developers might use $input->getErrors();  to customize their messages, I'd prefer to translate the messages using the MESSAGES\nmetacommand of Zend_Filter_Input. Having it all defined in one place, allows for instance to pass the $validator array to the view, where it could be used for AJAX and other Javascript operations. It would also be somewhat more 'straight' if there is no exceptional rule bundled to the MESSAGES metacommand\n\nI am not sure whether the proposals Zend_Validate_Builder, Zend_Filter_Builder will solve this issue. Actually I am not even sure whether it is an issue... ;-)\n\nBest regards\n \/Ralf\n{quote}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1998\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10130",
                    "id": 10130,
                    "description": "Mini Release",
                    "name": "1.0.2",
                    "userReleaseDate": "25\/Sep\/07",
                    "archived": true,
                    "releaseDate": "2007-09-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10180",
                    "id": 10180,
                    "name": "Zend_Filter_Input",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/16975",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "There is a proposal which aims to solve this issue for ALL classes...\n\nhttp:\/\/framework.zend.com\/wiki\/display\/ZFPROP\/Exception+codes+in+exceptions+-+Matthew+Ratzloff\n\nIn my opinion it's better to have a framework wide solution than every class using it's own way.\nI would be willing to take over the work on this one, as it's related to Zend_Translate and Zend_Locale...\n\n\"Localizing and translating error messages for the Zend Framework\"\n\nBest regards\nThomas\nI18N Team Leader",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-09-26T12:17:37.000+0000",
                    "updated": "2007-09-26T12:17:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/16977",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=studio24",
                        "name": "studio24",
                        "displayName": "Simon R Jones",
                        "active": true
                    },
                    "body": "Wouldn't it be more in keeping with Zend_Translate to use this format to translate an error message?\n\necho $translate->_(Zend_Validate_EmailAddress::INVALID_HOSTNAME);\n\nI believe this would work at present? Obviously I would prefer using some kind of codeword\/error code to indentify each translated message since it will be easier to manage.\n\nFor example, if the error message changes by one character, it looks like you need to re-update your messages list. the old message would be invalid. Unless I misunderstand how Zend_Translate works. \n\nIt looks like the TMX format supports arbitrary message IDs.\n\nFailing all this, the Hostname error messages may need to be added to Zend_Email. Unless the structure of the Zend_Validate_EmailAddress class is changed and it becomes a child of Zend_Validate_Hostname (since it shares some of its funtionality).\n\nbest wishes,\nSi\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=studio24",
                        "name": "studio24",
                        "displayName": "Simon R Jones",
                        "active": true
                    },
                    "created": "2007-09-26T12:54:00.000+0000",
                    "updated": "2007-09-26T12:54:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/16993",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "body": "Actually, I believe that the Zend_Validate_Builder code (specifically Zend_Validate_Builder_ErrorManager) will do exactly what you want here. If you could, it would be great if you could check out the code from the Zend Laboratory, and give it a try. There are unit tests there that provide some usage examples (they're a bit terse, but not complicated).\n\nYou can check the code out from here, if you're interested:\nhttp:\/\/framework.zend.com\/svn\/laboratory\/library\/Zend\/Validate\/Builder",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "created": "2007-09-26T21:19:34.000+0000",
                    "updated": "2007-09-26T21:19:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/21943",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=studio24",
                        "name": "studio24",
                        "displayName": "Simon R Jones",
                        "active": true
                    },
                    "body": "Can I confirm this issue should now be closed since customizing messages is now part of Zend_Validate core - http:\/\/framework.zend.com\/manual\/en\/zend.validate.html#zend.validate.introduction.messages",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=studio24",
                        "name": "studio24",
                        "displayName": "Simon R Jones",
                        "active": true
                    },
                    "created": "2008-05-26T11:34:56.000+0000",
                    "updated": "2008-05-26T11:34:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27130",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "No longer an issue.\n\nThe EmailAddress validator uses the Hostname validator for validating the domain part.\nSo when using custom messages for EmailAddress you should also set custom messages for Hostname or the messages will be outputted with the default strings.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-12-08T12:29:40.000+0000",
                    "updated": "2008-12-08T12:29:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27131",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "No longer an issue as with 1.5 or higher",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-12-08T12:30:14.000+0000",
                    "updated": "2008-12-08T12:30:14.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1998\/transitions"
}