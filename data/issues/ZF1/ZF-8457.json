{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8457",
    "key": "ZF-8457",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Improving scalability of Zend_XmlRpc by replacing DOMDocument with plain text templates"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8457\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                "name": "polycaster",
                "displayName": "Andreas Baumgart",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-12-03T09:50:50.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T21:37:52.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hey guys! I'm currently working on a WebService using Zend_XmlRpc. The service has to handle rather large responses. However, as I had to find out, the (imho excessive) use of DOMDocument instances for building XML requests\/responses becomes a tremendous parameter as the number of processed values grows.\r\n\r\nReplacing DOMDocument with plain text templates in Zend_XmlRpc_Value_*::saveXML() improved performance a lot. The cummulativ execution time of Zend_XmlRpc_Response::__toString() became about 3 times faster.\r\n\r\nAttached to this report you can find a patch against ZF-1.9.3PL1 which solves this issue.\r\nA fork of Zend_XmlRpc which can be used as a standalone replacement (i.e. no need to touch ZF code) can be found here:\r\nhttp:\/\/github.com\/polycaster\/Polycast_XmlRpc\/\r\n\r\nCheers!\r\nAndreas\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8457\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/4",
                "name": "Reopened"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-9504",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9504",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-8869",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8869",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12450",
                    "filename": "domdoc-vs-writer-profiles.png",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T13:29:45.000+0000",
                    "size": 129145,
                    "mimeType": "image\/png",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12450\/domdoc-vs-writer-profiles.png",
                    "thumbnail": "http:\/\/fw02.zend.com\/issues\/secure\/thumbnail\/12450\/_thumb_12450.png"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12447",
                    "filename": "XmlRpc-NoDomDocument.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T09:51:30.000+0000",
                    "size": 8139,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12447\/XmlRpc-NoDomDocument.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12451",
                    "filename": "XmlRpc-XmlWriter.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T13:37:58.000+0000",
                    "size": 13607,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12451\/XmlRpc-XmlWriter.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12449",
                    "filename": "XmlRpc-XmlWriter.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T13:25:28.000+0000",
                    "size": 13607,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12449\/XmlRpc-XmlWriter.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12526",
                    "filename": "Zend_XmlRpc-Generators-19822.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-20T16:58:23.000+0000",
                    "size": 30613,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12526\/Zend_XmlRpc-Generators-19822.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10362",
                    "id": 10362,
                    "description": "Mini Release",
                    "name": "1.9.3",
                    "userReleaseDate": "22\/Sep\/09",
                    "archived": false,
                    "releaseDate": "2009-09-22",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10027",
                    "id": 10027,
                    "name": "Zend_XmlRpc_Client",
                    "description": "remote procedure calling using HTTP as the transport and XML as the encoding",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10082",
                    "id": 10082,
                    "name": "Zend_XmlRpc_Server",
                    "description": "XMLRpc Server",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36670",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Using plain text templates is a no-go due to character encoding issues. DOMDocument largely masks these for us and ensures they do not become a problem; this was one reason for choosing it.\r\n\r\nOne alternative implementation would be to use XMLWriter, which would be quite possible. XMLWriter is very fast, and also would mask the encoding issues. Would you be willing to try an implementation using it and benchmarking it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-12-03T10:04:09.000+0000",
                    "updated": "2009-12-03T10:04:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36675",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "Sure, encoding is a good point. I'll give the XMLWriter solution a try and keep you posted.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T10:56:13.000+0000",
                    "updated": "2009-12-03T10:56:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36678",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "XDebug profiles of two similar request. The only difference is the XmlRpc implementation.\r\n\r\nOn the left handside is the current ZF implementation. On the right the patched version using XMLWriter.\r\n\r\nLooks like XMLWriter is performing way better.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T13:29:45.000+0000",
                    "updated": "2009-12-03T13:29:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36679",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "Argh, sorry, the last patch was broken. Here's a proper one :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-03T13:37:59.000+0000",
                    "updated": "2009-12-03T13:37:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36683",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "body": "As I'm on vacation for the next week, I would like to work on this issue. @Matthew: could we just bring that in without a proposal? @Everybody: I would prefer an adapter based version, as XMLWriter is the more exotic extension and I would imagine it might not be available everywhere. @Andreas: are you available in the next week to work on this issue?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "created": "2009-12-03T16:50:15.000+0000",
                    "updated": "2009-12-03T16:50:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36838",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "body": "I've committed a refactored version of the client which introduces a new subpackage (Zend_XmlRpc_Generator_*). This generators are used to build the XML of request\/response\/values. It would be very kind if you could redo your performance measurements with the version in standard trunk and see if it is still as fast as you expected it to be.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "created": "2009-12-09T19:28:48.000+0000",
                    "updated": "2009-12-09T19:28:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36893",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "I'll perform another benchmark in the next days. Have been offline the last week. I'll keep you posted.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-13T14:05:14.000+0000",
                    "updated": "2009-12-13T14:05:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37091",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "Sorry for the dely.\r\n\r\nI tested the new version of Zend_XmlRpc with the same benchmark as before, but now, using XMLWriter the memory goes through the roof with just a fracture of the number of Zend_XmlRpc Values involved.\r\n\r\nFor comparison: Before, I was able to handle about 900 (more or less equal) response objects within approx. 3.2 seconds with the benchmark application. Now it works with 100 of them in ~3ms, but runs out of memory with larger responses - whereas the memory limit is quite fair.\r\n\r\nSo, the CPU load looks constantly fine. I can't see a drastic overhead compared to the version without the adapters. But, I can't really compare the results as I was not able to test on the large scale. \r\n\r\nHowever, the memory thing is a no-go in my opinion.\r\n\r\nI traced the benchmark with xdebug and found after all, that the problem can be solved if XMLWriter is flush()ed more frequently.\r\n     \r\nFind a my proposal for a solution attached.\r\n\r\n@Lars, regarding the patch: Before I read your latest patch I had already worked on an adapter-based solution, but didn't finish it, before you released yours. After I did the benchmark it was easier for me to modify my own code, because it was coincidentally closer to the flush-more-often-solution. Adapt the patch as you like, but I'm sorry I reverted some of your changes.\r\n\r\nBesides (and totally not related to the actual issue anymore): I moved the ?etEncoding() methods to Zend_XmlRpc_Generator_AbstractGenerator. I think it is better to solve this with dependency injection as it gets you out of the troubles you get in, when setting the generator _after_ you set the encoding.\r\n\r\nCheers!\r\nAndreas\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2009-12-20T16:57:10.000+0000",
                    "updated": "2009-12-20T16:57:10.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37400",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "No comment at all?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2010-01-05T09:27:28.000+0000",
                    "updated": "2010-01-05T09:27:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37502",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "body": "I'm sorry for the long time I took to respond, was on vacation. Will try to fix the issue next weekend and let you know, when I reached anything good.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lars",
                        "name": "lars",
                        "displayName": "Lars Strojny",
                        "active": true
                    },
                    "created": "2010-01-07T15:47:30.000+0000",
                    "updated": "2010-01-07T15:47:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38759",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "Any news about this issue yet?\r\n\r\nMaybe it'd help to set the ticket status to \"open\" :) \r\n\r\nWith the memory problem still unsolved the situation became actually worse and the component moved from slow to not usable at all. Well, that is in my scenario, but I suppose others may be affected as well.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2010-02-25T12:24:38.000+0000",
                    "updated": "2010-02-25T12:24:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38761",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=patrick.schwisow",
                        "name": "patrick.schwisow",
                        "displayName": "Patrick Schwisow",
                        "active": true
                    },
                    "body": "I second the suggestion to re-open the ticket. I am curious why the XMLWriter generator is now the default (if XMLWriter is enabled). Given the \"new-ness\" of this feature and the concerns about its memory usage, I think the DOMDocument generator should be used unless there is a call to {{Zend_XmlRpc_Value::setGenerator(new Zend_XmlRpc_Generator_XMLWriter());}}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=patrick.schwisow",
                        "name": "patrick.schwisow",
                        "displayName": "Patrick Schwisow",
                        "active": true
                    },
                    "created": "2010-02-25T12:40:16.000+0000",
                    "updated": "2010-02-25T12:40:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39656",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "body": "This is just my monthly reminder to have a look at this ticket or at least give a comment if you're going to work on this.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=polycaster",
                        "name": "polycaster",
                        "displayName": "Andreas Baumgart",
                        "active": true
                    },
                    "created": "2010-03-30T06:27:45.000+0000",
                    "updated": "2010-03-30T06:28:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39845",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "We experience similar issues with 1.10.2. XmlRpc is pretty unstable, next to unusable for us.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-04-06T08:39:05.000+0000",
                    "updated": "2010-04-06T08:39:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39892",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "I've been trying all thoughts of things - from caching the definitions (two ways) to {{XmlWriter}} etc.. None of them seem to have a greater impact in my setup.\r\n\r\nMy issue is as follows:\r\n\r\nWe have an service layer in our application which we use to authenticate people on the backend and also grab useful information from the backend for customer support and so on. One of the biggest things is a search by name across our user data. The relevant SQL query takes 0.08 seconds to run which is acceptable for customer support, but it returns 150 records.\r\n\r\nEach record is an array of username, first, last, email, account type and when the account was created and last modified. Now whenever I have a large result set, I keep getting socket timeouts (10 seconds). I've tried using a custom {{Zend_Http_Client}} on {{Zend_XmlRpc_Client}} with a higher timeout to no avail. \r\n\r\nWe recently upgraded from 1.8.1 to 1.10.2 and this is when those issues started. I've been profiling a lot over the last two days and it seems that the XML generating is taking an awful long time on the server, but exceeding 10 seconds is still insane.\r\n\r\nI've also tried to {{setSkipSystemLookup(true)}} - which didn't help either.\r\n\r\nIt seems to work stable and consistent with result sets smaller than 30-40 records. The funky thing is that this used to work fine. We've been using the {{Zend_XmlRpc}} components for over two years in production.\r\n\r\nI've ruled out network connectivity and DNS etc. too.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-04-08T04:52:48.000+0000",
                    "updated": "2010-04-08T04:56:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40245",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hobodave",
                        "name": "hobodave",
                        "displayName": "David Abdemoulaie",
                        "active": true
                    },
                    "body": "This is related to ZF-9504. The new \"Generator\" method of doing things in 1.10 is causing an exponential growth in memory usage when using DOMDocument based generation. This too increases script execution time.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hobodave",
                        "name": "hobodave",
                        "displayName": "David Abdemoulaie",
                        "active": true
                    },
                    "created": "2010-04-27T09:30:01.000+0000",
                    "updated": "2010-04-27T09:30:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40253",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hobodave",
                        "name": "hobodave",
                        "displayName": "David Abdemoulaie",
                        "active": true
                    },
                    "body": "With the fix to ZF-9504 I think this should be considered resolved as well. After this patch I'm able to return XMLResponses with a 1500+ item resultset in < 4 seconds on my laptop.\r\n\r\nMy resultset looks like:\r\n\r\n{noformat}\r\narray(\r\n    'values' => array(\r\n        0 => array(\r\n            'id' => 1,\r\n            'name' => 'Foobar',\r\n            'group_id' => 7,\r\n            'priority' => 0,\r\n        ),\r\n       \/\/ ...\r\n       1550 => array(\/* ... *\/),\r\n    ),\r\n    'last_modified' => '2010-01-01 00:00:00',\r\n)\r\n{noformat}\r\n\r\nPerformance is nearly identical for both DOMDocument and XMLWriter, ~19M total mem usage and ~3.7s wall-time.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hobodave",
                        "name": "hobodave",
                        "displayName": "David Abdemoulaie",
                        "active": true
                    },
                    "created": "2010-04-27T12:37:05.000+0000",
                    "updated": "2010-04-27T12:37:05.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8457\/transitions"
}