{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6174",
    "key": "ZF-6174",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form elements: must be able to allow disabling id attribute"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6174\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-04-01T07:19:07.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=suitalsn",
                "name": "suitalsn",
                "displayName": "Niek Slatius",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-04-01T03:06:36.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-06-09T13:48:44.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Zend_Form",
                "Zend_Form_Element",
                "attribute",
                "disable",
                "disable_id_attribute",
                "id"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Form elements should be able to allowed to disable the rendering of the id attribute. It seems that, when id is explicitly set to null, the id attribute is automatically assigned the name of the element. Right now I'm working on a CMS that has multiple identical forms which should allow the same (hidden) form elements. Consider the following example:\n\n<div class=\"page\">\n  <span class=\"title\">Page 1<\/span>\n  <span class=\"options\">\n    <form action=\"\/cms\/page\/delete\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"1\">\n      <input type=\"submit\" name=\"submit\" value=\"delete page\">\n    <\/form>\n    <form action=\"\/cms\/page\/sort\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"1\">\n      <input type=\"hidden\" name=\"direction\" value=\"up\">\n      <input type=\"submit\" name=\"submit\" value=\"sort up\">\n    <\/form>\n    <form action=\"\/cms\/page\/sort\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"1\">\n      <input type=\"hidden\" name=\"direction\" value=\"down\">\n      <input type=\"submit\" name=\"submit\" value=\"sort down\">\n    <\/form>\n  <\/span>\n<\/div>\n<div class=\"page\">\n  <span class=\"title\">Page 2<\/span>\n  <span class=\"options\">\n    <form action=\"\/cms\/page\/delete\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"2\">\n      <input type=\"submit\" name=\"submit\" value=\"delete page\">\n    <\/form>\n    <form action=\"\/cms\/page\/sort\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"2\">\n      <input type=\"hidden\" name=\"direction\" value=\"up\">\n      <input type=\"submit\" name=\"submit\" value=\"sort up\">\n    <\/form>\n    <form action=\"\/cms\/page\/sort\" method=\"post\">\n      <input type=\"hidden\" name=\"id\" value=\"2\">\n      <input type=\"hidden\" name=\"direction\" value=\"down\">\n      <input type=\"submit\" name=\"submit\" value=\"sort down\">\n    <\/form>\n  <\/span>\n<\/div>\n\nNow, if the hidden elements (or the submit elements for that matter) are automatically assigned an id attribute value (left out in this example) equivalent to the name attribute value, this results in non valid W3C (x)html code, because of repetitive equivalent id's.\n\nI strongly believe developers should be able to decide for themselfs whether they want the id attribute automatically rendered if no value is given (or rendered at all for that matter). Perhaps with some method like\n\nZend_Form [ _Element ]::autoAssignIdAttrib( \/* true | false *\/ ); \/\/ be it a static global method or an instance method\n\nI think you should not let developers resort to creating unique id's with a mandatory routine. Especially if the developer feels assigning id's to the elements is unnessecary anyway, when s\/he has no use for it, because they are not gonna manipulate the elements with some type of clientside scripting."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6174\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29873",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "As noted on list, I'm closing this issue as \"Won't Fix,\" for two reasons.\n\nFirst, the design of the form view helpers since the very beginning has been to *always* create IDs. This is to make it trivial to get to the discrete elements using JavaScript, as well as to make testing easy (easier to select DOM elements by ID than other methods, though Zend_Dom_Query now makes it less of an issue).\n\nSecond, if you're having ID collisions, there is another mechanism you can use that's built into Zend_Form: array notation. Call the setElementsBelongTo() method of your form (or pass the 'elementsBelongTo' configuration key) and provide a unique namespace for your form. All elements within will then be prefixed by \"<name>-\".\n\nRefactoring to allow *optional* display of IDs at this point only serves an edge case for something that can be easily avoided with proper configuration.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-04-01T07:19:06.000+0000",
                    "updated": "2009-04-01T07:19:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30111",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shuriken",
                        "name": "shuriken",
                        "displayName": "Alessandro Pellizzari",
                        "active": true
                    },
                    "body": "I would like to ask for this bug to be re-opened, as there is not only a problem with invalid XHTML code (because of duplicated IDs), but also with Explorer bugs:\n\nhttp:\/\/msdn.microsoft.com\/en-us\/library\/ms536438(VS.85).aspx\n\nhttp:\/\/msdn.microsoft.com\/en-us\/library\/ms536437.aspx\n\nAs you can see, both getElementByID() and getElementByName(), in IE search for both ID and NAME.\nThis could lead to hardly traceable bugs in Javascript.\n\nMoreover, it is not always possible to use Zend_Form, and this problem is related to View Helpers, and not Zend_Form.\n\nAs for the duplicated IDs, there could be parts of the page rendered by different actions. I had a problem with two partial views rendering a search form, linking to the same actioncontroller. Think of a \"search\" box in the header and another search field in the search results. I had to adapt the searchAction to accept both field names.\n\nI think the id generation should be made optional, at least in ZF 2.0 (so to not break compatibility in ZF 1.x)\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shuriken",
                        "name": "shuriken",
                        "displayName": "Alessandro Pellizzari",
                        "active": true
                    },
                    "created": "2009-04-14T06:25:45.000+0000",
                    "updated": "2009-04-14T06:25:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30112",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "That bug is only of outdated versions of IE\n\n\"  Internet Explorer 8 and later. In IE8 mode, getElementById performs a case-sensitive match on the ID attribute only. In IE7 mode and previous modes, this method performs a case-insensitive match on both the ID and NAME attributes, which might produce unexpected results. For more information, see Defining Document Compatibility.\"\n\nIt's like proposing a fix for use with the Mosaic browser....",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-04-14T07:09:21.000+0000",
                    "updated": "2009-04-14T07:09:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30113",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shuriken",
                        "name": "shuriken",
                        "displayName": "Alessandro Pellizzari",
                        "active": true
                    },
                    "body": "Mosaic has 0% of the installed share.\nIE6 + IE7 still has nearly 70% of it.\nIE8 is stable since a week or so.\n\nThat said, it is still wrong to assign the same value for name and id, as they are two separate values. One must be unique, the other not. This should suffice to make a fix.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shuriken",
                        "name": "shuriken",
                        "displayName": "Alessandro Pellizzari",
                        "active": true
                    },
                    "created": "2009-04-14T07:51:22.000+0000",
                    "updated": "2009-04-14T07:51:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30114",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "What should suffice? How do you propose making a different name and id?\n\nAdditionally, using modern JS toolkits, this is not an issue -- they have mechanisms for finding the appropriate DOM elements based on ID that work around any such issues as you report (I know, because I use them).\n\nPlease also note the reasons why I closed this earlier. Changing this behavior is (1) a major BC break, and (2) a large scale refactoring effort. I do not see how we can do this anytime before 2.0 -- and I'm not entirely convinced it's necessary.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-04-14T08:10:17.000+0000",
                    "updated": "2009-04-14T08:10:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30115",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=suitalsn",
                        "name": "suitalsn",
                        "displayName": "Niek Slatius",
                        "active": true
                    },
                    "body": "I think the major BC break could be avoided if you implemented a method like I proposed (but for the viewhlepers instead of form or form elements) with a default value of true.\n\nSo something like:\n\nprotected Zend_View_Helper_FormElement::$_autoAssignIdAttribute = true;\n\nZend_View_Helper_FormElement::autoAssignIdAttribute( \/* true | false *\/ );\n\nmaybe with some proxy method in Zend_Form too.\n\n\nI still haven't been able to figure out where this auto id assigning takes place BTW, but I would image it to be something like:\n\nif( !isset( $attribs[ 'id' ] ) || empty( $attribs[ 'id' ] ) )\n{\n  $id = $name;\n}\n\nThis could then be replaced with something like:\n\nif( Zend_View_Helper_FormElement::autoAssignIdAttribute() && ( !isset( $attribs[ 'id' ] ) || empty( $attribs[ 'id' ] ) ) )\n{\n  $id = $name;\n}\n\n\nBut maybe my ideas about  this are a bit to simple since you say it would require large scale refactoring.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=suitalsn",
                        "name": "suitalsn",
                        "displayName": "Niek Slatius",
                        "active": true
                    },
                    "created": "2009-04-14T08:46:43.000+0000",
                    "updated": "2009-04-14T08:46:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39517",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=damien.flament",
                        "name": "damien.flament",
                        "displayName": "Damien Flament",
                        "active": true
                    },
                    "body": "Hi,\r\nI have got the same problem with multiple forms in same page (multiple forms are from the same class extending Zend_Form).\r\n\r\nI read the comments and I think it is a real issue. Not because web browser compatibility, but *developers have to be able to render their forms how they want*.\r\n\r\nMatthew Weier O'Phinney said there is another way (using array notation and \"setElementsBelongTo\" method). But I think you must give the *possibility to use framework components in a easy way to do simple things*. Then you add methods to use more complex functionalities.\r\n\r\nSo, the actual behavior of _Zend_View_Helper_FormElement_ (which adds the \"id\" attribute) is made to ??make it trivial to get to the discrete elements using JavaScript??. If I don't want to use IDs but DOM tree to use my JavaScript on similar elements ? IDs become unusual and maybe I don't want to see them in my source. That's what I said: developers want a framework which give the possibility to do what they want.\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=damien.flament",
                        "name": "damien.flament",
                        "displayName": "Damien Flament",
                        "active": true
                    },
                    "created": "2010-03-24T09:23:12.000+0000",
                    "updated": "2010-03-24T09:23:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43422",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wzend",
                        "name": "wzend",
                        "displayName": "walther",
                        "active": true
                    },
                    "body": "I specially signed up for this comment because I was quite shaken at this issue.\r\nI really appreciate Zend for _not_ forcing me to do things in a predefined way.\r\nTherefore I totally agree with Damien Flament and would really beg to fix this (in my eyes) design fault in version 2.\r\nUntil then I will generate my forms manually.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wzend",
                        "name": "wzend",
                        "displayName": "walther",
                        "active": true
                    },
                    "created": "2010-12-02T13:13:13.000+0000",
                    "updated": "2010-12-02T13:13:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43507",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmd",
                        "name": "jmd",
                        "displayName": "Jonathan Dunn",
                        "active": true
                    },
                    "body": "I would also like to be able to disable form ID elements. This has been a long term issue for me also, I have resorted to loading some forms by ajax so not to dupicate IDs.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jmd",
                        "name": "jmd",
                        "displayName": "Jonathan Dunn",
                        "active": true
                    },
                    "created": "2010-12-07T04:16:17.000+0000",
                    "updated": "2010-12-07T04:16:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43508",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "@Damien Flament, walther, Jonathan Dunn\r\n\r\nWith more than 180 errors, there are currently enough work for this component.\r\nCan you add some patches and tests? This would help!\r\n\r\nThanks and greetings\r\nKaiuwe",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2010-12-07T05:52:29.000+0000",
                    "updated": "2010-12-07T05:52:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47090",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=nevem",
                        "name": "nevem",
                        "displayName": "nevem",
                        "active": true
                    },
                    "body": "Matthew Weier O'Phinney did good points in his first comment.\r\n\r\nExcept about \"Refactoring to allow optional display of IDs at this point only serves an edge case for something that can be easily avoided with proper configuration.\"\r\n\r\nThe use case of multiple use of same the form class in a same page is not rare.\r\nAnd setBelongs\/setIsArray+setName is not an option at least in some cases.\r\nIn my case all those instances will be interpreted by the same code in the controller.\r\nThe array notation does not fit. SO the \"proper configuration\" does not stand.\r\n\r\nI completely agree with Damien Flament. The actual behavior is good as default as it saves time in most cases, but enforcing it is intrusive and limitating.\r\n\r\nDespite i think it is normal not making it to 2.0, this is still an opened issue, that deserves to be fixed the sooner the better, it should be reopened.\r\n\r\nUntil then i have no workaround, except reimplementing every form view helpers :\/ and other dirty patchs.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=nevem",
                        "name": "nevem",
                        "displayName": "nevem",
                        "active": true
                    },
                    "created": "2011-06-09T13:48:44.000+0000",
                    "updated": "2011-06-09T13:48:44.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6174\/transitions"
}