{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9183",
    "key": "ZF-9183",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Validate_Hostname doesn't handle IDN for .EU"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/11",
                "name": "Patch",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9183\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10430",
                    "id": 10430,
                    "description": "Mini Release",
                    "name": "1.10.2",
                    "userReleaseDate": "24\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-24",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-02-15T15:00:02.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                "name": "karelbarel",
                "displayName": "Martin Fuxa",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-02-15T08:30:37.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-07-04T12:36:26.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "$hostname = 'h\u00e1\u010dky-\u010d\u00e1rky.eu';\r\n$validator = new Zend_Validate_Hostname();\r\nif ($validator->isValid($hostname)) {\r\n    echo \"OK\";\r\n} else {\r\n    foreach ($validator->getMessages() as $message) {\r\n        echo \"$message\\n\";\r\n    }\r\n}\r\n\r\nreturns invalid result\r\n'h\u00e1\u010dky-\u010d\u00e1rky.eu' appears to be a DNS hostname but cannot match against hostname schema for TLD 'eu'\r\n'h\u00e1\u010dky-\u010d\u00e1rky.eu' does not appear to be a valid local network name\r\n\r\n\r\n\r\nFIX (fixed trunk)\r\ndiff library\/Zend\/Validate\/Hostname.php trunk\/Hostname.php\r\n154d153\r\n<      * (.EU) European http:\/\/www.eurid.eu\/en\/eu-domain-names\/idns-eu\r\n204d202\r\n<         'EU'  => array(1 => '\/^[\\x{002d}0-9a-z\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f0\u00f1\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u00f9\u00fa\u00fb\u00fc\u00fd\u00fe\u00ff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0135\u0137\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u0161\u0165\u0167\u0169\u016b\u016d\u016f\u0173\u0175\u0177\u017a\u017c\u017e\u0219\u021b\u0390\u03ac\u03ad\u03ae\u03af\u03b0\u03b1\u03b2\u03b3\u03b4\u03b5\u03b6\u03b7\u03b8\u03b9\u03ba\u03bb\u03bc\u03bd\u03be\u03bf\u03c0\u03c1\u03c2\u03c3\u03c4\u03c5\u03c6\u03c7\u03c8\u03c9\u03ca\u03cb\u03cc\u03cd\u03ce\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u1f00\u1f01\u1f02\u1f03\u1f04\u1f05\u1f06\u1f07\u1f10\u1f11\u1f12\u1f13\u1f14\u1f15\u1f20\u1f21\u1f22\u1f23\u1f24\u1f25\u1f26\u1f27\u1f30\u1f31\u1f32\u1f33\u1f34\u1f35\u1f36\u1f37\u1f40\u1f41\u1f42\u1f43\u1f44\u1f45\u1f50\u1f51\u1f52\u1f53\u1f54\u1f55\u1f56\u1f57\u1f60\u1f61\u1f62\u1f63\u1f64\u1f65\u1f66\u1f67\u1f70\u03ac\u1f72\u03ad\u1f74\u03ae\u1f76\u03af\u1f78\u03cc\u1f7a\u03cd\u1f7c\u03ce\u1f80\u1f81\u1f82\u1f83\u1f84\u1f85\u1f86\u1f87\u1f90\u1f91\u1f92\u1f93\u1f94\u1f95\u1f96\u1f97\u1fa0\u1fa1\u1fa2\u1fa3\u1fa4\u1fa5\u1fa6\u1fa7\u1fb0\u1fb1\u1fb2\u1fb3\u1fb4\u1fb6\u1fb7\u1fc2\u1fc3\u1fc4\u1fc6\u1fc7\u1fd0\u1fd1\u1fd2\u0390\u1fd6\u1fd7\u1fe0\u1fe1\u1fe2\u03b0\u1fe4\u1fe5\u1fe6\u1fe7\u1ff2\u1ff3\u1ff4\u1ff6\u1ff7]{1,63}$\/iu'),\r\n\r\n\r\n\r\nHOWTO generate EU supported characters\r\nsee attachment"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9183\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-11927",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11927",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12743",
                    "filename": "eu-generate-chars.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2010-02-15T08:33:30.000+0000",
                    "size": 755,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12743\/eu-generate-chars.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10412",
                    "id": 10412,
                    "description": "Mini Release",
                    "name": "1.10.1",
                    "userReleaseDate": "10\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-10",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38468",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "body": "HOWTO generate EU supported characters - moved to attachment.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2010-02-15T08:38:07.000+0000",
                    "updated": "2010-02-15T08:38:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38472",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Provided patch is errorous and will not be implemented",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-02-15T14:56:25.000+0000",
                    "updated": "2010-02-15T14:56:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38473",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Correct feature added with r21063",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-02-15T15:04:33.000+0000",
                    "updated": "2010-02-15T15:04:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43333",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "body": "I would like reopen this issue, try \r\n\r\nrequire '.\/Zend\/Validate\/Hostname.php';\r\n$zvh = new Zend_Validate_Hostname;\r\nif (!$zvh->isValid('sv\u011bt-d\u011bt\u00ed.eu')) {\r\n  foreach ($zvh->getMessages() as $m) {\r\n    echo \"$m\\n\";\r\n  }\r\n}\r\n\r\nerror output\r\n'sv\u011bt-d\u011bt\u00ed.eu' appears to be a DNS hostname but cannot match against hostname schema for TLD 'eu'\r\n'sv\u011bt-d\u011bt\u00ed.eu' does not appear to be a valid local network name\r\n\r\nexpected result - valid hostname (idn for eu)\r\n\r\nTested on 1.11.0 and 1.10.8 version.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2010-11-25T07:12:55.000+0000",
                    "updated": "2010-11-25T07:12:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43953",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "According to IANA the sign \u011b is contained within the Latin Extended Charset but \"\u00ed\" within Latin Supplement Charset.\r\nFor details please look here: http:\/\/www.eurid.eu\/en\/eu-domain-names\/idns-eu\/supported-unicode-characters\r\n\r\nAccording to IANA characters from multiple charactersets are not allowed to be combined in one IDN.\r\nThis means for example that you can not use cyrilic signs in combination with greek signs. Only signs from the ASCII charset are allowed in combination with all other charsets.\r\n\r\nTherefor this issue will not be reopened as the returned error is correct.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2011-01-06T14:47:41.000+0000",
                    "updated": "2011-01-06T14:47:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44338",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "body": "I don't know if you are right, please see\r\nhttp:\/\/www.eurid.eu\/en\/content\/whois-result\r\nsv\u011btd\u011bt\u00ed (xn--svtdt-3sa23ac)\r\nStatus  REGISTERED\r\n\r\n\"You are not allowed to mix characters from different scripts (for example, Latin, Greek and Cyrillic)\"\r\nimho Latin-1 supplement and Latin Extended-A are same scripts. I ask EURid for that.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2011-02-10T13:42:41.000+0000",
                    "updated": "2011-02-10T13:42:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46962",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "body": "I would like reopen this issue, with reference to my ticket \"rt.eurid.eu #107544 mixed characters\"\r\nall Latin-* are same script and can be mixed. Please make proper validation. Thanks\r\n\r\nYou can test validity (length, mixing characters, etc.) of FQDN by\r\nhttp:\/\/www.eurid.eu\/en\/content\/whois",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2011-06-02T21:35:47.000+0000",
                    "updated": "2011-06-02T21:35:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50780",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dawidsh",
                        "name": "dawidsh",
                        "displayName": "Dawid SH",
                        "active": true
                    },
                    "body": "Unfortunately Zend_Validate_Hostname incorrectly validates Polish hostnames for TLD 'eu' witch characker '\u00f3'.\r\nAs I can see, this char is not in validator character set in class Zend_Validate_Hostname:\r\n\r\n        'EU'  => array(1 => '\/^[\\x{002d}0-9a-z\u00e0-\u00f6\u00f8-\u00ff]{1,63}$\/iu',\r\n            2 => '\/^[\\x{002d}0-9a-z\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0135\u0137\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u0161\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e]{1,63}$\/iu',\r\n            3 => '\/^[\\x{002d}0-9a-z\u0219\u021b]{1,63}$\/iu',\r\n            4 => '\/^[\\x{002d}0-9a-z\u0390\u03ac\u03ad\u03ae\u03af\u03b0\u03b1\u03b2\u03b3\u03b4\u03b5\u03b6\u03b7\u03b8\u03b9\u03ba\u03bb\u03bc\u03bd\u03be\u03bf\u03c0\u03c1\u03c2\u03c3\u03c4\u03c5\u03c6\u03c7\u03c8\u03c9\u03ca\u03cb\u03cc\u03cd\u03ce]{1,63}$\/iu',\r\n            5 => '\/^[\\x{002d}0-9a-z\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f]{1,63}$\/iu',\r\n            6 => '\/^[\\x{002d}0-9a-z\u1f00-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u03ce\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fc2\u1fc3\u1fc4\u1fc6\u1fc7\u1fd0-\u0390\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2\u1ff3\u1ff4\u1ff6\u1ff7]{1,63}$\/iu'),\r\n\r\n(http:\/\/www.eurid.eu\/en\/eu-domain-names\/idns-eu\/supported-unicode-characters: U+00F3 \u00f3 LATIN SMALL LETTER O WITH ACUTE)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dawidsh",
                        "name": "dawidsh",
                        "displayName": "Dawid SH",
                        "active": true
                    },
                    "created": "2012-05-28T12:53:37.000+0000",
                    "updated": "2012-05-28T12:53:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51256",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "body": "something new",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karelbarel",
                        "name": "karelbarel",
                        "displayName": "Martin Fuxa",
                        "active": true
                    },
                    "created": "2012-07-04T12:36:26.000+0000",
                    "updated": "2012-07-04T12:36:26.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9183\/transitions"
}