{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5620",
    "key": "ZF-5620",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Column 'xxx' in field list is ambiguous "
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5620\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-02-21T16:55:16.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tim4dev",
                "name": "tim4dev",
                "displayName": "Yuri Timofeev",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-01-23T01:57:08.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-02-17T06:59:37.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Db_Statement",
                "Paginator",
                "SQL",
                "ambiguous",
                "field"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "PATCH:\n\n$ diff -u Zend\/Paginator\/Adapter\/DbSelect.php Zend\/Paginator\/Adapter\/DbSelect.php.new\n--- Zend\/Paginator\/Adapter\/DbSelect.php 2008-11-04 23:49:22.000000000 +0200\n+++ Zend\/Paginator\/Adapter\/DbSelect.php.new     2009-01-26 22:44:30.000000000 +0200\n@@ -163,7 +163,7 @@\n                     if ($part[1] == '*' || $part[1] instanceof Zend_Db_Expr) {\n                         $columns[] = $part[1];\n                     } else {\n\n-                        $columns[] = $rowCount->getAdapter()->quoteIdentifier($part[1], true);\n\n+                        $columns[] = $rowCount->getAdapter()->quoteIdentifier($part[0] . '.' . $part[1], true);\n\n                     }\n                 }\n\n\n\n\n----------------------------------------\n\n\n\n\nWithout Zend_Paginator everything works well (I use Zend_Db_Select).\n\nSQL query :\n\nSELECT DISTINCT j.JobId, j.Type, j.Name AS JobName, j.Level, j.ClientId, DATE_FORMAT(j.StartTime, '%y-%b-%d %H:%i') AS StartTime, DATE_FORMAT(j.EndTime,   '%y-%b-%d %H:%i') AS EndTime, j.VolSessionId, j.VolSessionTime, j.JobFiles, j.JobBytes, j.JobErrors, j.PoolId, j.FileSetId, j.PurgedFiles, j.JobStatus, TIMEDIFF(EndTime, StartTime) AS DurationTime, s.JobStatusLong, c.Name AS ClientName, p.Name AS PoolName, f.FileSet FROM Job AS j\n LEFT JOIN Status AS s ON j.JobStatus = s.JobStatus\n LEFT JOIN Client AS c ON j.ClientId = c.ClientId\n LEFT JOIN Pool AS p ON j.PoolId = p.PoolId\n LEFT JOIN FileSet AS f ON j.FileSetId = f.FileSetId WHERE (('2008-01-22 09:48:06' <= j.StartTime) AND (j.StartTime <= '2009-01-23 09:48:06')) ORDER BY JobId ASC\n\n\n\nI try to use Zend_Paginator and get an error:\n\n Zend_Db_Statement_Exception: SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'Name' in field list is ambiguous in \/opt\/prog\/webacula\/trunk\/library\/Zend\/Db\/Statement\/Pdo.php on line 238\n\n\nCode :\n$select = new Zend_Db_Select($db);\n\n\/\/ make SQL query code\n...\n\n$paginator = Zend_Paginator::factory($select);\nZend_Paginator::setDefaultScrollingStyle('Sliding');\n$paginator->setItemCountPerPage(self::ROW_LIMIT_JOBS);\n$paginator->setCurrentPageNumber($this->_getParam('page', 1));\n$this->view->paginator = $paginator;\n$paginator->setView($this->view);\n\n\n\n--- Zend\/Db\/Statement\/Pdo.php  line 228\npublic function _execute(array $params = null)\n    {\nprint_r($this->_stmt);\n\n\nresult below:\n\nPDOStatement Object\n(\n    [queryString] => SELECT COUNT(DISTINCT JobId,Type,Name,Level,ClientId,DATE_FORMAT(j.StartTime, '%y-%b-%d %H:%i'),DATE_FORMAT(j.EndTime,   '%y-%b-%d %H:%i'),VolSessionId,VolSessionTime,JobFiles,JobBytes,JobErrors,PoolId,FileSetId,PurgedFiles,JobStatus,TIMEDIFF(EndTime, StartTime),JobStatusLong,Name,Name,FileSet) AS `zend_paginator_row_count` FROM Job AS j\n LEFT JOIN Status AS s ON j.JobStatus = s.JobStatus\n LEFT JOIN Client AS c ON j.ClientId = c.ClientId\n LEFT JOIN Pool AS p ON j.PoolId = p.PoolId\n LEFT JOIN FileSet AS f ON j.FileSetId = f.FileSetId WHERE (('2008-01-22 19:40:51' <= j.StartTime) AND (j.StartTime <= '2009-01-23 19:40:51'))\n)\n\n\nps. Zforum topic: http:\/\/www.zfforums.com\/zend-framework-components-13\/databases-20\/column-xxx-field-list-ambiguous-2203.html\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5620\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                "name": "norm2782",
                "displayName": "Jurrien Stutterheim",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5278",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5278",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10250",
                    "id": 10250,
                    "description": "Mini Release",
                    "name": "1.7.3",
                    "userReleaseDate": "19\/Jan\/09",
                    "archived": false,
                    "releaseDate": "2009-01-19",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10315",
                    "id": 10315,
                    "name": "Zend_Paginator",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28437",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tim4dev",
                        "name": "tim4dev",
                        "displayName": "Yuri Timofeev",
                        "active": true
                    },
                    "body": "Possible, Paginator does not understand the LEFT JOIN ?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tim4dev",
                        "name": "tim4dev",
                        "displayName": "Yuri Timofeev",
                        "active": true
                    },
                    "created": "2009-01-23T02:15:18.000+0000",
                    "updated": "2009-01-23T02:15:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29004",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "body": "This should be resolved in revision 14136, along with ZF-5231",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "created": "2009-02-21T16:55:16.000+0000",
                    "updated": "2009-02-21T16:55:16.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5620\/transitions"
}