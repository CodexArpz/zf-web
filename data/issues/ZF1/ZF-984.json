{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-984",
    "key": "ZF-984",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Acl : debug for inheritance of rules : get source from used rule"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/22",
                "name": "Community Driven Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-984\/votes",
                "votes": 6,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/11183",
                    "id": 11183,
                    "description": "Minor Release",
                    "name": "Next Minor Release",
                    "archived": false,
                    "released": false
                }
            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=vincent.dupont",
                "name": "vincent.dupont",
                "displayName": "Vincent Dupont",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-02-27T00:54:53.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-02-10T16:15:49.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "hello,\r\n\r\nThe Zend_Acl inheritance system of to be applied rules is powerful because it does allow inheriting rules from multiple parents.\r\nThe drawback of this mechanic is that the Acl is like a black box returning the 'last inserted' rule.\r\n\r\n\r\nWhen debugging an application, or even during normal usage, it can be very informative for the users to get informed what rules have been applied.\r\nFollowing a previous discussion with Darby Felton :\r\nConsider the following code:\r\n\r\n<?php\r\nrequire_once 'Zend\/Acl.php';\r\n$acl = new Zend_Acl();\r\n\r\nrequire_once 'Zend\/Acl\/Role.php';\r\n$acl->addRole(new Zend_Acl_Role('guest'))\r\n    ->addRole(new Zend_Acl_Role('member'))\r\n    ->addRole(new Zend_Acl_Role('admin'));\r\n\r\n$parents = array('guest', 'member', 'admin');\r\n$acl->addRole(new Zend_Acl_Role('someUser'), $parents);\r\n\r\nrequire_once 'Zend\/Acl\/Resource.php';\r\n$acl->add(new Zend_Acl_Resource('someResource'));\r\n\r\n$acl->deny('guest', 'someResource');\r\n$acl->allow('member', someResource');\r\n\r\necho $acl->isAllowed('guest', 'someResource') ? 'allowed' : 'denied';\r\n?>\r\n\r\nSo, the printed result should be 'Allowed' since the rules are checked as \r\nadmin => no rule\r\nmember =>allowed\r\n===>exit (guest is not processed)\r\n\r\n\r\nThe problem is then to know that the 'allowed' result actually comes from the 'member' Role, not from 'Guest' nor 'Admin'\r\nMy suggestion is then to allow a debug output (or whatever its name) that could return an array as:\r\n\r\n0]function isAllowed on 'guest'  'someResource': check for specific rule: none\r\n[1]function isAllowed on 'guest'  'someResource': check for rule on parent 'admin' : none\r\n[2]function isAllowed on 'guest'  'someResource': check for rule on parent 'member' : 'allowed' returning this value\r\n[3]end of processing\r\nthis would be very very helpful when debugging an application!!\r\n\r\n\r\nThe developers will benefit from this because they will be able to follow the complete logical commands operating their application\r\nThe users will benefit because they can be informed why a resource is not available, and react accordingly (ask privileges to the admins, change the access rules, etc)\r\n\r\nI belive this would be quite simple to achieve as this only reflects the way Acl did the processing (inside some kinds of loops,I guess)\r\n\r\nYour comments are welcome.\r\n\r\nVincent\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10040",
                "value": " Nice to Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-984\/watchers",
                "isWatching": false,
                "watchCount": 7
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                "name": "linead",
                "displayName": "Daniel Fullarton",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/12439",
                    "filename": "acl.diff",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "created": "2009-12-02T04:58:08.000+0000",
                    "size": 5546,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/12439\/acl.diff"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/12291",
                    "filename": "logtest.php",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "created": "2009-10-06T23:33:09.000+0000",
                    "size": 886,
                    "mimeType": "text\/php",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/12291\/logtest.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10070",
                    "id": 10070,
                    "name": "Zend_Acl",
                    "description": "Access control list authorization component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13015",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "I really like this idea! How better to illustrate the way inheritance works in Zend_Acl than by providing dynamic feedback from working with your own data? I also think it would be quite simple to build this into Zend_Acl.\n\nThanks, Vincent, for the suggestions!",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-02-27T07:51:34.000+0000",
                    "updated": "2007-02-27T07:51:34.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/21039",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "This doesn't appear to have been fixed in 1.5.0. Please update if this is not correct.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-04-18T13:12:02.000+0000",
                    "updated": "2008-04-18T13:12:02.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/28198",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Assigning to Ralph to get closure on this issues.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2009-01-14T13:31:37.000+0000",
                    "updated": "2009-01-14T13:31:37.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/33597",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "If we are to support this, it should be done by adding a Zend_Log instance to the $acl object.\n\nI would support this if the API include a setLogger(Zend_Log $logger); method.  And then if internal methods used a INFO level log to output about information within the ACL.\n\nThoughts?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-08-18T09:51:31.000+0000",
                    "updated": "2009-08-18T09:51:31.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/33598",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=torio",
                        "name": "torio",
                        "displayName": "Torio Farazdagi",
                        "active": true
                    },
                    "body": "Ralph,\nNice idea. That would create a cleaner and understandable API. Having attached logger instead of \"debug\" method should be a preferred solution.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=torio",
                        "name": "torio",
                        "displayName": "Torio Farazdagi",
                        "active": true
                    },
                    "created": "2009-08-18T10:03:37.000+0000",
                    "updated": "2009-08-18T10:03:37.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/34377",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "While this is a worthwhile feature, the ZF team will not develop this feature, but if a community member would like to pick up and develop it, they may make an assignment of it.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-09-10T08:55:11.000+0000",
                    "updated": "2009-09-10T08:55:11.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/35103",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "body": "This sounded like a great idea, so i whipped something up today. \nFollowing ralph's suggestion this adds a setLogger public method and changes the DFS searches to log to it.\n\nSee logtest.php for a quick demonstration.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "created": "2009-10-06T23:33:09.000+0000",
                    "updated": "2009-10-06T23:33:09.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/35108",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=torio",
                        "name": "torio",
                        "displayName": "Torio Farazdagi",
                        "active": true
                    },
                    "body": "Daniel,\nYou provided Zend_Log - in place I suppose of Zend_Acl (that would actually send messages to assigned Zend_Log) instance. Or am I missing something?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=torio",
                        "name": "torio",
                        "displayName": "Torio Farazdagi",
                        "active": true
                    },
                    "created": "2009-10-07T09:26:58.000+0000",
                    "updated": "2009-10-07T09:26:58.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/35112",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "body": "Sorry about that Torio, wasn't paying enough attention last night. Here's the Acl.php that you actually need.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "created": "2009-10-07T15:20:30.000+0000",
                    "updated": "2009-10-07T15:20:30.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/35253",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "body": "added a svn diff for the change.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=linead",
                        "name": "linead",
                        "displayName": "Daniel Fullarton",
                        "active": true
                    },
                    "created": "2009-10-15T20:41:50.000+0000",
                    "updated": "2009-10-15T20:41:50.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-984\/transitions"
}