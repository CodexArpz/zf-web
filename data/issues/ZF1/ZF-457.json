{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-457",
    "key": "ZF-457",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Add ability to specify the lifetime of individual cache entries"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-457\/votes",
                "votes": 5,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-02-08T15:34:11.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                "name": "lsaferite",
                "displayName": "Lee Saferite",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2006-10-22T19:10:47.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Currently the Zend_Cache_Backend_Interface does not allow for the possibility of having per-item lifetimes.  In addition, due to the way directives are set, you cannot retrieve the current lifetime,  change it, and reset it.  \n\nBy adding in an additional optional variable on calls to save() on the backend, you can allow this feature and not break current usage."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-457\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=fab",
                "name": "fab",
                "displayName": "Fabien MARTY",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/10113",
                    "filename": "Zend_Cache_221006_2.diff",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                        "name": "lsaferite",
                        "displayName": "Lee Saferite",
                        "active": true
                    },
                    "created": "2006-10-22T19:11:17.000+0000",
                    "size": 6230,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/10113\/Zend_Cache_221006_2.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10028",
                    "id": 10028,
                    "name": "Zend_Cache",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11038",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                        "name": "lsaferite",
                        "displayName": "Lee Saferite",
                        "active": true
                    },
                    "body": "Examples of the suggested changes",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                        "name": "lsaferite",
                        "displayName": "Lee Saferite",
                        "active": true
                    },
                    "created": "2006-10-22T19:11:17.000+0000",
                    "updated": "2006-10-22T19:11:17.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11068",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alex.kirsch",
                        "name": "alex.kirsch",
                        "displayName": "Alex Kirsch",
                        "active": true
                    },
                    "body": "You got my vote,\n\nSeems like a nice addition to the interface.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=alex.kirsch",
                        "name": "alex.kirsch",
                        "displayName": "Alex Kirsch",
                        "active": true
                    },
                    "created": "2006-10-27T08:48:42.000+0000",
                    "updated": "2006-10-27T08:48:42.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11534",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Changing fix version to 0.6.0.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2006-11-13T15:30:37.000+0000",
                    "updated": "2006-11-13T15:30:37.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11749",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bitrockers",
                        "name": "bitrockers",
                        "displayName": "Christian Szardenings",
                        "active": true
                    },
                    "body": "\nI highly recommend this change, because in production enviroments it's often needed set individual lifetimes. With\nmemcache or APC as backend, there's nothing more to do, because APC\/memcache function support lifetime\/ttl options, if you\napply the patch by Lee. \n\nWhen using the File backend, you also should improve the _clean method (Zend_Cache_Backend_File) in a way that \nit cleans the cache records (files) in regard to the specified lifetime. You could do this by either storing the \nlifetime in the file, or adding the lifetime to the filename.\n\nI would suggest the latter option, because you wouldn't have to open each file for finding the desired lifetime. \nExample filename could be cache_$id_$lifeTime.\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bitrockers",
                        "name": "bitrockers",
                        "displayName": "Christian Szardenings",
                        "active": true
                    },
                    "created": "2006-11-30T13:55:42.000+0000",
                    "updated": "2006-11-30T13:55:42.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11750",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bitrockers",
                        "name": "bitrockers",
                        "displayName": "Christian Szardenings",
                        "active": true
                    },
                    "body": "\nSorry, I have to cancel my last suggestion. Storing the lifetime in the cache file is a bad idea, because\nthe Cache wouldn't know the exact filename (so it would become difficult to open it fast enough). :-) \n\nSo there're two other options (if i'm right this time): \na) store lifetime in the file\nb) store lifetimes of cache in extra file\n\nChoosing a) would cause the clean process to last a bit longer (opening the files). The advantage\nwould be, that the load-method also could delete expired records.\n\nOption b) would allow faster deletion by the the _clean method, but causes a little overhead\nwhen creating the cache file.\n\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bitrockers",
                        "name": "bitrockers",
                        "displayName": "Christian Szardenings",
                        "active": true
                    },
                    "created": "2006-11-30T14:14:59.000+0000",
                    "updated": "2006-11-30T14:14:59.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11752",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mratzloff",
                        "name": "mratzloff",
                        "displayName": "Matthew Ratzloff",
                        "active": true
                    },
                    "body": "I strongly agree with this.  A global lifetime on its own is insufficient for the kinds of things I do, and creating multiple Zend_Cache objects seems superfluous.\n\nTo elaborate on Christian's comment, your two options could be:\n\n- Prepending each serialized cache file with the expiration UTS ending with some delimiter.  This increases fetch time a small bit because of the string splitting, but probably more than compensates for it by eliminating the need to load a separate file (as the next option does).\n- Creating a separate file containing a serialized hash of filename => lifetime values.  Whenever possible, I think the overhead should be shifted to when the cache is created, but this file would quickly become ridiculously large on large applications with dynamic caching.  Besides the extra require_once, the reading of the file itself would become cumbersome.  And if it's deleted somehow, it would invalidate the entire cache.\n\nFor those reasons, I'm in favor of embedding the lifetime in the cached file itself.\n\nAs far as usage, I would prefer the ability to do something like the following:\n\n{code}$cache->save($object, 'object', 120);{code}\n\nA global lifetime could still be set, but it would only be a default value.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=mratzloff",
                        "name": "mratzloff",
                        "displayName": "Matthew Ratzloff",
                        "active": true
                    },
                    "created": "2006-11-30T17:53:26.000+0000",
                    "updated": "2006-11-30T17:53:26.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11753",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                        "name": "lsaferite",
                        "displayName": "Lee Saferite",
                        "active": true
                    },
                    "body": "Even though I forgot to make a patch file for or even mention it, this should of course apply to the frontend as well.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=lsaferite",
                        "name": "lsaferite",
                        "displayName": "Lee Saferite",
                        "active": true
                    },
                    "created": "2006-11-30T19:02:37.000+0000",
                    "updated": "2006-11-30T19:02:37.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12607",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=fab",
                        "name": "fab",
                        "displayName": "Fabien MARTY",
                        "active": true
                    },
                    "body": "this feature is now in SVN version (you can use a specfic lifetime per cache (fourth argument of the save() method)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=fab",
                        "name": "fab",
                        "displayName": "Fabien MARTY",
                        "active": true
                    },
                    "created": "2007-02-08T15:34:11.000+0000",
                    "updated": "2007-02-08T15:34:11.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-457\/transitions"
}