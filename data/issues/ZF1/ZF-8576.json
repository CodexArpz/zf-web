{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8576",
    "key": "ZF-8576",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "name of single element is not correct"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8576\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-04-16T12:34:33.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                "name": "anno",
                "displayName": "Hans M\u00fcller",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-12-18T02:13:51.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-04-16T12:35:56.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have a subform with different elements in it and I tried t ogive one single element out but the name of it was noch correct.\r\n\r\nI gave this in my ViewScript out:\r\n\r\n$this->form->getSubForm(\"sub_form_foo\")->getElement(\"foo\");\r\n\r\nSo the name of the element was \"foo\" but normally it should be \"sub_form_foo-foo\". I think this is the correct name of it and not only \"foo\".\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8576\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12525",
                    "filename": "ZF-8576.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-20T10:29:31.000+0000",
                    "size": 2302,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12525\/ZF-8576.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10390",
                    "id": 10390,
                    "description": "Mini Release",
                    "name": "1.9.6",
                    "userReleaseDate": "24\/Nov\/09",
                    "archived": false,
                    "releaseDate": "2009-11-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37028",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Is the problem that the output of the HTML render of the command above is faulty (that is, outputting an input with attribute name = \"foo\" instead of \"sub_form_foo-foo\")?\r\n\r\nIf you just use the above command and then call getName() on the element, you should indeed get 'foo' (the original name of the element), but calling getFullyQualifiedName() should return 'sub_form_foo-foo'. Could you check that, please?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-18T04:33:26.000+0000",
                    "updated": "2009-12-18T04:33:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37030",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "body": "Yes the first question of you describes the problem excactly.\r\n\r\nI tested it with the method \"getFullyQualifiedName()\" and \"getName()\" but I only got \"foo\" as name back. No name like \"sub_form_foo-foo\" was given back.\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "created": "2009-12-18T05:44:08.000+0000",
                    "updated": "2009-12-18T05:44:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37031",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Can you post a code snippet where you attach the element to the subform? As far as I know, that's where the $_belongsTo member is set, which should impack the fully qualified name. \r\nAlso, do you rename the subform anywhere?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-18T06:04:40.000+0000",
                    "updated": "2009-12-18T06:04:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37035",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "body": "I expanded the creation of subforms a little bit. So that you can test more thank one. But it should have an effect on it if you only create one or more because the name of a subform is every time a key value of an array.\r\n\r\n{noformat}\r\n\r\nclass Form_FooBar extends Zend_Form {\r\n\r\nprotected function CreateForm() {\r\n\r\nfor($i=0; $i < 2; $i++) {\r\n\r\n   $sub_form = new Zend_Dojo_Form_SubForm();\r\n\r\n$sub_form->addElement(\"TextBox\",\t\t\t\t\t\t\t\t\t\t\t\"foo\",\t\t\t\t\t\t\t\t\t\t\tarray(\"label\" => \"Foo\",\t\t\t\t\t\t\t\t\t\t\t\"value\" => \"some_text\"));\r\n\r\n$this->addSubForm($sub_form, \"sub_form_name_\" . $i);\r\n\r\n}\r\n\r\n$this->addElement(\"SubmitButton\",\t\t\t\t\t\t\t\t\t\t\t\t\"submit_search\",\t\t\t\t\t\t\t\t\t\t\t\tarray(\"label\" => \"search\"));\r\n$this->getElement(\"submit_search\")->removeDecorator(\"label\");\r\n\r\n}\r\n\r\n{noformat} \r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "created": "2009-12-18T06:32:45.000+0000",
                    "updated": "2009-12-18T06:32:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37036",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "body": "I'm sorry this is a better view for it:\r\n\r\n{noformat}\r\nclass Form_FooBar extends Zend_Form {\r\n\r\nprotected function CreateForm() {\r\n\r\nfor($i=0; $i < 2; $i++) {\r\n\r\n   $sub_form = new Zend_Dojo_Form_SubForm();\r\n\r\n$sub_form->addElement(\"TextBox\",\r\n                      \"foo\",\r\n                      array(\"label\" => \"Foo\",\r\n                      \"value\" => \"some_text\"));\r\n\r\n$this->addSubForm($sub_form, \"sub_form_name_\" . $i);\r\n\r\n}\r\n\r\n$this->addElement(\"SubmitButton\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                  \"submit_search\",\r\n                  array(\"label\" => \"search\"));\r\n$this->getElement(\"submit_search\")->removeDecorator(\"label\");\r\n\r\n}\r\n{noformat}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=anno",
                        "name": "anno",
                        "displayName": "Hans M\u00fcller",
                        "active": true
                    },
                    "created": "2009-12-18T06:35:08.000+0000",
                    "updated": "2009-12-18T06:35:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37037",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "The $_belongsTo member is set on attachment of the element to the form, so in this case you create a subform without name, attach an element to it and only then give the subform a name. Maybe that is the problem.\r\n\r\nTry something like this (not tested):\r\n\r\n{code:none}\r\nclass Form_FooBar extends Zend_Form {\r\n\r\nprotected function CreateForm() {\r\n\r\nfor($i=0; $i < 2; $i++) {\r\n\r\n   $sub_form = $this->addSubForm(new Zend_Dojo_Form_SubForm(), \"sub_form_name_\".$i);\r\n\r\n   $sub_form->addElement(\"TextBox\",\r\n                      \"foo\",\r\n                      array(\"label\" => \"Foo\",\r\n                      \"value\" => \"some_text\"));\r\n\r\n}\r\n\r\n$this->addElement(\"SubmitButton\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                  \"submit_search\",\r\n                  array(\"label\" => \"search\"));\r\n$this->getElement(\"submit_search\")->removeDecorator(\"label\");\r\n\r\n}\r\n{code}\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-18T07:03:11.000+0000",
                    "updated": "2009-12-18T07:03:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37088",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Looking into this a bit further, I think I found some strange patterns regarding names and belongsTo in subforms..\r\n\r\nSubForm -> addElement -> Form.addSubForm\/setName = does not add name as value for belongsTo\r\nSubForm -> Form.addSubForm\/setName -> addElement = adds name as value for belongsTo for element\r\n\r\nAll is moot when rendering the entire form using FormElements decorator, since that propagates the name of the form to the belongsTo of the elements, but when rendering a single element, the behavior could be considered inconsistent.\r\n\r\nEither\r\n# let setName set belongsTo on all elements already added if isArray = true\r\n# remove _setBelongsTo from addElement\r\n\r\nDepending on the kind of behavior that is wanted for rendering single elements.\r\n\r\nAttached a patch to test this 'issue' and implementation of solution #1. Anyone care to comment?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-20T10:29:32.000+0000",
                    "updated": "2009-12-20T10:29:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39272",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Menno, i think your solution is correct.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-16T04:39:56.000+0000",
                    "updated": "2010-03-16T04:39:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39728",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "On the other side, after delving into elementsBelongTo and isArray of Zend_Form,\r\nit feels wrong to use setName to set belongsTo of childElements, proposed solution\r\nfor this problem:\r\n{code}\r\n...\r\n$sub_form->setElementsBelongTo(\"sub_form_name_\" . $i);\r\n...\r\n{code}\r\n\r\nPlease respond if this issue could be closed now.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-04-02T04:24:58.000+0000",
                    "updated": "2010-04-02T04:24:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40075",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Won't fix because this can be solved by rearranging the order\r\nof attaching SubForms and Elements and Setting ElementsBelongTo\r\non the SubForm before attaching Elements to the SubForm.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-04-16T12:34:33.000+0000",
                    "updated": "2010-04-16T12:34:33.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8576\/transitions"
}