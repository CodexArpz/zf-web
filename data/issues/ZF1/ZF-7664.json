{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7664",
    "key": "ZF-7664",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Wildfire_Protocol_JsonStream splits headers with part that are too large for at least some servers"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7664\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-10-09T17:27:18.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=unirgy",
                "name": "unirgy",
                "displayName": "Boris Gurvich",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-23T03:34:53.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-11-17T09:29:14.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "firephp",
                "headers",
                "wildfire"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I've tried to use FirePhp classes, but FirePHP was giving error messages.\nUpon closer inspection, I've found that only the last Wf-1-1-1-X chunk was sent from server to browser.\n\nZend_Wildfire_Protocol_JsonStream::getPayload() has this on line 192:\n$parts = explode(\"\\n\",chunk_split($message, 5000, \"\\n\"));\n\nReducing size of parts to 1000 chars resolved the issue:\n$parts = explode(\"\\n\",chunk_split($message, 1000, \"\\n\"));"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7664\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                "name": "cadorn",
                "displayName": "Christoph Dorn",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10350",
                    "id": 10350,
                    "description": "Mini Release",
                    "name": "1.9.1",
                    "userReleaseDate": "11\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10330",
                    "id": 10330,
                    "name": "Zend_Wildfire",
                    "description": "Supports the Wildfire protocol and provide a log writer to add Wildfire debugging messages to response.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33813",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Does it work for chunk sizes closer to 5,000?\n\nAre the responses going though a proxy?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2009-08-23T09:16:53.000+0000",
                    "updated": "2009-08-23T09:16:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33829",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=unirgy",
                        "name": "unirgy",
                        "displayName": "Boris Gurvich",
                        "active": true
                    },
                    "body": "No proxies in original tests - made sure that all the header() 's were set on server side, and seen in Firebug \/ Net \/ Response Headers that only last one goes through.\n\nAfter that tried with Fiddler2 tool, which is proxy but does not limit length of headers, with the same result.\n\nI do not think that my hosting uses proxy, as the SSL certificates are validated on my side.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=unirgy",
                        "name": "unirgy",
                        "displayName": "Boris Gurvich",
                        "active": true
                    },
                    "created": "2009-08-23T17:47:01.000+0000",
                    "updated": "2009-08-23T17:47:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39014",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Is this still a problem? Can you provide a test case?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-03-05T16:40:44.000+0000",
                    "updated": "2010-03-05T16:40:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42463",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Nobody else is reporting same issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-10-09T17:27:18.000+0000",
                    "updated": "2010-10-09T17:27:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42995",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "body": "I'm currently exploring this issue. I use a ZendServer CE v5 on my local windows machine so no proxies can get in the way of what i am doing. I set up a small script wich logs 6x6000 Bytes. Reducing the mentionend Chunk Size 1500 does fix the issue. I captured the HTTP stream with wireshark and begin to understand whats failing.\r\n{noformat}\r\nGET \/headz.php HTTP\/1.1\r\n ...\r\n\r\nHTTP\/1.1 200 OK\r\n ...\r\nX-Wf-1-1-1-1: 6073|[{\"Type\":\"ERROR\",\"File\":\"C:\\\\entwicklung\\\\php\\\\headz.php\",\"Line\":35},\"AAA ... AAA|\\\r\nX-Wf-1-1-1-2: |AAA ... AAA!\"]|\r\nX-Wf-1-1-1-4: |AAA ... AAA!\"]|\r\n{noformat}\r\nWoops, where has chunk three gone on the wire? My guess is that it's either an apache or php limit for the header line length. This theory is supported by our ubuntu server wich deals with this just fine. However i don't know of such a configuration value.\r\n\r\nIt's easily reproducable, but i gotta look up how to make this a test case.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "created": "2010-11-16T02:01:34.000+0000",
                    "updated": "2010-11-16T02:01:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43021",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Hmm. It would be really good to know what is causing this.\r\n\r\nI have reworked the communication system in FirePHP 1.0 [1] to use only one short header which the client uses to make a second request for the actual data. The one header can get longer than 50 characters though so it would still be affected by this.\r\n\r\nPlease let me know if you can figure anything out. This is pretty important.\r\n\r\n[1] - http:\/\/upgrade.firephp.org\/",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-11-16T10:14:50.000+0000",
                    "updated": "2010-11-16T10:14:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43032",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Can you check if a long cookie header gets trimmed as well?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-11-16T12:50:30.000+0000",
                    "updated": "2010-11-16T12:50:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "body": "A single header can be much longer. It crashes at over 8K in a single header tough (varying from zend server, windows, old xampp). I also varied the chunk size and it seems at about 8K of -all- headers issued, one will fail, the next will work again. However, PHPs header_list() does -not- miss them. They gap is visible in the payload of a single TCP packet. I now think it's somewhere between PHP and Apache. For now, varying the chunk size won't fix your component. :(",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "created": "2010-11-17T08:03:24.000+0000",
                    "updated": "2010-11-17T08:03:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43048",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "body": "oops -striketrough- was ment to be *a strong statement*",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=croensch",
                        "name": "croensch",
                        "displayName": "Christoph Roensch",
                        "active": true
                    },
                    "created": "2010-11-17T08:04:33.000+0000",
                    "updated": "2010-11-17T08:04:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43049",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Ok. That makes me feel better. FirePHP 1.0 uses one header only and all headers together will always be well under 8k.\r\n\r\nI hope to have time to work on a ZF integration for FirePHP 1.0 soon. In the meantime you could use it directly bypassing the ZF components.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-11-17T08:26:27.000+0000",
                    "updated": "2010-11-17T08:26:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43052",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Check out this apache directive: http:\/\/httpd.apache.org\/docs\/2.0\/mod\/core.html#limitrequestfieldsize\r\n\r\nSuggested here: http:\/\/twitter.com\/jappievw\/status\/4601815689592833",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2010-11-17T09:29:13.000+0000",
                    "updated": "2010-11-17T09:29:13.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7664\/transitions"
}