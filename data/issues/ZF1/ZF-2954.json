{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2954",
    "key": "ZF-2954",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "using zend_translate for custom validation message for each validation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 15,
                "timeestimate": 15
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2954\/votes",
                "votes": 3,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10240",
                    "id": 10240,
                    "description": "Minor Release",
                    "name": "1.6.0",
                    "userReleaseDate": "02\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-02",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-08-04T13:59:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexl",
                "name": "alexl",
                "displayName": "Alexander Lanin",
                "active": false
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-03-24T11:52:05.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-09-02T10:39:07.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Don't know whether I got the topic\/summary right, what I mean is the often asked question:\n\"Zend_From offers a translator. However when more then one field uses a certain Validator, there is no way to set up different messages for every field\"\n\nOne possible solution would be to translate the message and not just the key.\nSo this will be possible:\n{code}\n$validator_email_empty->setMessage(\"invalid_email_empty\");\n$validator_name_empty->setMessage(\"invalid_name_empty\");\n{code}\n\nand sql or whatever (remember, this will be for several languages!):\ninvalid_email_empty => we do need your email address!\ninvalid_name_empty => name field cannot be empty\n\n{code}Index: Validate\/Abstract.php\n===================================================================\n--- Validate\/Abstract.php\t(revision 9039)\n+++ Validate\/Abstract.php\t(working copy)\n@@ -191,7 +195,10 @@\n         $message = $this->_messageTemplates[$messageKey];\n \n         if (null !== ($translator = $this->getTranslator())) {\n-            if ($translator->isTranslated($messageKey)) {\n+            if ($translator->isTranslated($message)) {\n+                $message = $translator->translate($message);\n+            }\n+            elseif ($translator->isTranslated($messageKey)) {\n                 $message = $translator->translate($messageKey);\n             }\n         }\n{code}\n\nnow, before someone has the idea to do:\n{code}$validator_email_empty->setMessage($this->translate(\"invalid_email_empty\"));{code}\njust think of Zend_Validate_Between with %min% and %max% in the message\n\n\nNot sure whether I got the right approach to this, but for me it's working just fine!\n\nIn my sql I have a generic \"notEmpty\" => \"this field is required\" and \"username_invalid_empty\" => \"you have to enter a username\"\nSo I get the later message for username and the first one for all the other fields - in all required languages"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10037",
                "value": "   Must Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2954\/watchers",
                "isWatching": false,
                "watchCount": 5
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-3313",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3313",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10172",
                    "id": 10172,
                    "description": "Minor Release",
                    "name": "1.5.0",
                    "userReleaseDate": "17\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-17",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20195",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Just two comments on this:\n\n*) actually there is a proposal written which makes it possible to translate exceptions. It would not make sense to double the same implementation in multiple components.\n\n*) %xxx% is not a parameter for translations.... this would not work... the seperator have to be changed to work with translations to $s notation",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-24T17:30:05.000+0000",
                    "updated": "2008-03-24T17:30:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20197",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexl",
                        "name": "alexl",
                        "displayName": "Alexander Lanin",
                        "active": false
                    },
                    "body": "1) what proposal? the only one I could find that is remotly related is http:\/\/framework.zend.com\/wiki\/display\/ZFPROP\/Zend_Validate+error+messages+-+Bill+Karwin\nBut this is the one I want to fix ;-)\n\n2) This is taken from sql of my current project (key, english, german):\npassword_validators_stringLengthTooLong - longer than %max% characters - l\u00e4nger als %max% Zeichen \npassword_validators_stringLengthTooShort - shorter than %min% characters - Mindestens %min% Zeichen \n\nIt works fine with the solution I described, ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexl",
                        "name": "alexl",
                        "displayName": "Alexander Lanin",
                        "active": false
                    },
                    "created": "2008-03-24T17:49:03.000+0000",
                    "updated": "2008-03-24T17:49:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20202",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "There is another proposal about generic exception handling.\n\nAnd related to paramters:\nThere is only one handling of parameters when using internationalisation... $s... or %1$s when you have multiple one. All other ways of parameters are not handled by translation.\n\nSo the problem is when someone uses the way which only works for Validate he gets problem when he uses the same syntax in other classes.\n\nThe only thing I declare is that translation has to be the same in every component, and not that every component integrates his own way use doing this.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-25T10:09:54.000+0000",
                    "updated": "2008-03-25T10:09:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20203",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexl",
                        "name": "alexl",
                        "displayName": "Alexander Lanin",
                        "active": false
                    },
                    "body": "agreed, this is more of a hotfix \/ tempfix\nif the proposal you are talking about is coming out anytime soon this can be closed\/removed completly\n\nI'm gonna use this until there is another solution for the problem and direct people who are asking about internationalisation of validation messages here with the notice to read all comments :-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexl",
                        "name": "alexl",
                        "displayName": "Alexander Lanin",
                        "active": false
                    },
                    "created": "2008-03-25T10:44:53.000+0000",
                    "updated": "2008-03-25T10:44:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20204",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "It's no problem to extend the core class as shown above and use the own extended class until a official way has been integrated.\n\nBut anyone doing this has to be aware of possible differences between self implemented way and the official one.\n\nAs I am the \"master of desaster\" for all translation and internationalization themes in ZF I am always aware of such themes... if there are any questions don't be shy to ask in the mailing list.\n\nKeep in mind to extend the core class and not to rewrite it... otherwise you will have problems with any new release of ZF ;-)\n\nAnd as already said, before we will integrate this into the core several other problems and issues have to be thought of to have a complete solution and not only a partitial one.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-25T10:56:36.000+0000",
                    "updated": "2008-03-25T10:56:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20371",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Please categorize\/fix as needed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-25T20:45:43.000+0000",
                    "updated": "2008-03-25T20:45:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22802",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Reassigning to Matthew for evaluation.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-07-08T09:18:56.000+0000",
                    "updated": "2008-07-08T09:18:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23289",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Functionality added in trunk and 1.6 release branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-08-04T13:59:03.000+0000",
                    "updated": "2008-08-04T13:59:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24005",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Updating for the 1.6.0 release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-09-02T10:39:07.000+0000",
                    "updated": "2008-09-02T10:39:07.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2954\/transitions"
}