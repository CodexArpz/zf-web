{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11012",
    "key": "ZF-11012",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_View_Helper_Navigation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11012\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/3",
                "name": "Duplicate"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2013-01-22T10:44:30.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                "name": "dgoosens@gmail.com",
                "displayName": "dGo",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-01-31T06:07:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-01-22T10:44:30.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "hi,\r\n\r\nNot quite sure about this, as I am implementing it for the first time... But, it appears strange to me that the view_helper_namespace is a constant... This more or less prohibits extending Zend_View_Helper_Navigation to fit my needs with a extension on Zend_View_Helper_Navigation_Menu.\r\n\r\nIndeed, by making it a protected var, I could just set another view_helper namespace and create my App_View_Helper_Navigation_Menu without any further issues.\r\n\r\nI figure there is a reason for it to be a constant though... And I am curious to know it ?\r\nOr I am missing something... And then it would be nice to know what.\r\n\r\nThe objective would be to be able to display the siblings of the active menu element's parent...\r\nSomething like this :\r\n\r\nAdministration\r\n'|- Settings\r\n'|- Users\r\n.....'|- Groups\r\n.....'|- Users......[active]\r\n'|- Accounts\r\n\r\nRight now, when Administration > Users > Users is active, Settings and Accounts are not visible... Which is not very userfriendly.\r\n\r\nI know this is not the place to post questions about how ZF works... But I believe this explains why I want to extend Zend_View_Helper_Navigation and Zend_View_Helper_Navigation_Menu.\r\n\r\nCheers !\r\ndGo\r\n\r\n\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11012\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-6941",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6941",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10520",
                    "id": 10520,
                    "description": "Mini Release",
                    "name": "1.11.2",
                    "userReleaseDate": "30\/Dec\/10",
                    "archived": false,
                    "releaseDate": "2010-12-30",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10530",
                    "id": 10530,
                    "description": "Mini Release",
                    "name": "1.11.3",
                    "userReleaseDate": "01\/Feb\/11",
                    "archived": false,
                    "releaseDate": "2011-02-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44453",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "hi,\r\n\r\nI have written an extended version of Zend_View_Helper_Navigation_Menu and Zend_View_Helper_Navigation which solves my problem...\r\nIt now displays the siblings of the parent menu items like this:\r\n{code:xml}\r\nmenuItem\r\nmenuItem\r\n  |-submenuItem\r\n  |-submenuItem\r\n  |-submenuItem\r\n  | |-subsubmenuItem\r\n  | |-subsubmenuItem\r\n  | | |-subsubsubmenuItem\r\n  | | |-subsubsubmenuItem\r\n  | | |-subsubsubmenuItem   <!--active-->\r\n  | |-subsubmenuItem\r\n  |-submenuItem\r\n  |-submenuItem\r\nmenuItem\r\nmenuItem\r\nmenuItem\r\n{code} \r\n\r\nWhile trying to fit the code to my needs, I also noticed that Zend_View_Helper_Navigation_Menu did not take the hidden menuItems into account... \r\nBy slightly modifying {{findActive()}}, I \"corrected\" this.\r\n\r\nI am not quite sure whether I can submit this as a patch or \"suggestion\" and how I should do this (it seems impossible to attach a ZIP containing my scripts to the issue).\r\n\r\nLet me know if this is of any interest to you...\r\ndGo",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T00:46:52.000+0000",
                    "updated": "2011-02-18T00:46:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44455",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "Please have a look on the following issues:\r\n{quote}\r\nNot quite sure about this, as I am implementing it for the first time... But, it appears strange to me that the view_helper_namespace is a constant... This more or less prohibits extending Zend_View_Helper_Navigation to fit my needs with a extension on Zend_View_Helper_Navigation_Menu.\r\n\r\nIndeed, by making it a protected var, I could just set another view_helper namespace and create my App_View_Helper_Navigation_Menu without any further issues.\r\n{quote}\r\nZF-10458 - Ability to register custom navigation helpers outside of Zend Library to interact with proxy found in navigation\r\n{quote}\r\nThe objective would be to be able to display the siblings of the active menu element's parent...\r\n{quote}\r\nZF-8317 - Zend_View_Helper_Navigation_Menu renderSiblings()",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-02-18T01:14:13.000+0000",
                    "updated": "2011-02-18T01:14:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44457",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "{quote}ZF-8317 - Zend_View_Helper_Navigation_Menu renderSiblings(){quote}\r\nYes, I know about this, but this only renders the siblings of the direct parent of the menuitem... not the ones above.\r\n\r\n{quote}ZF-10458 - Ability to register custom navigation helpers outside of Zend Library to interact with proxy found in navigation{quote}\r\nok... I'll implement that... but why hasn't this been added to the framework ?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T01:27:28.000+0000",
                    "updated": "2011-02-18T01:27:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44458",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "{quote}\r\nYes, I know about this, but this only renders the siblings of the direct parent of the menuitem... not the ones above.\r\n{quote}\r\nCan you publish your code at Pastebin or Gist?\r\n{quote}\r\nok... I'll implement that... but why hasn't this been added to the framework ?\r\n{quote}\r\nI can not answer because I am not the author. But at least we have a suggestion for improvement.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-02-18T01:38:14.000+0000",
                    "updated": "2011-02-18T01:38:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44462",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "{quote}I can not answer because I am not the author. But at least we have a suggestion for improvement.{quote}\r\nObviously... and thanks a lot for that... \r\nIt did simplify my code a lot !\r\n\r\nHere is the code:\r\n[http:\/\/pastebin.com\/37cEpwzw]\r\n\r\nIn {{findActive()}}, the only thing I really changed is that I removed the {{|| !$this->accept($page)}} statement (line 293)\r\nThis way it will find the hidden pages as well... (this might have consequences on other libraries, but I have not found any yet)\r\n\r\nIn {{_renderMenuWithParentSiblings()}} the part that deals with all the parent siblings are located between lines 153 and 177\r\nIn first instance, I go through the {{$iterator}} a first time to build a {{$siblings}} array with the pages that have {{$foundPage}} as a child element, and their siblings.\r\nAll the items that are found in this array have to be displayed (lines 174 through 177)\r\nIF the depth is ok and IF they are accepted\r\n\r\nAs for the usage...\r\nJust pass {{renderParentSiblings}}, {{onlyActiveBranch}} and {{renderParents}} as {{true}} in the {{$options}} array when calling {{renderMenu()}} within a view script.\r\n\r\nCurious to know if this is a correct way to deal with this problem...\r\nThanks,\r\ndGo",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T02:29:29.000+0000",
                    "updated": "2011-02-18T02:29:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44463",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "{quote}\r\nIn findActive(), the only thing I really changed is that I removed the || !$this->accept($page) statement (line 293)\r\n{quote}\r\nThis is for access control! [http:\/\/framework.zend.com\/manual\/en\/zend.acl.introduction.html]\r\n{quote}\r\nIn _renderMenuWithParentSiblings() the part that deals with all the parent siblings are located between lines 153 and 177\r\n{quote}\r\nI will have a look at the problem. But at the moment your solution includes too many copied code.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-02-18T03:04:57.000+0000",
                    "updated": "2011-02-18T03:04:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44464",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "{quote}But at the moment your solution includes too many copied code.{quote}\r\nI agree... \r\nBut if I wanted to reduce this, I would have to refactor {{_renderMenu()}} and cut it into two parts seperating the iterator which accepts the page, or not, from the rest of the code.\r\n\r\n{quote}This is for access control!{quote}\r\nI know, but I don't think visibility has anything to do with access control.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T03:16:00.000+0000",
                    "updated": "2011-02-18T03:16:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44465",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "{quote}\r\nI know, but I don't think visibility has anything to do with access control.\r\n{quote}\r\nNo access == no output!\r\n\r\nIf you have any more questions, please use the mailing list! The issue tracker is not a discussion platform.\r\n\r\nGreetings\r\nKaiuwe",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-02-18T04:23:21.000+0000",
                    "updated": "2011-02-18T04:23:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44466",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "{quote}No access == no output!{quote}\r\nI agree, but that does not mean the opposite is always true\r\n{{no ouput ?= no access}}\r\n\r\n{quote}If you have any more questions, please use the mailing list! The issue tracker is not a discussion platform.{quote}\r\nI know...\r\nBut I'll try to refactor the whole some time next week and wanted to make sure I got everything right.\r\n\r\nThanks,\r\ndGo",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T04:34:25.000+0000",
                    "updated": "2011-02-18T04:34:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44467",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "body": "Refactored it is...\r\n[http:\/\/pastebin.com\/BAxhkiaW]\r\n\r\n{{findActive()}} is now able to deal with invisible pages if needed when {{$lookForInvisible == true}}.\r\nACL rules are now respected meaning only invisible pages that are allowed by ACL will be found.\r\n\r\nExit {{renderMenuWithParentSiblings()}}.\r\nI refactored {{_renderMenu()}} so that it can render the parent's siblings if {{$renderParentSiblings == true}}\r\nDefault behavior remains the same.\r\n\r\nThus, {{renderMenu()}} remains more or less the same, be it for the extra param that has to get passed through.\r\n\r\nI hope this is a little better...\r\nThanks for the advice !",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dgoosens@gmail.com",
                        "name": "dgoosens@gmail.com",
                        "displayName": "dGo",
                        "active": true
                    },
                    "created": "2011-02-18T05:14:21.000+0000",
                    "updated": "2011-02-18T05:14:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11012\/transitions"
}