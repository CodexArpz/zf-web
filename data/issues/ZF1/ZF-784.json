{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-784",
    "key": "ZF-784",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Support using default date formats to create dates"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-784\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-01-29T19:31:15.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-01-22T20:30:22.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:41.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "{code}\ndate_default_timezone_set('America\/Los_Angeles');\n$locale = 'en_US';\n$date = new Zend_Date('2006-01-01');\n$date = new Zend_Date('2006-01-01', null, $locale);\n{code}\n\nI propose supporting the above use cases.\n\nI will commit an experimental patch to the i18n-pre0.8 branch:\nhttp:\/\/framework.zend.com\/fisheye\/changelog\/Zend_Framework\/branch\/i18n-pre0.8\n\nAs always, feedback, suggestions, ideas, thoughts, likes, dislikes, and comments are always welcomed and encouraged."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-784\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10020",
                    "id": 10020,
                    "description": "Preview Release; I18N, Acl, Auth, Session",
                    "name": "0.7.0",
                    "userReleaseDate": "18\/Jan\/07",
                    "archived": true,
                    "releaseDate": "2007-01-18",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12341",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The first one will not work...\nHow should Zend_Date know which locale to use when it is not the default one and Date gets no locale ???\n\n{code}\n$date = new Zend_Date('2006-01-01',$locale); \n{code}\n\ncould work...\n\nAlso to mention:\nHaving a timezone is not enough to find a proper locale !\n\nAlso the second line is useless as the \"null\" parameter can be left off.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-01-23T14:18:29.000+0000",
                    "updated": "2007-01-23T14:18:29.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12344",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "All example use cases above (and the ones I added to unit tests) work in most situations using the proposed patch I committed to the i18n-pre0.8 branch.  If someone uses an unusual date format not supported by the automatically detected locale, then the $locale argument or the $part argument would be required.  This can be documented.\n\n{quote}How should Zend_Date know which locale to use when it is not the default one and Date gets no locale ???{quote}\nThe same way Zend_Locale and Zend_Locale_Format::getDate() work now.\n\nWhen we support the \"FRAMEWORK\" default locale, developers will have a way of explicitly specifying a default locale to use.\n\n{quote}Also the second line is useless as the \"null\" parameter can be left off.{quote}\nWhy is it \"useless\"?  The examle is valid, and complies with the method signature for __construct().\nI understand it is equivalent to \"new Zend_Date('2006-01-01', $locale)\" but we are supporting this as an aid to help those who forgot and put $locale into the wrong parameter position.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-23T14:48:27.000+0000",
                    "updated": "2007-01-23T14:48:27.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12345",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "This example will not work on my side...\nMy standard locale is 'de_AT' so the date format is 01.01.2007\nHaving 01.01 works because Locale_Format::getDate can automatically fix false input.\n\nBUT:\nIf you have a date like '01-05' you would never know which is the month and which is the day without a locale.\n\nThis would do problems in other countries where the standard locale (which is used in the first call) is not identical to 'en_US'.\n\n\n\nLocale expects a standard locale... but there are systems with NO STANDARD LOCALE at all...\nAlso the first call used the standard locale and the second one en_US... both differ for other people... resulting in unpredicted behavior as you set the input string to '2006-01-01' even for foreign locales.\n\n\nThe Framework Locale is until now not supported... this depends on the missing framework wide settings which were proposed when I created the locale proposal.\n\n\nI meant \"useless\" in the meaning that a user would never use 'null' as fixed parameter if he has the possibility of leaving this parameter off. Just a missunderstanding",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-01-23T15:12:07.000+0000",
                    "updated": "2007-01-23T15:12:07.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12347",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "I should have been more clear.  The intent is to support the default date format for the default locale (or a supplied), just as getDate() already does for Zend_Locale_Format.  I am not proposing supporting other date formats, such as formats that are not the default format for the user's current default locale (whatever it might be at the time of execution).\n\nWe already provide this support, but not in Zend_Date for creation of new instances (an example below is virtually identical to one of the use c\nhttp:\/\/framework.zend.com\/wiki\/display\/ZFDOCDEV\/13.3.+Working+with+Dates+and+Times\n\nThe patch I committed simply extends the same level of support into Zend_Date.\nAs long as the user supplies a date in the format expected by the \"default\" locale, all should work with \"new Zend_Date()\", just like getDate().\n\nIn order to test it, we must hard-code default locales, just as we have for other unit tests.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-23T20:14:19.000+0000",
                    "updated": "2007-01-23T20:14:19.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12348",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "If this only works by using the standard locale (first example) it should be made clear in the docu...\n\nOtherwise people would expect that having\n{code}\nnew Zend_Date('1.J\u00e4nner.2006');\n{code}\nis the same as \n{code}\nnew Zend_Date('2006-01-01');\n{code}\nwhich is only true if there is a proper standard locale.\n\nYou've set month and day the same value so the failure will not show up (expected behaviour).\n\nJust make this clear in the docu and there will be less problems.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-01-24T02:10:43.000+0000",
                    "updated": "2007-01-24T02:10:43.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12355",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "Again, the patch I committed simply offers the exact same functionality in constructing dates, as with getDate() in Zend_Locale_Format.  I don't see any problems yet arising from adding this fucntionality.  The docu for Zend_Date's constructor should be just as clear as for getDate(), since they now support the same input under the same conditions.  I will add more to the docu for both classes to make certain the usage is clear.\n\nAll dates complying with the default format for the locale (either the default locale, or a locale specified using $locale argument) ought to work with Zend_Date's constructor after my patch, just as the same input works now with getDate().",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-24T13:16:18.000+0000",
                    "updated": "2007-01-24T13:16:18.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12356",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "I agree with the patch and the added functionality and I see no problem with itself.\n\nOnly thing is to document the right useage... you are working on it, that's fine. Not more I wanted to hear :-)\n\nThe second thing I meant was the related test to the new functionality.\nI just wanted to mention that your test does not work as expected if you have different month and day values because you do not know the standard date value for the user which tests the class.\nBut as the related function (date handling and parsing) is tested seperately within Zend_Locale_Format this should be no problem for us.\n\nI think this issue can be closed ;-)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-01-24T13:33:44.000+0000",
                    "updated": "2007-01-24T13:33:44.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12443",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "See Fisheye link for changeset information.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-29T19:31:15.000+0000",
                    "updated": "2007-01-29T19:31:15.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-784\/transitions"
}