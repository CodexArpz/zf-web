{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1369",
    "key": "ZF-1369",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend HTTP client error on SSL socket connect"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1369\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10023",
                    "id": 10023,
                    "description": "Release Candidate 1",
                    "name": "1.0.0 RC1",
                    "userReleaseDate": "28\/May\/07",
                    "archived": true,
                    "releaseDate": "2007-05-28",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-05-15T01:34:32.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                "name": "urbaitel",
                "displayName": "Marc",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-05-10T01:45:15.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:44:09.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I get this error when using Zend HTTP Client w\/ SSL.\n(note: it does work, but why am I getting this error?)\n\n[WARN] PHP Startup: SSL: fatal protocol error\n(\/var\/www\/OLT\/includes\/zf\/Zend\/Http\/Client\/Adapter\/Socket.php:205)\n\n\ncode used:\n                  $config = array(\n\t\t\t'adapter'      => 'Zend_Http_Client_Adapter_Socket',\n\t\t\t'ssltransport' => 'ssl',\n\t\t\t'maxredirects' => 0,\n\t\t\t'timeout' => 300\n\t\t);\n\t\t\n\t\t\/**\n\t\t * Set the URL to post to (test or live)\n\t\t *\/\n\t\t$url = ..\n\t\t\n\t\t$client  = new Zend_Http_Client( $url , $config );\n\n\t\t$request_id = md5(uniqid('IN'));\n\t\t\n\t\t\/\/ set up http headers\n\t\t$headers[] = \"Content-Type: text\/xml\"; \/\/or maybe text\/xml\n\t\t$headers[] = \"X-VPS-Timeout: 15\";\n\t\t$headers[] = \"X-VPS-VIT-OS-Version: RHEL 4\";  \/\/ OS Version\n\t\t$headers[] = \"X-VPS-VIT-Client-Type: PHP\/Zend_Http_Client\";  \/\/ What you are using\n\t\t$headers[] = \"X-VPS-VIT-Client-Version: 0.01\";  \/\/ For your info\n\t\t$headers[] = \"X-VPS-VIT-Client-Architecture: x86\";  \/\/ For your info\n\t\t$headers[] = \"X-VPS-VIT-Client-Certification-Id: 63bcc2113fe2893d8b191d2d011b7fdc\"; \/\/ get this from Todd\n\t\t$headers[] = \"X-VPS-VIT-Integration-Product: PHPv5\";  \/\/ For your info, would populate with application name\n\t\t$headers[] = \"X-VPS-VIT-Integration-Version: 0.01\"; \/\/ Application version\n\t\t$headers[] = \"X-VPS-Request-ID: \" . $request_id;\n\n\t\t$client->setHeaders($headers);\n\t\t\t\n\t\t\/**\n\t\t * Set data in post variables for Zend post\n\t\t *\/\n\t\twhile (list($key,$val) = each($this->aTrans)) {\n\t\t\t$client->setParameterPost( $key , $val );\n\t\t}\n\t\t\n\t\t\/\/ post request and get a response object back\n\t\t$httpResponse = $client->request(\"POST\");"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1369\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                "name": "shahar",
                "displayName": "Shahar Evron",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10015",
                    "id": 10015,
                    "name": "Zend_Http_Client",
                    "description": "performs HTTP requests",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14546",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "Hi,\n\nI have several questions: \n* What is the target web server? \n* Do you get any other warning message except for the one you mention?\n\nAlso, please try to change the 'ssltransport' parameter to 'sslv2' and check if the warning is still emmited.\n\nBTW, I am not sure what is the type of $this->aTrans but it's very likely you can do this:\n{code}\n\/**\n * Set data in post variables for Zend post\n *\/\n\/\/ The (array) casting is only required if $this->aTrans is an ArrayObject or something similar\n$client->setParameterPost((array) $this->aTrans);\n\n\/\/while (list($key,$val) = each($this->aTrans)) { $client->setParameterPost( $key , $val ); }\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-10T04:35:34.000+0000",
                    "updated": "2007-05-10T04:35:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14550",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "OK.. i did that..  changed config to equal >>\n\n$config = array(\n\t\t\t'adapter'      => 'Zend_Http_Client_Adapter_Socket',\n\t\t\t'ssltransport' => 'sslv2',\n\t\t\t'maxredirects' => 0,\n\t\t\t'timeout' => 300\n\t\t);\n\nGOT THIS ERROR:\n\nPHP Startup: SSL operation failed with code 1. OpenSSL Error messages:\nerror:1406D0CB:SSL routines:GET_SERVER_HELLO:peer error no cipher (\/var\/www\/OLT\/includes\/zf\/Zend\/Http\/Client\/Adapter\/Socket.php:114)\"\n\nPHP Startup: Failed to enable crypto (\/var\/www\/OLT\/includes\/zf\/Zend\/Http\/Client\/Adapter\/Socket.php:114)\"\n\nPHP Startup: unable to connect to sslv2:\/\/pilot-payflowpro.verisign.com:443 (Unknown error) (\/var\/www\/OLT\/includes\/zf\/Zend\/Http\/Client\/Adapter\/Socket.php:114)\"\n\n[ERR] EXCEPTION: Unable to Connect to sslv2:\/\/pilot-payflowpro.verisign.com:443. Error #0:  (\/var\/www\/OLT\/includes\/zf\/Zend\/Http\/Client\/Adapter\/Socket.php:117)\"\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2007-05-10T14:55:05.000+0000",
                    "updated": "2007-05-10T14:55:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14552",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "What server are you trying to connect to?\nIf that server is accessible and open, please provide it' s address so I can test.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-10T15:47:54.000+0000",
                    "updated": "2007-05-10T15:47:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14553",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "Payflow Pro's servers..\n\nin comment above you see the URL...\n\npilot-payflowpro.verisign.com:443\n\ni also get the same error when connecting to many other sites with same issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2007-05-10T16:07:16.000+0000",
                    "updated": "2007-05-10T16:07:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14554",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "There is something funny with this server as far as I can tell. I am not getting your error message, but I get no response (simply no data).\n\nI get the same when I try to hit the same URL with Firefox and wget - so I don't see how this is a client problem.\n\nUnless there is some very specific data I have to send to the server otherwise the connection closes with no HTTP response?\n\nDo you have a similar problem with some other server? ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-10T17:00:11.000+0000",
                    "updated": "2007-05-10T17:00:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14555",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "That's because this is a merchant credit card processor.   I can't send you the entire posted variables because it contains usernames and passwords.. \n\nbut go ahead and try it like this.. (i removed password, so you should get an error)..\n\ntry these variables posting in.. \n\n$client->setParameterPost( $key , $val );\n\nfor all of these:\nUSER= inhouse\nVENDOR= inhouse\nPARTNER= InHouseTicketing\nPWD=test\nNAME= test test\nCOMMENT1= test test\nSTREET= 33test \nZIP= 12345\nCOMMENT2= 123421341234123\nACCT= 4111111111111111\nCVV2= 123\nEXPDATE= 0510\nTRXTYPE= A\nTENDER= C\nAMT= 125.27\nUSER= inhouse\nVENDOR= inhouse\nPARTNER= InHouseTicketing\nPWD= drag0n1\nTRXTYPE= D\nTENDER= C\nORIGID= V78E0B52A5BD",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2007-05-10T17:10:15.000+0000",
                    "updated": "2007-05-10T17:10:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14557",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "Ok, thanks - I've added the details and now I get a proper response (404 error code with some \"User authentication failed\" error in the body). \n\nThis looks perfectly normal - I don't get any PHP warning or error omitted. \n\nAre you getting a similar error with other HTTPS hosts? Try, for example, with https:\/\/www.paypal.com\/  and let me know if you get any errors. \n\nPerhaps there is some issue with the SSL libraries your PHP is compiled with. If you can attach your phpinfo() that would be helpful. \n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-11T01:22:25.000+0000",
                    "updated": "2007-05-11T01:22:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14558",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "http:\/\/olt.inticketing.com\/is.php\n\nNote:  everything works.. it just spits out warning that's all.\nI have gotten this on other PHP installations with freebsd too.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2007-05-11T11:32:00.000+0000",
                    "updated": "2007-05-11T11:32:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14560",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "Sorry for all the questions, it's just that I can't reproduce this. There is a known problem with SSL and PHP's fopen, fgets, etc. because some servers close the SSL connection badly and it causes PHP to omit such error message. This is not going to be fixed in PHP (because it is not an error in PHP), so we have to deal with it.\n\nI assume this is the problem you are having although I have not been able to reproduce it (connecting to the same servers you did). \n\nIf this is the case, this is one error you can ignore - in fact, the only way to avoid it is to silence it, which we can consider doing, but this is a bit off the Framework's standards so I'll have to discuss this with some people first. \n\nI'll open a thread in fw-webservices@lists.zend.com about this, you're welcome to contribute if you have any opinions. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-11T15:02:06.000+0000",
                    "updated": "2007-05-11T15:02:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14582",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "I've committed r. 4797 that is suppose to silence these errors. \nPlease test again and let me know as I personally have no way to reproduce this.\n\nThanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-14T14:21:40.000+0000",
                    "updated": "2007-05-14T14:21:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14585",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "yes, error is now gone.. thanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=urbaitel",
                        "name": "urbaitel",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2007-05-14T17:06:34.000+0000",
                    "updated": "2007-05-14T17:06:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14587",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "Silenced warnings. Solution might not be optimal, currently in discussion in fw-webservices",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-05-15T01:34:32.000+0000",
                    "updated": "2007-05-15T01:34:32.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1369\/transitions"
}