{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7587",
    "key": "ZF-7587",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Amf setClass() ignores pre-initialized objects and creates new objects"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7587\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=chris.priebe",
                "name": "chris.priebe",
                "displayName": "Chris Priebe",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-13T11:30:56.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-05-13T20:56:03.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I need to set paramets into the __constructor of my PHP object before passing it off to Zend to use it as a Remote Procedure Call.  \n\nThis works in Zend_Json but not in Zend_Amf.  To do this with the Zend_JSON class I just create my object and pass it along as $this->server->setClass($object) and it will use that object in Zend\/Server\/Abstract.php method _displatch for $object = $invocable->getObject();\n\nInstead the Zend_Amf_Server class overrides the Abstract _dispatch call and ignores the class I passed it.\nInstead it always calls $object = $info->getDeclaringClass()->newInstance();\n\nThus is creates  a new instance and I am unable to use dependancy injection to establish my object.\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7587\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                "name": "wadearnold",
                "displayName": "Wade Arnold",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5393",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5393",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12905",
                    "filename": "reuse_objects_in_set_class.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "created": "2010-03-16T14:00:47.000+0000",
                    "size": 1301,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12905\/reuse_objects_in_set_class.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10320",
                    "id": 10320,
                    "description": "Minor Release",
                    "name": "1.9.0",
                    "userReleaseDate": "31\/Jul\/09",
                    "archived": false,
                    "releaseDate": "2009-07-31",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10350",
                    "id": 10350,
                    "name": "Zend_Amf",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39294",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "body": "i ran into the same problem as i use dependency injection for my objects too. I wrote a simple patch that solves this issue. Please have a look ...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "created": "2010-03-16T14:00:16.000+0000",
                    "updated": "2010-03-16T14:00:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39295",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "body": "the patch attached",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "created": "2010-03-16T14:00:48.000+0000",
                    "updated": "2010-03-16T14:00:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39355",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "Any ideas for a good way of writing a test case for this behavior? ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2010-03-18T10:52:55.000+0000",
                    "updated": "2010-03-18T10:52:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39360",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "body": "yes, i'm going to write one or two unit tests ..",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgwaechter",
                        "name": "georgwaechter",
                        "displayName": "Georg W\u00e4chter",
                        "active": false
                    },
                    "created": "2010-03-18T11:20:12.000+0000",
                    "updated": "2010-03-18T11:20:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46590",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgw",
                        "name": "georgw",
                        "displayName": "Georg W\u00e4chter",
                        "active": true
                    },
                    "body": "Ok. The patch is now more than one year old and sadly i hadn't the time to setup the full Zend Framework develpoment environment together with its unit tests to write another one for this use case.\r\n\r\nBut as the comments of the implemented Zend Server Interface state the setClass method behaves currently not as expected. Passing objects should be a valid option. I appreciate if we could commit this patch to trunk.\r\n\r\nBy the way i'll contribute another patch that fixes this behavior for Zend_Rest_Server too!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=georgw",
                        "name": "georgw",
                        "displayName": "Georg W\u00e4chter",
                        "active": true
                    },
                    "created": "2011-05-13T20:56:03.000+0000",
                    "updated": "2011-05-13T20:56:03.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7587\/transitions"
}