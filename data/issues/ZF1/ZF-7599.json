{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7599",
    "key": "ZF-7599",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Gdata_Spreadsheets::updateCell() fails when using secure AuthSub session"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7599\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:38.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rziegler42",
                "name": "rziegler42",
                "displayName": "Robert Ziegler",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-14T06:33:04.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:38.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Cannot update spreadsheet using Zend_Gdata_Spreadsheets::cellUpdate() when using a secure authSub session.  Return value is always:\n\nExpected response code 200, got 401\nUnknown authorization header\nError 401\n\nLooking at debug request log, it appears that the update PUT request is not being properly signed.   Within updateCell(), the cell is first fetched (GET), then the entry is altered, and finally the altered entry is PUT.  Logs follow:\n\nGET \/feeds\/cells\/tm6RQITd46trZEX0uix8KyQ\/odb\/private\/full\/R5C1 HTTP\/1.1\nHost: spreadsheets.google.com\nConnection: close\nUser-Agent: MyCompany-MyApp-1.0 Zend_Framework_Gdata\/1.9.0\nauthorization: AuthSub token=\"*snipped*\" data=\"GET http:\/\/spreads\nheets.google.com\/feeds\/cells\/tm6RQITd46trZEX0uix8KyQ\/odb\/private\/full\/R5C1 12502\n54906 719094645\" sig=\"tymBBUBE5qeO5e\/JUC0d++MXZZF8QlqxJgUkcZROVGHHpa2ao\/WrPTOgLo\nM8pHbASubmeC86H8vI+4bPAKnP8lqTDunCH7HMbTZgEdWgs2VY65TZeGzaVbVjYerkQ7R2EVpIV4A5Av\nlq8mm5kWMok9DFaIUPWeROF2vS0Tq2oqA=\" sigalg=\"rsa-sha1\"\n\nThe above fetches R5C1 from the spreadsheet without any problem.  Still in Zend_Gdata_Spreadsheets::updateCell():\n\nPUT \/feeds\/cells\/tm6RQITd46trZEX0uix8KyQ\/odb\/private\/full\/R5C1\/j09hlc HTTP\/1.1\nHost: spreadsheets.google.com\nConnection: close\nUser-Agent: MyCompany-MyApp-1.0 Zend_Framework_Gdata\/1.9.0\nauthorization: AuthSub token=\"*snipped*\" data=\"GET http:\/\/spreads\nheets.google.com\/feeds\/cells\/tm6RQITd46trZEX0uix8KyQ\/odb\/private\/full\/R5C1 12502\n54906 719094645\" sig=\"tymBBUBE5qeO5e\/JUC0d++MXZZF8QlqxJgUkcZROVGHHpa2ao\/WrPTOgLo\nM8pHbASubmeC86H8vI+4bPAKnP8lqTDunCH7HMbTZgEdWgs2VY65TZeGzaVbVjYerkQ7R2EVpIV4A5Av\nlq8mm5kWMok9DFaIUPWeROF2vS0Tq2oqA=\" sigalg=\"rsa-sha1\"\nAccept-encoding: identity\nContent-Type: application\/atom+xml\nContent-Length: 841\n*content snipped*\n\nThe above fails.  Notice that the signature is identical to the original GET.  (The entire data section after the token is incorrect!) \n\nFails in 1.9.0 and I assume in 1.9.1 as well.  I haven't tested in 1.9.1, but I did not see anything in the changelog that appears to address this issue."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/2",
                "name": "Critical"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7599\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10320",
                    "id": 10320,
                    "description": "Minor Release",
                    "name": "1.9.0",
                    "userReleaseDate": "31\/Jul\/09",
                    "archived": false,
                    "releaseDate": "2009-07-31",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10088",
                    "id": 10088,
                    "name": "Zend_Gdata",
                    "description": "Class interface to Google Data API's.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52377",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:52:38.000+0000",
                    "updated": "2012-11-20T20:52:38.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7599\/transitions"
}