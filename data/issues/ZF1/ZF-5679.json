{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5679",
    "key": "ZF-5679",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Controller_Router_Route_Hostname - parameters doesn`t persist"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5679\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gonzalobenitez",
                "name": "gonzalobenitez",
                "displayName": "Gonzalo Benitez",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-02-03T07:50:20.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-11-08T19:02:47.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Hostname",
                "Route",
                "Router",
                "Zend",
                "param",
                "parameter",
                "persist"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I find a problem while i was trying to use Zend_Controller_Router_Route_Hostname with a Language plugin, using the route to put the parameter \";language\" into a subdomain.\n\n- Route via Zend_Config\n\nroutes.language_default.type = \"Zend_Controller_Router_Route_Hostname\"\nroutes.language_default.route = \":language.localhost\"\nroutes.language_default.defaults.module = \"public\"\nroutes.language_default.defaults.controller = \"index\"\nroutes.language_default.defaults.action = \"index\"\nroutes.language_default.defaults.language = \"www\"\nroutes.language_default.reqs.language = \"(?!www$).*\"\n\nwhen i type;\n\nhttp:\/\/en.localhost\/\n\nseems not to be problems, but if i uso an other router like:\n\n- Route via Zend_Config\n\nroutes.contact.type = \"Zend_Controller_Router_Route_Static\"\nroutes.contact.route = \"contact\"\nroutes.contact.defaults.module = \"public\"\nroutes.contact.defaults.controller = \"contact\"\nroutes.contact.defaults.action = \"index\"\n\nhttp:\/\/en.localhost\/contact\n\nthe parameter of the subdomain persist in the url, but when i try to request the language from my language plugin didn`t return anything; \n\n- In the language plugin:\n\nif (!$language = $request->getParam('language', false)) {\n            $language = $locale->getLanguage();\n        }\n\nit`s returning a (1) false parameter."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5679\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zf-crteam-padraic",
                "zf-crteam-priority"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                "name": "dasprid",
                "displayName": "Ben Scholzen",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10280",
                    "id": 10280,
                    "description": "Mini Release",
                    "name": "1.7.4",
                    "userReleaseDate": "02\/Feb\/09",
                    "archived": false,
                    "releaseDate": "2009-02-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28923",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "I could be wrong, but could it be, that you simply didn't chain the static route with the hostname route (as the example shows in the manual)?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-02-18T08:40:09.000+0000",
                    "updated": "2009-02-18T08:40:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28939",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gonzalobenitez",
                        "name": "gonzalobenitez",
                        "displayName": "Gonzalo Benitez",
                        "active": true
                    },
                    "body": "Hi Ben yes i though it could be... but.. i tryed by an  other way because i could not make it chain via config.ini..\n\n$languageRoute = new Zend_Controller_Router_Route_Hostname(\n    \t\t':language.localhost',\n    \t\tarray(\n        \t\t'module' => 'public'\n    \t\t\t)\n\t\t\t);\n\t\t\n\t\t$defaultroute = new Zend_Controller_Router_Route_Static(\n    \t\t'',\n    \t\tarray(\n    \t\t\t'controller' => 'index', \n    \t\t\t'action' => 'index'\n    \t\t\t)\n\t\t\t);\n\t\t$router->addRoute('default', $languageRoute->chain($defaultroute));\n          \n               $contactroute = new Zend_Controller_Router_Route_Static(\n    \t\t'contact',\n    \t\tarray(\n    \t\t\t'controller' => 'contact', \n    \t\t\t'action' => 'index'\n    \t\t\t)\n\t\t\t);\n\t\t$router->addRoute('contact', $languageRoute->chain($contactroute));\n\nass you can see, it is chained, but there is still a problem, i don`t know if this is the way it is spected to work..\nbut to make it work i needed to add this lines to my language plugin\n       \n        $router = Zend_Registry::get('router');\n        $router->setGlobalParam('language', $language);\n        \n        Zend_Registry::set('router', $router);\n\ni think could be better if the hostname parameters persist as a global parameter throw the chained routes, what you think about it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gonzalobenitez",
                        "name": "gonzalobenitez",
                        "displayName": "Gonzalo Benitez",
                        "active": true
                    },
                    "created": "2009-02-19T05:56:14.000+0000",
                    "updated": "2009-02-19T05:56:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30803",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "I don't see this as an issue, as every chained route exists for it alone, at least at the moment. Tho that will change with the refactoring for 2.0.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2009-05-09T08:23:38.000+0000",
                    "updated": "2009-05-09T08:23:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49026",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Is this still an issue?  If so, can you provide some additional information on your language plugin?  The language parameter from the hostname route will only be passed along to routes which are chained to it, and can then be retrieved through the router object's {{getParam}} method.  Without seeing how you're trying to access that parameter through your language plugin we can't help. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-11-08T19:02:47.000+0000",
                    "updated": "2011-11-08T19:02:47.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5679\/transitions"
}