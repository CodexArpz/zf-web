{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4167",
    "key": "ZF-4167",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Db_Table_Row_Abstract does not properly rely on autoloading"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4167\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10330",
                    "id": 10330,
                    "description": "Mini Release",
                    "name": "1.8.2",
                    "userReleaseDate": "27\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-05-14T05:44:49.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=heygrady2",
                "name": "heygrady2",
                "displayName": "Grady Kuhnline",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-09-02T19:46:18.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-05-14T05:44:49.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Db_Table_Row_Abstract->findDependentRowset() and Zend_Db_Table_Row_Abstract->findParentRow() rely on Zend_loader::loadClass() for loading dependent and parent tables. This makes it impossible to use autoloading to find these classes and forces the developer to add all paths that may contain DB Table class to be added to the include_path.\n\nIn my application I have a custom loader which I registered with Zend_Loader::registerAutoload('My_Model_Loader'). However this loader never gets fired when working with dependent and parent tables because autoloading is not used within Zend_Db_Table_Row_Abstract.\n\nAutoloading should be used before directly trying to load a class. With the [proposed MVC filder structure|http:\/\/framework.zend.com\/manual\/en\/zend.controller.modular.html] there would be a model folders for each application module. Adding each model folder as an include path is less than ideal. Following a pattern similar to controller actions, it would be reasonable that someone would want to load a model from a specific module.\n\nI'm able to get my application to work just fine by commenting out the try...catch that tries to load the class."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4167\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-3991",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3991",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                },
                {
                    "issueKey": "ZF-6611",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6611",
                    "type": {
                        "name": "Dependency",
                        "direction": "INBOUND",
                        "description": "is dependecy of"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11736",
                    "filename": "Db_Table.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-02-07T09:40:33.000+0000",
                    "size": 6942,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11736\/Db_Table.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11783",
                    "filename": "zf-4167.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-03-05T05:15:37.000+0000",
                    "size": 15558,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11783\/zf-4167.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10240",
                    "id": 10240,
                    "description": "Minor Release",
                    "name": "1.6.0",
                    "userReleaseDate": "02\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10133",
                    "id": 10133,
                    "name": "Zend_Db_Table",
                    "description": "Lightweight OO interface to database tables and rowsets.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28430",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "Linking these issue as they report the same problem",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-01-23T00:14:49.000+0000",
                    "updated": "2009-01-23T00:14:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28431",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "Hi,\n\nI would really like to see this included, also I believe this could become a blocker to [Matthews Resource Autoloader proposal |http:\/\/framework.zend.com\/wiki\/display\/ZFPROP\/Zend_Loader_Autoloader_Resource+-+Matthew+Weier+O%27Phinney  ] as this uses the autoloader.\n\nThx\n\nKeith",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-01-23T00:21:27.000+0000",
                    "updated": "2009-01-23T00:21:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28693",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "Attaching a patch for this issue, this is just a proof of concept for now and therefore no unit tests etc. This may be a good temporary fix until all the class loading problems have been sorted out.\n\n*Patch Purpose*\n\nRemove Zend_Loader dependency\n\n*Patch Details*\n\n* Added new protected static property $_loader\n* Added new public static method setLoader()\n* Added new public static method loadClass()\n* Added new public static method getLoader()\n* Added new protected static method _setupLoader()\n\n*Patched From std trunk*\n\nThe idea is that it works in a similar way to the setDefaultAdpater, the loader is either null (use autoloader) or a valid callback array. All the Zend_Db_Table classes then use Zend_Db_Table_Abstract::loadClass() to load their classes.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-02-07T09:40:36.000+0000",
                    "updated": "2009-02-07T09:46:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29259",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "I am currently creating a new patch which is simpler after talking to Matthew about it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-03-04T04:46:47.000+0000",
                    "updated": "2009-03-04T04:46:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29288",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "Right here is my second attempt at patching this issue :)\n\nI have simplified by just wrapping the Zend_Loader class in class_exists that use the autoloader.\n\nPatch is from the 1.7.6 release and includes:\n\nPatched Db Table files\nUnit tests\nDocumentation\n\nHopefully I have got it right, see what you think.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-03-05T05:15:39.000+0000",
                    "updated": "2009-03-05T05:15:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30106",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jamal",
                        "name": "jamal",
                        "displayName": "Jamal Fanaian",
                        "active": true
                    },
                    "body": "This issue affects the use of the Zend_Application_Module_Autoloader in ZF 1.8.0.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jamal",
                        "name": "jamal",
                        "displayName": "Jamal Fanaian",
                        "active": true
                    },
                    "created": "2009-04-13T10:19:08.000+0000",
                    "updated": "2009-04-13T10:19:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30108",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "The easiest way to fix this is to change the following in Loader.php\n\nif (class_exists($class, false) || interface_exists($class, false)) {\n\nto\n\nif (class_exists($class) || interface_exists($class)) {\n\nany ideas why it does not check the autoloader by default?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-04-13T13:01:58.000+0000",
                    "updated": "2009-04-13T13:01:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30970",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Resolved in trunk and 1.8 release branch",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-14T05:44:49.000+0000",
                    "updated": "2009-05-14T05:44:49.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4167\/transitions"
}