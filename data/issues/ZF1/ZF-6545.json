{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6545",
    "key": "ZF-6545",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Application_Module_Bootstrap doesn't work"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6545\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-05-10T20:23:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=maac",
                "name": "maac",
                "displayName": "Rudolf Beranek",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-05T14:44:37.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-05-12T06:53:47.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I think, that problem lies in constructor where is never calling parent class (Zend_Application_Bootstrap_Bootstrap) for initializing front controller. When I insert to  constructor on first line calling parent class, modules then works fine.\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6545\/watchers",
                "isWatching": false,
                "watchCount": 6
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10390",
                    "id": 10390,
                    "name": "Zend_Application",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30721",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I'm reading this request not as it doesn't work, but as a feature request to have Zend_Application_Module_Bootstrap extend Zend_Application_Bootstrap_Bootstrap instead of  Zend_Application_Bootstrap_BootstrapAbstract.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-06T06:01:33.000+0000",
                    "updated": "2009-05-06T06:01:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30722",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Ooops -- it already does, and is simply missing the call to parent::__construct(), as you note in your comment. Fixing.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-06T06:02:28.000+0000",
                    "updated": "2009-05-06T06:02:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30723",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Patched in trunk and 1.8 release branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-06T06:40:31.000+0000",
                    "updated": "2009-05-06T06:40:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30735",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "After this patch, my app doesn't work. No error trapped neither blank screen, only the message from firefox \"can't found the page\".\n\nI have the standard modular structure:\n\napplication\nBootstrap.php\n----Configs\n--------application.ini\nmodules\n--------default\n--------------controllers\n--------------models\n--------------views\n--------module1\n--------------Bootstrap.php\n--------------controllers\n--------------models\n--------------views\n--------module2\n--------------Bootstrap.php\n--------------controllers\n--------------models\n--------------views\nlibrary\npublic\n\nThe main bootstrap.php extends Zend_Application_Bootstrap_Bootstrap (only one method to _initLogger), and the bootstrap module's extends Zend_Application_Module_Bootstrap without any method.\n\nAnd application ini, contains this settings:\n\nphpSettings.display_startup_errors = 0\nphpSettings.display_errors = 0\n\nbootstrap.path = APPLICATION_PATH \"\/Bootstrap.php\"\nbootstrap.class = \"Bootstrap\"\n\nresources.frontController.moduleDirectory = APPLICATION_PATH \"\/modules\"\nresources.frontController.plugins.debug = \"Scienta_Controller_Plugin_Debug\"\n\nresources.modules[] = \n\nautoLoaderNameSpaces.0 = \"Scienta\"\n\nI'm reading the tests for this issue, but don't understand what's the real problem. If I include this revision the application can't run, but if revert to previous everything works.\n\nThanks in advance.\nPS: a posibility to show how to configure a modular application with Zend_application and autoad resources?\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-06T20:33:50.000+0000",
                    "updated": "2009-05-06T20:33:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30737",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "First, change your autoloaderNamespaces entry to read:\n{code}\nautoloaderNamespaces[] = \"Scienta\"\n{code}\nIIRC, numeric keys are not allowed in Zend_Config.\n\nSecond, the reason you're not seeing any error messages is because you've told PHP not to display them. Change your display_*errors settings:\n{code}\nphpSettings.display_startup_errors = 1\nphpSettings.display_errors = 1\n{code}\nand this will give you a hint as to any issues you're having. \n\nThird, make sure your error_reporting is as strict as possible. You can do this by adding the following to your config:\n{code}\nphpSettings.error_reporting = 8191\n{code}\n\nDo all of the above, and you should get some indicators as to what's occurring.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-07T03:57:36.000+0000",
                    "updated": "2009-05-07T03:57:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30738",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "Sorry about showing you only the \"production\" section of my application.ini. \"Development\" it's the running section that inherits \"production\" and add this settings:\n\n{noformat}\nphpSettings.display_startup_errors = 1\nphpSettings.display_errors = 1\nphpSettings.error_reporting = 8191\n{noformat}\n\nReplaced numeric keys with array notation:\n{noformat}\nautoloaderNamespaces[] = \"Scienta\"\n{noformat}\n\nThe result is the same: the server shutdown without any clue about it (neither apache logs, nor php logs). If I revert the commit everything work again.\n\nThanks",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-07T05:20:16.000+0000",
                    "updated": "2009-05-07T05:20:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30758",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "ok, I've found that this error only happens when I have this setting in the ini file: \n\n{noformat} \nresources.frontController.moduleDirectory = APPLICATION_PATH \"\/modules\"\n{noformat} \n\nIf I reduce the memory_limit from my php.ini, I get the \"memory exhausted\" error in Zend\/Loader\/Autoloader\/Resource.php on line 257\n\nthat's the unique error I can see, otherwise the server crash.\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-07T20:31:03.000+0000",
                    "updated": "2009-05-07T20:31:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30765",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I can't say I've run into this issue myself, nor heard of any similar reports. Is it possible that you don't have any directories under modules? or that there's a recursive symlink in there? ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-08T04:00:07.000+0000",
                    "updated": "2009-05-08T04:00:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30769",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "First all, thanks for your attention. \n\nI've tried with several environments (including windows OS and Linux) and checked symlinks already. It's a very, very little app without any other logic than test modules autoloader and Zend_Application. If you want to look into, this is the link.\n\nhttp:\/\/bit.ly\/10GaXw\n\nThanks in advance",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-08T04:44:52.000+0000",
                    "updated": "2009-05-08T04:44:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30796",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "hi,\n\nYou can find more information in the mailing list: [http:\/\/www.nabble.com\/Adding-Zend_Application_Module_Bootstrap-file-causes-application-to-fail-td23457724.html]\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-09T07:04:31.000+0000",
                    "updated": "2009-05-09T07:04:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30817",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cgmartin",
                        "name": "cgmartin",
                        "displayName": "Chris Martin",
                        "active": true
                    },
                    "body": "I am running into this as well (rev 15472). \n\nWhen using multiple controller directories and Zend_Application_Module_Bootstrap bootstraps it recurses through...\n\n{main}( )\t..\/index.php:0\nZend_Application_Bootstrap_BootstrapAbstract->bootstrap( )\t..\/index.php:49\nZend_Application_Bootstrap_BootstrapAbstract->_bootstrap( )\t..\/BootstrapAbstract.php:518\nZend_Application_Bootstrap_BootstrapAbstract->_executeResource( )\t..\/BootstrapAbstract.php:558\nZend_Application_Resource_Modules->init( )\t..\/BootstrapAbstract.php:615\nZend_Application_Bootstrap_BootstrapAbstract->bootstrap( )\t..\/Modules.php:84\nZend_Application_Bootstrap_BootstrapAbstract->_bootstrap( )\t..\/BootstrapAbstract.php:518\nZend_Application_Bootstrap_BootstrapAbstract->_executeResource( )\t..\/BootstrapAbstract.php:558\nZend_Application_Resource_Modules->init( )\t..\/BootstrapAbstract.php:615\nZend_Application_Bootstrap_BootstrapAbstract->bootstrap( )\t..\/Modules.php:84\nZend_Application_Bootstrap_BootstrapAbstract->_bootstrap( )\t..\/BootstrapAbstract.php:518\nZend_Application_Bootstrap_BootstrapAbstract->_executeResource( )\t..\/BootstrapAbstract.php:558\nZend_Application_Resource_Modules->init( )\n\n...and so on until reaching Fatal error: Maximum function nesting level of '100' reached, aborting!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cgmartin",
                        "name": "cgmartin",
                        "displayName": "Chris Martin",
                        "active": true
                    },
                    "created": "2009-05-09T21:08:13.000+0000",
                    "updated": "2009-05-09T21:08:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30819",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Jorge, Chris -- that gives me more information. I'm not sure the diagnosis of the issue is correct, but it at least gives me somewhere to start looking. I'll have this resolved for 1.8.1.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-10T04:48:23.000+0000",
                    "updated": "2009-05-10T04:48:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30823",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "This issue is still present in the rev. 15476\n\nWith config of:\n\n[bootstrap]\nautoloadernamespaces[] = \"Zend_\"\nautoloadernamespaces[] = \"SF_\"\n\nphpsettings.display_errors = 0\nphpsettings.error_reporting = 8191\nphpsettings.date.timezone = \"Europe\/London\"\n\nbootstrap.path = APPLICATION_PATH\"\/bootstrap\/Bootstrap.php\"\n\nresources.frontcontroller.moduledirectory = APPLICATION_PATH\"\/modules\"\nresources.frontcontroller.defaultmodule = \"storefront\"\nresources.frontcontroller.throwexceptions = false\nresources.frontcontroller.params.prefixDefaultModule = true\nresources.frontcontroller.plugins.action = \"SF_Plugin_Action\"\nresources.frontcontroller.plugins.admin = \"SF_Plugin_AdminContext\"\n\nresources.db.adapter = \"PDO_MYSQL\"\nresources.db.isdefaulttableadapter = true\nresources.db.params.dbname = \"storefront\"\nresources.db.params.username = \"root\"\nresources.db.params.password = \"root\"\nresources.db.params.hostname = \"localhost\"\nresources.db.params.driver_options.1002 = \"SET NAMES UTF8;\"\n\nresources.modules[] =\n\nglobal.autoloadersupresswarnings = true\n\n[production : bootstrap]\n\n[development : bootstrap]\nphpsettings.display_errors = 1\nresources.frontcontroller.throwexceptions = true\nglobal.autoloadersupresswarnings = false\n\n[test : bootstrap]\n\nI get recursive loop, this is due to the addition of the call to the parent constructor in the module bootstrap in rev. 15357 this now means that all options are passed back re-adding the resource modules option and causing the loop.\n\nThe quick fix is to revert the changes from rev.15357, however I think what actually needs to happen is for the modules option to be removed before it is passed back to the parent.\n\nThis issue was previously fixed for ZF-6183 in rev. 14738\n\nI had a quick hack at this by adding this to Zend_Application_Bootstrap_BootstrapAbstract:\n\n{code} \n    public function removeModulesOption()\n    {\n        if ($this->hasOption('resources')) {\n            unset($this->_options['resources']['modules']);\n            $this->unregisterPluginResource('modules');\n        }\n    }\n} \n{code} \n\nAnd then in the module bootstrap:\n\n{code} \n$application->removeModulesOption();\nparent::__construct($application);\n{code} \n\nThis however seemed to break my FC plugin that uses the Action Stack??? \n\nHope this helps track this issue down.\n\n \n\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-05-10T08:16:27.000+0000",
                    "updated": "2009-05-10T08:16:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30835",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I was never able to reproduce the recursion, but I've added in a call to remove the 'Modules' resource within module bootloaders if it is detected.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-10T20:23:01.000+0000",
                    "updated": "2009-05-10T20:23:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30854",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=prospect",
                        "name": "prospect",
                        "displayName": "Dmitry",
                        "active": true
                    },
                    "body": "I have the same problem. Recursive loop is still present in rev. 15522.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=prospect",
                        "name": "prospect",
                        "displayName": "Dmitry",
                        "active": true
                    },
                    "created": "2009-05-11T08:01:02.000+0000",
                    "updated": "2009-05-11T08:01:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30855",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "body": "Here it's solved with r15506 (ZF-6545: merge r15505 to 1.8 release branch)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jpadron",
                        "name": "jpadron",
                        "displayName": "Jorge Padron",
                        "active": true
                    },
                    "created": "2009-05-11T08:08:39.000+0000",
                    "updated": "2009-05-11T08:08:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30856",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Dmitry -- I have yet to be able to reproduce the recursion based on any of the information available here or via the referenced mailing lists. I have added logic in the base module bootloader to remove the \"Modules\" resource during initialization if found, as this was identified by somebody else as the issue.\n\nPlease, re-open this issue only if you can post a complete setup that reliably reproduces the issue with current trunk.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-11T08:20:48.000+0000",
                    "updated": "2009-05-11T08:20:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30857",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=prospect",
                        "name": "prospect",
                        "displayName": "Dmitry",
                        "active": true
                    },
                    "body": "Jorge, don't you really have this problem now?\nWell, I see the following fixed code in Zend_Application_Module_Bootstrap:\n\n  \/\/ ZF-6545: prevent recursive registration of modules\n        if ($this->hasPluginResource('Modules')) { \n            $this->unregisterPluginResource('Modules');\n        } \nbut I still get the recursive loop.\nIf its works fine for you it means I do something wrong...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=prospect",
                        "name": "prospect",
                        "displayName": "Dmitry",
                        "active": true
                    },
                    "created": "2009-05-11T08:22:29.000+0000",
                    "updated": "2009-05-11T08:22:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30860",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Dmitry -- is it possible that your module bootstraps are not extending Zend_Application_Module_Bootstrap?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-11T08:36:42.000+0000",
                    "updated": "2009-05-11T08:36:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30865",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "body": "Incidentally, is it efficient that every Module's Bootstrap constructs Zend_Application_Bootstrap_Bootstrap as parent with the same instance of the application and makes the same resources in them?\nIn this case I supporse the Delegation is better than the Inheritance.\nBecause \n* Module's Bootstrap should be an inner bootstrap of global bootstrap ,isn't it?\n* In the case of the Inheritance, The system having many modules should have too many instances of bootstrap.  \n* If the global bootstrap have resources customized by -- _initFoo -- ,  they conflict with module's resources. \n\nThe Delegation's example,\n{code}\ninterface Zend_Application_Bootstrap_ModuleBootstrapper\n extends Zend_Application_Bootstrap_Bootstrapper\n{\n    public function setBootstrap(Zend_Application_Bootstrap_Bootstrapper $bootstrap);\n}\n{code}\n\nAnd it must provide properties of the resources with the delegation to the master bootstrap. \n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "created": "2009-05-11T10:56:06.000+0000",
                    "updated": "2009-05-11T10:56:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30866",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "@Tomoaki: The application bootstrap could potentially be a module bootstrap instance. As such, having a setBootstrap() instances doesn't make sense -- there is no parent bootstrap.\n\nSecond, there will be no conflicts with \"global\" resources. Each bootstrap is responsible for running its *own* resources. You can pass these in by prefixing them with the module name, or have your bootstrap grab its own configuration. Any given bootstrap can be responsible for as much or as little bootstrapping as they need.\n\nThird, I don't know what you mean by \"too many instances of bootstrap\" -- there is one, and then _references_ to that one. (Actually, there will be one for each module, but that's only if the module has a bootstrap, and each module bootstrap is responsible for its own configuration -- which brings us back to the question of what \"too many instances\" means...)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-11T12:00:04.000+0000",
                    "updated": "2009-05-11T12:00:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30868",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "body": "Confirmed that this issue is fixed in the trunk now :)\n\nHowever I have one more issue after the parent::__construct() was added, now my FC plugins are being called twice per request??\n\nMy setup is available here:\n\nhttp:\/\/code.google.com\/p\/zendframeworkstorefront\/\n\nI have a basic FC plugin which uses the ActionStack this now fails for some reason, and if I echo some text in it in gets called twice instead of once like it should be. If I un-reg the frontcontroller resource everything works as normal:\n\n{code}\n        \/\/ ZF-6545: prevent recursive registration of modules\n        if ($this->hasPluginResource('Modules')) {\n            $this->unregisterPluginResource('Modules');\n            $this->unregisterPluginResource('Frontcontroller');\n        }\n{code}\n\nI will not reopen this issue but if you could check it out that would be cool :)\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mute",
                        "name": "mute",
                        "displayName": "Keith Pope",
                        "active": true
                    },
                    "created": "2009-05-11T12:35:35.000+0000",
                    "updated": "2009-05-11T12:35:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30875",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "body": "Thanks,\n\n@Matthew\nIn case the module having its bootstrap class and the application having no extra options for the module,the module's bootstrap and the application's bootstrap are as independent bootstrap and they have the same options.\nThus Resource_Modules exec the module's bootstrap->bootstrap(). This causes unfortunately conflicts.\n\nFor example: This is a scraping of the sequence.\n{code}\n\/\/ application Bootstrap \nclass Bootstrap extends Zend_Application_Bootstrap_Bootstrap{\n protected function _initView(){\n$view = new Zend_View_Smarty;\n\/\/ customized code using options \n\/\/ and \n\/\/ set view to viewRenderer\n return $view;\n}\n}\n\/\/ Foo Module's Bootstrap\nclass Foo_Bootstrap extends Zend_Application_Module_Bootstrap{\nprotected function _initBar(){} \/\/  initializing some.\n}\n\n\n    $application = new Zend_Application(\n        $env,\n        array(\n            'bootstrap' => '\/path\/to\/Bootstrap.php',\n            'resources' => array(\n                 'modules' => array(), \/\/ to call module bootstrap\n                 'view' => array(), \/\/ some settings\n            ),\n        )\n    );\n\n\/\/ Zend_Application exec below\n$bootstrap = new Bootstrap($application);\n\n\/\/ Resource_Modules exec below\n$module = 'Foo';\n$bootstrapClass = 'Foo_Bootstrap';\n$moduleBootstrap = new $bootstrapClass($bootstrap);\n$moduleBootstrap->bootstrap();\n$bootstraps[$module] = $moduleBootstrap;\n{code}\nIn this case, setting the view and the viewRenderer by class method - Bootstrap::_initView - . But the module Foo_Bootstrap breaks them unfortunately by a plugin resource so called  Zend_Application_Resource_View .--  it creates new view instance and  new viewRenderer and push it--. \nThis is the sample of conflicts.\n\nGlobal resources or static objects have a similar problem. For instance, FrontController resource.\n\nBTW I said \"too many  instances\".\n In some case the module bootstrap needs the application's resources they have already set.\nI think that  it should be solved by injecting The Application Bootstrap to the module bootstrap.\nNot by creating new bootstrap instance and making the same resources with the same options.\n\nIf the module bootstrap only needs frontController resource , how about this one?\n{code}\n\/\/ Module_Bootstrap::__construct\nif ($application instanceof Zend_Application_Bootstrap_Bootstrap) {\n $this->frontController = $application->getResource('FrontController');\n}\n{code}\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "created": "2009-05-11T19:55:58.000+0000",
                    "updated": "2009-05-11T19:55:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30887",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cgmartin",
                        "name": "cgmartin",
                        "displayName": "Chris Martin",
                        "active": true
                    },
                    "body": "This might be more appropriate as a separate bug, but in case recent changes are related...\n\nModule recursion is fixed, but I am now seeing custom Application Resources being called twice: (r15545)\n\n{code}\nclass Main_Bootstrap_Resource_View extends Zend_Application_Resource_ResourceAbstract\n{\n    \/**\n     * @var Zend_View_Interface\n     *\/\n    protected $_view;\n\n    \/**\n     * Defined by Zend_Application_Resource_Resource\n     *\n     * @return void\n     *\/\n    public function init()\n    {\n    \t\/\/ Return view so bootstrap will store it in the registry\n        return $this->getView();\n    }\n\n    \/**\n     * Retrieve view object\n     * \n     * @return Zend_View\n     *\/\n    public function getView()\n    {\n        if (null === $this->_view) {\n            $options = $this->getOptions();\n            $title   = '';\n            if (array_key_exists('title', $options)) {\n                $title = $options['title'];\n                unset($options['title']);\n            }\n\n            $view = new Zend_View($options);\n            print(\"<h1>FOO!<\/h1>\"); \/\/ Prints twice\n\n            $viewRenderer =\n                Zend_Controller_Action_HelperBroker::getStaticHelper('ViewRenderer');\n                \n            $viewRenderer->setView($view);\n\t        if (isset($options['viewbasepathspec'])) {\n\t        \t$viewRenderer->setViewBasePathSpec($options['viewbasepathspec']);\n\t        }\n\t        \n\t        $this->_view = $view;\n        }\n        return $this->_view;\n    }\n}\n{code}\n\n{code:title=Application config}\n<bootstrap>\n    <path>.\/app\/lib\/Main\/Bootstrap.php<\/path>\n    <class>Main_Bootstrap<\/class>\n<\/bootstrap>\n\t\t\t\n<pluginpaths>\n    <Main_Bootstrap_Resource>.\/app\/lib\/Main\/Bootstrap\/Resource<\/Main_Bootstrap_Resource>\n<\/pluginpaths>\n    \t\n<resources>\t\n    <frontcontroller>\n        <throwexceptions>1<\/throwexceptions>\n        <controllerdirectory>\n            <test>.\/app\/lib\/Test\/Controller<\/test>\n            <main>.\/app\/lib\/Main\/Controller<\/main>\n        <\/controllerdirectory>\n        <defaultmodule>main<\/defaultmodule>\n        <params>\n            <prefixDefaultModule>1<\/prefixDefaultModule>\n        <\/params>\n    <\/frontcontroller>\n    <modules \/>\n    <view>\n        <encoding>UTF-8<\/encoding>\n        <viewbasepathspec>:moduleDir\/View<\/viewbasepathspec>\n        <helperPath>\n            <Main_View_Helper>.\/app\/lib\/Main\/View\/Helper<\/Main_View_Helper>\n            <Main_View_Helper_Navigation>.\/app\/lib\/Main\/View\/Helper\/Navigation<\/Main_View_Helper_Navigation>\n        <\/helperPath>\n    <\/view>\n<\/resources>\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cgmartin",
                        "name": "cgmartin",
                        "displayName": "Chris Martin",
                        "active": true
                    },
                    "created": "2009-05-11T23:36:46.000+0000",
                    "updated": "2009-05-11T23:36:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30896",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "@Chris Martin: I think what you are seeing is related to what @Tomoaki is indicating -- that the module bootstrap is running the same plugin resources as the application bootstrap. I'm going to get this resolved for 1.8.1 today.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-12T05:39:24.000+0000",
                    "updated": "2009-05-12T05:39:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30900",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "@Tomoaki -- I've updated the code to (a) no longer call parent::__construct() (@Chris, @Keith -- this was the culprit behind duplicate resource initialization), and also to ensure the front controller resource is registered (which ensures a module bootstrap can run standalone if necessary).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-05-12T06:53:46.000+0000",
                    "updated": "2009-05-12T06:53:46.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6545\/transitions"
}