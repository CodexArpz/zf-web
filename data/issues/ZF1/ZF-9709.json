{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9709",
    "key": "ZF-9709",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form_Element_Checkbox Validation bug"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9709\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-04-19T09:58:12.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kuzma",
                "name": "kuzma",
                "displayName": "Ivan Kuznetsov",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-04-19T09:12:36.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-04-20T03:23:24.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "\r\nExample:\r\n{code}\r\npublic function testAction() {\r\n    $form = new Zend_Form();\r\n    $form->addElement('checkbox','test',array('label'=>'I\\'m a bug','required' => true))->addElement('submit','submit');\t\t\t\r\n    if ($this->getRequest()->isPost()) {\r\n        if ($form->isValid($this->getRequest()->getParams())) {\r\n            echo 'Form is valid';\r\n        } else {\r\n            echo 'Form is not valid';\r\n        }\r\n    }\r\n    echo $form;\r\n    $this->getHelper('viewRenderer')->setNoRender();\r\n}\r\n{code}\r\n\r\nThis code will return 'Form is valid' but should return 'Form is not valid' when I leave checkbox not checked.\r\n\r\nWorkaround:\r\n{code}\r\npublic function testAction() {\r\n    $form = new Zend_Form();\r\n    $form->addElement('checkbox','test',array('label'=>'I\\'m a bug','required' => true,'uncheckedValue' => false))->addElement('submit','submit');\t\t\t\r\n    if ($this->getRequest()->isPost()) {\r\n        if ($form->isValid($this->getRequest()->getParams())) {\r\n            echo 'Form is valid';\r\n        } else {\r\n            echo 'Form is not valid';\r\n        }\r\n    }\r\n    echo $form;\r\n    $this->getHelper('viewRenderer')->setNoRender();\r\n}\r\n{code}\r\n\r\nThis bug was reported here http:\/\/framework.zend.com\/issues\/browse\/ZF-3463, but it have resolved status."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9709\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10440",
                    "id": 10440,
                    "description": "Mini Release",
                    "name": "1.10.3",
                    "userReleaseDate": "01\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40124",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Yes, you see the difference between first and second version is just\r\n{code:xml}\r\n<!-- First -->\r\n<input type=\"hidden\" name=\"test\" value=\"0\"><input type=\"checkbox\" name=\"test\" id=\"test\" value=\"1\"><\/dd>\r\n<!-- Second -->\r\n<input type=\"hidden\" name=\"test\" value=\"\"><input type=\"checkbox\" name=\"test\" id=\"test\" value=\"1\"><\/dd>\r\n{code}\r\nSeems like this is intended since there wouldn't be such 'uncheckedValue' option.\r\n\r\nClosing as Non issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-04-19T09:58:13.000+0000",
                    "updated": "2010-04-19T09:58:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40125",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "And by the way your Issue is the opposite to that one you linked to.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-04-19T10:21:20.000+0000",
                    "updated": "2010-04-19T10:21:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40132",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kuzma",
                        "name": "kuzma",
                        "displayName": "Ivan Kuznetsov",
                        "active": true
                    },
                    "body": "2 Christian\r\n\r\nThank you for quick answer. Sorry for not super clear explanation of the problem. Let me try once again.\r\n\r\nLet's take this code:\r\n\r\n{code}\r\npublic function testAction() {\r\n    $form = new Zend_Form();\r\n    $form->addElement('checkbox','test',array('label'=>'I\\'m a bug','required' => true))->addElement('submit','submit');\t\t\t\r\n    if ($this->getRequest()->isPost()) {\r\n        if ($form->isValid($this->getRequest()->getParams())) {\r\n            echo 'Form is valid';\r\n        } else {\r\n            echo 'Form is not valid';\r\n        }\r\n    }\r\n    echo $form;\r\n    $this\r\n{code}\r\n\r\nThere is *'required' => true* statement there. It looks quite logic for me that 'test' form field should not validate when checkbox is not checked. But form is validating in both cases - when 'test' field is checked and when it is unchecked.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kuzma",
                        "name": "kuzma",
                        "displayName": "Ivan Kuznetsov",
                        "active": true
                    },
                    "created": "2010-04-19T13:56:09.000+0000",
                    "updated": "2010-04-19T13:56:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40133",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "You can resolve this by adding an 'Identical Validator'\r\n{code}\r\n    $form = new Zend_Form();\r\n    $form->addElement('checkbox', 'test',\r\n                      array('label' =>'I\\'m not a bug'))\r\n         ->addElement('submit','submit')\r\n         ->test->addValidator('Identical', false, '1');\r\n{code}\r\nTo do this proper you would write your own \"Checked\" validator.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-04-19T15:07:28.000+0000",
                    "updated": "2010-04-19T15:07:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40142",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kuzma",
                        "name": "kuzma",
                        "displayName": "Ivan Kuznetsov",
                        "active": true
                    },
                    "body": "Thank you for workaround. It was very helpful for me.\r\n\r\nBut why this ticked is still closed? Is it not an issue?!\r\nIt seems to me that checkbox element should have this validator by default as it was fixed by Matthew in prior versions.\r\nShould it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kuzma",
                        "name": "kuzma",
                        "displayName": "Ivan Kuznetsov",
                        "active": true
                    },
                    "created": "2010-04-20T03:23:24.000+0000",
                    "updated": "2010-04-20T03:23:24.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9709\/transitions"
}