{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9275",
    "key": "ZF-9275",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form_Element overrides Zend_Validate DefaultTranslator"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9275\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10420",
                    "id": 10420,
                    "description": "Minor Release",
                    "name": "1.11.0",
                    "userReleaseDate": "02\/Nov\/10",
                    "archived": false,
                    "releaseDate": "2010-11-02",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-08-30T03:02:21.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=burnred",
                "name": "burnred",
                "displayName": "Thomas Rothe",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-02-26T12:46:04.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-08-30T03:02:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "If I set Zend_Validate_Abstract::$_defaultTranslator to an other Translator than that one of Zend_Form. Zend_Form_Element will allways use it's global default Translator from the registry. \r\n{code:title=Bootstrap.php}\r\n\tprotected function _initTranslator()\r\n\t{\r\n\t\t$translate = new Zend_Translate('gettext',APPLICATION_PATH.'\/languages\/de\/de.mo','de');\r\n\t\tZend_Registry::set('Zend_Translate', $translate);\r\n\t\t\r\n\t\t$translateValidate = new Zend_Translate('array', APPLICATION_PATH.'\/languages\/de\/Zend_Validate.php','de');\r\n\t\tZend_Validate_Abstract::setDefaultTranslator($translateValidate);\r\n\t}\r\n{code}\r\n{code:title=TestController.php}\r\npublic function testtranslateAction()\r\n    {\r\n    \t$form = new Zend_Form();\r\n    \t$input = new Zend_Form_Element_Text\r\n    \t(\r\n    \t\t'example',\r\n    \t\tarray\r\n    \t\t(\r\n    \t\t\t'required' => true\r\n    \t\t)\r\n    \t);\r\n    \t$submit = new Zend_Form_Element_Submit\r\n    \t(\r\n    \t\t'test',\r\n    \t\tarray\r\n    \t\t(\r\n    \t\t\t'label' => _('submit')\r\n    \t\t)\r\n    \t);\r\n    \t$form->addElements(array($input, $submit));\r\n    \tif($this->getRequest()->isPost())\r\n    \t{\r\n    \t\t$form->isValid($this->getRequest()->getPost());\r\n    \t}\r\n    \t$this->view->form = $form;\r\n    }\r\n{code}\r\nIf I send this form with an empty post, the error message should be the german text \"Es wird ein Wert ben\u00f6tigt. Dieser darf nicht leer sein\" ,but it's allways the original message \"Value is required and can't be empty\"."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9275\/watchers",
                "isWatching": false,
                "watchCount": 6
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                "name": "rob",
                "displayName": "Rob Allen",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-9330",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9330",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-9364",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9364",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13235",
                    "filename": "Form.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2010-08-07T04:50:50.000+0000",
                    "size": 841,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13235\/Form.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13232",
                    "filename": "Zend.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2010-08-07T02:38:01.000+0000",
                    "size": 449,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13232\/Zend.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12956",
                    "filename": "zf9275.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-28T09:55:37.000+0000",
                    "size": 7776,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12956\/zf9275.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10430",
                    "id": 10430,
                    "description": "Mini Release",
                    "name": "1.10.2",
                    "userReleaseDate": "24\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38776",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Can you please provide some reproduce code, and clearly indicate expected and actual results?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2010-02-26T14:02:15.000+0000",
                    "updated": "2010-02-26T14:02:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38779",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=burnred",
                        "name": "burnred",
                        "displayName": "Thomas Rothe",
                        "active": true
                    },
                    "body": "Added example code",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=burnred",
                        "name": "burnred",
                        "displayName": "Thomas Rothe",
                        "active": true
                    },
                    "created": "2010-02-26T14:33:35.000+0000",
                    "updated": "2010-02-26T14:33:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39341",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Fixed in [ZF-9364]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-18T08:27:57.000+0000",
                    "updated": "2010-03-18T08:27:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39508",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Please reopen this issue as the validator translator is overriden by the form element translator. ZF 9364 addresses another issue see the comments.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-03-24T06:34:31.000+0000",
                    "updated": "2010-03-24T06:34:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39510",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "{code}\r\nIndex: library\/Zend\/Form\/Element.php\r\n===================================================================\r\n--- library\/Zend\/Form\/Element.php       (Revision 21633)\r\n+++ library\/Zend\/Form\/Element.php       (Arbeitskopie)\r\n@@ -1329,7 +1329,9 @@\r\n         $isArray         = $this->isArray();\r\n         foreach ($this->getValidators() as $key => $validator) {\r\n             if (method_exists($validator, 'setTranslator')) {\r\n-                $validator->setTranslator($this->getTranslator());\r\n+                if (!$validator->getTranslator()) {\r\n+                    $validator->setTranslator($this->getTranslator());\r\n+                }\r\n             }\r\n \r\n             if (method_exists($validator, 'setDisableTranslator')) {\r\n{code}\r\n\r\nHowever i am not sure, if that is correct since $validator will return\r\nTranslator from Zend_Registry when it has none set and therefor break BC \r\nbecause the default Translator may differ from that set to Zend_Form or \r\nZend_Form_Element.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-24T07:28:51.000+0000",
                    "updated": "2010-03-24T07:37:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39512",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Thank you for reopening. Yes, the fix is tricky.\r\n\r\nI suggest checking $validator->getTranslator() against Zend_Registry::get('Zend_Translate'). \r\n\r\nIf they are identical then it would be fine to override the validator. That follows the logic of going from general to specific.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-03-24T08:03:57.000+0000",
                    "updated": "2010-03-24T08:03:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39528",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Suggested fix, add new members to Zend_Validate_Abstract\r\n\r\nprotected $_isSpecificTranslator = false;\r\nprotected static $_isSpecificDefaultTranslator = false;\r\n\r\nwith appropriate getter Methods and set the new members true \r\nwithin setTranslator() and setDefaultTranslator().\r\n\r\n{code}\r\n\/\/ edit, deleted diff code\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-25T06:32:11.000+0000",
                    "updated": "2010-03-25T09:35:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39529",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "It's an interesting approach but  I don't think we need specificc translator flag, because when we use:\r\n\r\nZend_Validate_Abstract::setDefaultTranslator($translateValidate);\r\n\r\nwe precisely mean that we want the validators to use this translator.\r\n\r\nFirst case: we want to handle all the translations. We do :\r\n{code}\r\n    \tZend_Registry::set('Zend_Translate', $translate);\r\n{code}\r\nand everything is fine.\r\n==> Zend_Validate_Abstract::getDefaultTranslator() == Zend_Registry::get('Zend_Translate')\r\n\r\nSecond case: we want to handle translations but want to use the default translations for validators \r\nthen we do:\r\n{code}\r\n    \tZend_Registry::set('Zend_Translate', $translate);\r\n{code}\r\nand:\r\n{code}\r\n\t\t$locale = Zend_Registry::get('Zend_Locale') ;\r\n\t\t$translator = new Zend_Translate(\r\n\t\t\tZend_Translate::AN_ARRAY,\r\n\t\t\tAPPLICATION_PATH . '\/resources\/languages',\r\n\t\t\t$locale, \r\n\t\t\tarray('scan' => Zend_Translate::LOCALE_DIRECTORY)\r\n\t\t);\r\n\t\tZend_Validate_Abstract::setDefaultTranslator($translator) ; \r\n{code}\r\n==> Zend_Validate_Abstract::getDefaultTranslator() != Zend_Registry::get('Zend_Translate')\r\n\r\nThird case: we don't want to use Zend_Translate but our project is not in english. So we will to use the translator for the validators only.\r\n\r\n{code}\r\n\t\t$translator = new Zend_Translate(\r\n\t\t\tZend_Translate::AN_ARRAY,\r\n\t\t\tAPPLICATION_PATH . '\/resources\/languages',\r\n\t\t\t'fr', \r\n\t\t\tarray('scan' => Zend_Translate::LOCALE_DIRECTORY)\r\n\t\t);\r\n\t\tZend_Validate_Abstract::setDefaultTranslator($translator) ; \r\n{code}\r\n==> Zend_Validate_Abstract::getDefaultTranslator() != Zend_Registry::get('Zend_Translate')\r\n\r\nSo, if Zend_Validate_Abstract::getDefaultTranslator() == Zend_Registry::get('Zend_Translate')\r\nthen we can assume it is safe to override the validator translator.\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-03-25T06:56:17.000+0000",
                    "updated": "2010-03-25T06:56:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39530",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Dominique, i think the problem is\r\n\r\n$translate = Zend_Registry::get('Zend_Translate');\r\n$translate instanceof Zend_Translate || $translate instanceof Zend_Translate_Adapter\r\n\r\nbut always\r\n\r\nZend_Validate_Abstract::getDefaultTranslator() instanceof Zend_Translate_Adapter",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-25T07:15:22.000+0000",
                    "updated": "2010-03-25T07:15:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39531",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Baah, much to complicated my solution, here is a simpler one\r\n\r\n{code}\r\nIndex: library\/Zend\/Form\/Element.php\r\n===================================================================\r\n--- library\/Zend\/Form\/Element.php       (Revision 21641)\r\n+++ library\/Zend\/Form\/Element.php       (Arbeitskopie)\r\n@@ -1329,7 +1329,10 @@\r\n         $isArray         = $this->isArray();\r\n         foreach ($this->getValidators() as $key => $validator) {\r\n             if (method_exists($validator, 'setTranslator')) {\r\n-                $validator->setTranslator($this->getTranslator());\r\n+                if (!$validator->hasTranslator() &&\r\n+                    null !== ($translator = $this->getTranslator())) {\r\n+                    $validator->setTranslator($translator);\r\n+                }\r\n             }\r\n \r\n             if (method_exists($validator, 'setDisableTranslator')) {\r\nIndex: library\/Zend\/Validate\/Abstract.php\r\n===================================================================\r\n--- library\/Zend\/Validate\/Abstract.php  (Revision 21641)\r\n+++ library\/Zend\/Validate\/Abstract.php  (Arbeitskopie)\r\n@@ -353,6 +353,20 @@\r\n     }\r\n \r\n     \/**\r\n+     * Was a (default) translator set?\r\n+     * \r\n+     * @return Boolean\r\n+     *\/\r\n+    public function hasTranslator()\r\n+    {\r\n+        if (null === $this->_translator &&\r\n+            null === self::$_defaultTranslator) {\r\n+            return false;\r\n+        }\r\n+        return true;\r\n+    }\r\n+\r\n+    \/**\r\n      * Set default translation object for all validate objects\r\n      *\r\n      * @param  Zend_Translate|Zend_Translate_Adapter|null $translator\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-25T07:38:56.000+0000",
                    "updated": "2010-03-25T07:51:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39532",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Christian, that code works with my project. It's probably safer to do it that way.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-03-25T08:00:08.000+0000",
                    "updated": "2010-03-25T08:00:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39533",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Which one do you refer to with 'that'? My simpler solution, or yours?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-25T08:06:28.000+0000",
                    "updated": "2010-03-25T08:06:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39540",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "My safety concern is about Zend_Form::getDefaultTranslator(). Actually Zend_Validate_Abstract::getDefaultTranslator() ignores the default form translator but should the Zend dev team changes this then the registry check would stop working. So, yes your solution is safer in that perspective.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-03-25T08:49:04.000+0000",
                    "updated": "2010-03-25T08:49:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39541",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "proove that it works\r\n{code}\r\ncd library\r\nphp -r 'require_once \"Zend\/Translate.php\"; \\\r\nrequire_once \"Zend\/Validate\/Alnum.php\"; \\\r\n$translate = new Zend_Translate(\"Array\"); \\\r\n$validator = new Zend_Validate_Alnum(); \\\r\nvar_dump($validator->hasTranslator()); \\\r\nZend_Validate_Abstract::setDefaultTranslator($translate); \\\r\nvar_dump($validator->hasTranslator());'\r\n\r\n\/\/ bool(false)\r\n\/\/ bool(true)\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-03-25T09:17:50.000+0000",
                    "updated": "2010-03-25T09:17:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39615",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "This unit test shows the problem:\r\n\r\n{code}\r\n    \/**\r\n     * @group ZF-9275\r\n     *\/\r\n    public function testElementDoesntOverrideValidatorsDefaultTranslatorWithDefaultRegistryTranslator()\r\n    {\r\n        $registryTranslations = array('alphaInvalid' => 'Registry message');\r\n        $registryTranslate = new Zend_Translate('array', $registryTranslations);\r\n        Zend_Registry::set('Zend_Translate', $registryTranslate);\r\n        \r\n        $validatorTranslations = array('alphaInvalid' => 'Validator message');\r\n        $validatorTranslate = new Zend_Translate('array', $validatorTranslations);\r\n        Zend_Validate_Abstract::setDefaultTranslator($validatorTranslate);\r\n        \r\n        $elementTranslations = array('alphaInvalid' => 'Element message');\r\n        $elementTranslate = new Zend_Translate('array', $elementTranslations);\r\n       \r\n        \/\/ the default validate translator should beat the registry one\r\n        $this->element->addValidator('Alpha');\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Validator message', $messages['alphaInvalid']);\r\n        \r\n        \/\/ however the element's translator should beat both\r\n        $this->element->setTranslator($elementTranslate);\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Element message', $messages['alphaInvalid']);\r\n        \r\n    }    \r\n{code}\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-28T08:22:46.000+0000",
                    "updated": "2010-03-28T08:41:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39616",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Christian's solution will result in a translator attached directly to an element not being set for that element's validators which is wrong.\r\n\r\nThis is a potential patch that passes my unit test above:\r\n\r\n{code}\r\n$ svn diff library\/Zend\/Form\/Element.php \r\nIndex: library\/Zend\/Form\/Element.php\r\n===================================================================\r\n--- library\/Zend\/Form\/Element.php\t(revision 21664)\r\n+++ library\/Zend\/Form\/Element.php\t(working copy)\r\n@@ -1332,6 +1332,15 @@\r\n             array_unshift($validators, $notEmpty);\r\n             $this->setValidators($validators);\r\n         }\r\n+        \r\n+        \/\/ Find the correct translator. Zend_Validate_Abstract::getDefaultTranslator()\r\n+        \/\/ will get either the static translator attached to Zend_Validate_Abstract\r\n+        \/\/ or the 'Zend_Translate' from Zend_Registry. \r\n+        $translator = Zend_Validate_Abstract::getDefaultTranslator();\r\n+        if($this->hasTranslator()) {\r\n+            \/\/ only pick up this element's translator if it was attached directly.\r\n+            $translator = $this->getTranslator();\r\n+        }\r\n \r\n         $this->_messages = array();\r\n         $this->_errors   = array();\r\n@@ -1339,7 +1348,7 @@\r\n         $isArray         = $this->isArray();\r\n         foreach ($this->getValidators() as $key => $validator) {\r\n             if (method_exists($validator, 'setTranslator')) {\r\n-                $validator->setTranslator($this->getTranslator());\r\n+                $validator->setTranslator($translator);\r\n             }\r\n \r\n             if (method_exists($validator, 'setDisableTranslator')) {\r\n\r\n{code}\r\n\r\nThe problem with this patch is that the translator attached to Zend_Form::setDefaultTranslator() is now ignored for validation messages, so you would then have to set them using Zend_Validate_Abstract::setDefaultTranslator().",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-28T09:17:26.000+0000",
                    "updated": "2010-03-28T09:17:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39619",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "The correct order of translators to apply to a validator when validating it via a form element is:\r\n\r\n(most generic to most specific)\r\n1. Zend_Registry's 'Zend_Translate' translator\r\n2. Zend_Validate_Abstract's static default translator\r\n3. Zend_Form's static default translator\r\n4. The form instance's directly attached translator\r\n5. The element instance's directly attached translator\r\n6. The validator instance's directly attached translator\r\n\r\nTo prove this, I've created 4 unit tests:\r\n\r\n{code}\r\n    \/**\r\n     * @group ZF-9275\r\n     *\/\r\n    public function testElementDoesntOverrideDefaultValidatorTranslatorWithDefaultRegistryTranslator()\r\n    {\r\n        $registryTranslations = array('alphaInvalid' => 'Registry message');\r\n        $registryTranslate = new Zend_Translate('array', $registryTranslations);\r\n        Zend_Registry::set('Zend_Translate', $registryTranslate);\r\n        \r\n        $validatorTranslations = array('alphaInvalid' => 'Validator message');\r\n        $validatorTranslate = new Zend_Translate('array', $validatorTranslations);\r\n        Zend_Validate_Abstract::setDefaultTranslator($validatorTranslate);\r\n        \r\n        $elementTranslations = array('alphaInvalid' => 'Element message');\r\n        $elementTranslate = new Zend_Translate('array', $elementTranslations);\r\n       \r\n        \/\/ the default validate translator should beat the registry one\r\n        $this->element->addValidator('Alpha');\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Validator message', $messages['alphaInvalid']);\r\n    }\r\n    \r\n    \/**\r\n     * @group ZF-9275\r\n     *\/\r\n    public function testDefaultTranslatorDoesntOverrideElementTranslatorOnValdiation()\r\n    {\r\n        $registryTranslations = array('alphaInvalid' => 'Registry message');\r\n        $registryTranslate = new Zend_Translate('array', $registryTranslations);\r\n        Zend_Registry::set('Zend_Translate', $registryTranslate);\r\n        \r\n        $validatorTranslations = array('alphaInvalid' => 'Validator message');\r\n        $validatorTranslate = new Zend_Translate('array', $validatorTranslations);\r\n        Zend_Validate_Abstract::setDefaultTranslator($validatorTranslate);\r\n        \r\n        $elementTranslations = array('alphaInvalid' => 'Element message');\r\n        $elementTranslate = new Zend_Translate('array', $elementTranslations);\r\n        \r\n        $this->element->addValidator('Alpha');\r\n        $this->element->setTranslator($elementTranslate);\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Element message', $messages['alphaInvalid']);\r\n    }\r\n\r\n    \/**\r\n     * @group ZF-9275\r\n     *\/\r\n    public function testValidatorsDefaultTranslatorDoesntOverrideFormsDefaultTranslator()\r\n    {\r\n        $formTranslations = array('alphaInvalid' => 'Form message');\r\n        $formTranslate = new Zend_Translate('array', $formTranslations);\r\n        Zend_Form::setDefaultTranslator($formTranslate);\r\n        \r\n        $validatorTranslations = array('alphaInvalid' => 'Validator message');\r\n        $validatorTranslate = new Zend_Translate('array', $validatorTranslations);\r\n        Zend_Validate_Abstract::setDefaultTranslator($validatorTranslate);\r\n        \r\n        \/\/ the default validate translator should beat the registry one\r\n        $this->element->addValidator('Alpha');\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Form message', $messages['alphaInvalid']);\r\n    }\r\n    \r\n    \/**\r\n     * @group ZF-9275\r\n     *\/\r\n    public function testElementsTranslatorDoesntOverrideValidatorsDirectlyAttachedTranslator()\r\n    {\r\n        $elementTranslations = array('alphaInvalid' => 'Element message');\r\n        $elementTranslate = new Zend_Translate('array', $elementTranslations);\r\n        \r\n        $validatorTranslations = array('alphaInvalid' => 'Direct validator message');\r\n        $validatorTranslate = new Zend_Translate('array', $validatorTranslations);\r\n        \r\n        $validator = new Zend_Validate_Alpha();\r\n        $validator->setTranslator($validatorTranslate);\r\n        $this->element->addValidator($validator);\r\n        $this->assertFalse($this->element->isValid(123));\r\n        $messages = $this->element->getMessages();\r\n        $this->assertEquals('Direct validator message', $messages['alphaInvalid']);\r\n    }  \r\n{code}\r\n\r\nThis is the patch that passes this set of unit tests:\r\n{code}\r\nIndex: library\/Zend\/Form.php\r\n===================================================================\r\n--- library\/Zend\/Form.php\t(revision 21665)\r\n+++ library\/Zend\/Form.php\t(working copy)\r\n@@ -2776,6 +2776,16 @@\r\n     }\r\n \r\n     \/**\r\n+     * Is there a default translation object set?\r\n+     * \r\n+     * @return boolean\r\n+     *\/\r\n+    public static function hasDefaultTranslator()\r\n+    { \r\n+        return (bool)self::$_translatorDefault;\r\n+    }\r\n+    \r\n+    \/**\r\n      * Indicate whether or not translation should be disabled\r\n      *\r\n      * @param  bool $flag\r\nIndex: library\/Zend\/Form\/Element.php\r\n===================================================================\r\n--- library\/Zend\/Form\/Element.php\t(revision 21664)\r\n+++ library\/Zend\/Form\/Element.php\t(working copy)\r\n@@ -1332,6 +1332,21 @@\r\n             array_unshift($validators, $notEmpty);\r\n             $this->setValidators($validators);\r\n         }\r\n+        \r\n+        \/\/ Find the correct translator. Zend_Validate_Abstract::getDefaultTranslator()\r\n+        \/\/ will get either the static translator attached to Zend_Validate_Abstract\r\n+        \/\/ or the 'Zend_Translate' from Zend_Registry. \r\n+        if (Zend_Validate_Abstract::hasDefaultTranslator() && \r\n+            !Zend_Form::hasDefaultTranslator()) \r\n+        {\r\n+            $translator = Zend_Validate_Abstract::getDefaultTranslator();\r\n+            if ($this->hasTranslator()) {\r\n+                \/\/ only pick up this element's translator if it was attached directly.\r\n+                $translator = $this->getTranslator();\r\n+            }\r\n+        } else {\r\n+            $translator = $this->getTranslator();\r\n+        }\r\n \r\n         $this->_messages = array();\r\n         $this->_errors   = array();\r\n@@ -1339,7 +1354,13 @@\r\n         $isArray         = $this->isArray();\r\n         foreach ($this->getValidators() as $key => $validator) {\r\n             if (method_exists($validator, 'setTranslator')) {\r\n-                $validator->setTranslator($this->getTranslator());\r\n+                if (method_exists($validator, 'hasTranslator')) {\r\n+                    if (!$validator->hasTranslator()) {                    \r\n+                        $validator->setTranslator($translator);\r\n+                    }\r\n+                } else {\r\n+                    $validator->setTranslator($translator);\r\n+                }\r\n             }\r\n \r\n             if (method_exists($validator, 'setDisableTranslator')) {\r\nIndex: library\/Zend\/Validate\/Abstract.php\r\n===================================================================\r\n--- library\/Zend\/Validate\/Abstract.php\t(revision 21664)\r\n+++ library\/Zend\/Validate\/Abstract.php\t(working copy)\r\n@@ -353,6 +353,16 @@\r\n     }\r\n \r\n     \/**\r\n+     * Does this validator have its own specific translator?\r\n+     * \r\n+     * @return bool\r\n+     *\/\r\n+    public function hasTranslator()\r\n+    {\r\n+        return (bool)$this->_translator;\r\n+    }  \r\n+    \r\n+    \/**\r\n      * Set default translation object for all validate objects\r\n      *\r\n      * @param  Zend_Translate|Zend_Translate_Adapter|null $translator\r\n@@ -393,6 +403,16 @@\r\n     }\r\n \r\n     \/**\r\n+     * Is there a default translation object set?\r\n+     * \r\n+     * @return boolean\r\n+     *\/\r\n+    public static function hasDefaultTranslator()\r\n+    { \r\n+        return (bool)self::$_defaultTranslator;\r\n+    }\r\n+    \r\n+    \/**\r\n      * Indicate whether or not translation should be disabled\r\n      *\r\n      * @param  bool $flag\r\n\r\n{code}\r\n\r\nAll other Zend_Form tests also continue to pass. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-28T09:54:02.000+0000",
                    "updated": "2010-03-29T07:13:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39620",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "This patch fixes the reported issue and also ensures that related issues around the order of applied translate objects is now correct.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-28T09:55:38.000+0000",
                    "updated": "2010-03-28T09:55:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39685",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Fixed on trunk r21724 (test) r21725 (library)\r\nFixed on branch: r21726",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-03-31T12:57:55.000+0000",
                    "updated": "2010-03-31T12:57:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40426",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Hello, this issue is not fixed as of 1.10.4. Please reopen it.\r\n\r\nThis code is wrong:\r\n{code}\r\n        \/\/ Find the correct translator. Zend_Validate_Abstract::getDefaultTranslator()\r\n        \/\/ will get either the static translator attached to Zend_Validate_Abstract\r\n        \/\/ or the 'Zend_Translate' from Zend_Registry.\r\n        if (Zend_Validate_Abstract::hasDefaultTranslator() &&\r\n            !Zend_Form::hasDefaultTranslator())\r\n        {\r\n            $translator = Zend_Validate_Abstract::getDefaultTranslator();\r\n            if ($this->hasTranslator()) {\r\n                \/\/ only pick up this element's translator if it was attached directly.\r\n                $translator = $this->getTranslator();\r\n            }\r\n        } else {\r\n            $translator = $this->getTranslator();\r\n        }\r\n{code}\r\nWhen Zend_Validate_Abstract::setdefaultTranslator() is used, it means we intend to use the special translation files for the validators which are included in the Zend Framework package under resources\/languages\/xx\/Zend_Validate.php.\r\nThe one and only case when we don't want to use this translator for the validators is when we directly set the validator translator using $validator->setTranslator()\r\nThe code above prevents this behavior to work since the element always have a translator set with an init code like this one:\r\n\r\n{code}\r\n    protected function _initTranslate()\r\n    {\r\n    \t$translate = $this->getPluginResource(\"translate\")->getTranslate() ;\r\n    \tZend_Registry::set('Zend_Translate', $translate);\r\n\t\t$locale = Zend_Registry::get('Zend_Locale') ;\r\n\t\t$translator = new Zend_Translate(\r\n\t\t\tZend_Translate::AN_ARRAY,\r\n\t\t\tAPPLICATION_PATH . '\/resources\/languages',\r\n\t\t\t$locale, \r\n\t\t\tarray('scan' => Zend_Translate::LOCALE_DIRECTORY)\r\n\t\t);\r\n\t\tZend_Validate_Abstract::setDefaultTranslator($translator) ;    \t\r\n\t\treturn $translate ;    \t\r\n    }\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-11T09:19:12.000+0000",
                    "updated": "2010-05-11T09:19:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40427",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "code should be:\r\n\r\n{code}\r\n        if (Zend_Validate_Abstract::hasDefaultTranslator())\r\n        {\r\n            $translator = Zend_Validate_Abstract::getDefaultTranslator();\r\n        } else {\r\n            $translator = $this->getTranslator();\r\n        }\r\n{code}\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-11T09:30:45.000+0000",
                    "updated": "2010-05-11T09:30:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40429",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "\"The one and only case when we don't want to use this translator for the validators is when we directly set the validator translator using $validator->setTranslator()\"\r\n\r\nI disagree. If a validator is set on the form, then it should override.\r\n\r\nCan you provide a use-case where you would want to set a form translator, but expect the global Zend_Validate translator to win?\r\n\r\nAlternatively, if you mean that the default Zend_Validate_Abstract static translator is never used, could you provide a unit test that shows this?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-05-11T13:18:05.000+0000",
                    "updated": "2010-05-11T13:18:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40434",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "The part Zend_Form vs Zend_Validate is not the main issue. In my code I did not use Zend_Form default translator in first place. \r\n\r\nI expect Zend_Validate translator to \"win\" when I use the translated files in resources\/languages of the Zend Framework full package. I don't know any other case where the default translator for Zend_Validate is useful.\r\n\r\nThe problem is we get translations for most validators in many languages but there is no simple way to use them!\r\n\r\nActually I'm using a workaround by setting the form default translator. It works but using the form default translator for a validate translator is not correct.\r\n\r\n\r\n{code}\r\n    protected function _initTranslate()\r\n    {\r\n    \t$translate = $this->getPluginResource(\"translate\")->getTranslate() ;\r\n    \tZend_Registry::set('Zend_Translate', $translate);\r\n\t\t$locale = Zend_Registry::get('Zend_Locale') ;\r\n\t\t$translator = new Zend_Translate(\r\n\t\t\tZend_Translate::AN_ARRAY,\r\n\t\t\tAPPLICATION_PATH . '\/resources\/languages',\r\n\t\t\t$locale, \r\n\t\t\tarray('scan' => Zend_Translate::LOCALE_DIRECTORY)\r\n\t\t);\r\n    \tZend_Form::setDefaultTranslator($translator);\r\n    \tZend_Validate_Abstract::setDefaultTranslator($translator) ;    \t\r\n\t\treturn $translate ;    \t\r\n    }\r\n{code}\r\nYou don't need  test file, the default Zend_Validate translator is not used if a translator is set\r\nfor the form element:\r\n{code}\r\n            if ($this->hasTranslator()) {\r\n                \/\/ only pick up this element's translator if it was attached directly.\r\n                $translator = $this->getTranslator();\r\n            }\r\n{code}\r\nand this happens always if a translator file is used. For instance:\r\n\r\n{code}\r\nresources.translate.adapter = Gettext\r\nresources.translate.data = APPLICATION_PATH \"\/resources\/languages\/\"\r\nresources.translate.options.scan = filename\r\nresources.translate.options.disableNotices = true\r\n{code}\r\nUsed in conjunction with the init code I already mentioned. This part is the main issue. We are back to the title of this issue: \"Zend_Form_Element overrides Zend_Validate DefaultTranslator\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-12T02:14:06.000+0000",
                    "updated": "2010-05-12T02:14:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40436",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Dominique, my guess is this works as expected now if you stop\r\nusing your workaround setting the Form default Translator.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-05-12T03:18:49.000+0000",
                    "updated": "2010-05-12T03:18:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40438",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Christian, only if I remove the registry:\r\n{code}\r\n\tZend_Registry::set('Zend_Translate', $translate);\r\n{code}\r\nThen I wouldn't need the workaround, or else this would be set as the translator of all elements in Zend_Form::isValid, because of this code:\r\n\r\n{code}\r\n    public static function getDefaultTranslator()\r\n    {\r\n        if (null === self::$_translatorDefault) {\r\n            require_once 'Zend\/Registry.php';\r\n            if (Zend_Registry::isRegistered('Zend_Translate')) {\r\n                $translator = Zend_Registry::get('Zend_Translate');\r\n                if ($translator instanceof Zend_Translate_Adapter) {\r\n                    return $translator;\r\n                } elseif ($translator instanceof Zend_Translate) {\r\n                    return $translator->getAdapter();\r\n                }\r\n            }\r\n        }\r\n        return self::$_translatorDefault;\r\n    }\r\n{code}\r\nActually, commenting out this line would not help because this registry is already set in getTranslate() of Zend\/Application\/Resource\/Translate.php, the other workaround would be to change the key name (untested atm)in application.ini.\r\n\r\n{code}\r\n         Zend_Registry::set($key, $this->_translate);\r\n{code}\r\nNow we clearly see the problem: the element translator is set in Form::isValid because the registry key Zend_Translate is initialized and since the element *has* a translator then Zend_Validate default translator is overriden.\r\n\r\nOnce again, setting Zend_Validate default translator has a special meaning, and should not be overriden in order to use the resources\/languages translations.\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-12T05:13:43.000+0000",
                    "updated": "2010-05-12T05:13:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40439",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "oh, now i see what you mean - So you are arguing that the precedence list from [Rob's comment|#action_39619] should read\r\n\r\n1. Zend_Registry's 'Zend_Translate' translator\r\n2. Zend_Form's static default translator\r\n3. The form instance's directly attached translator\r\n4. The element instance's directly attached translator\r\n5. Zend_Validate_Abstract's static default translator\r\n6. The validator instance's directly attached translator",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-05-12T05:44:27.000+0000",
                    "updated": "2010-05-12T05:44:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40442",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "My list was:\r\n\r\n(most generic to most specific)\r\n1. Zend_Registry's 'Zend_Translate' translator\r\n2. Zend_Validate_Abstract's static default translator\r\n3. Zend_Form's static default translator\r\n4. The form instance's directly attached translator\r\n5. The element instance's directly attached translator\r\n6. The validator instance's directly attached translator\r\n\r\nI could certainly be persuaded that 2 and 3 should be swapped around.\r\n \r\nI definitely think that any translator attached to an instance object should \"beat\" a global static translator.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-05-12T06:34:29.000+0000",
                    "updated": "2010-05-12T06:34:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40445",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "I am comfortable with any set of priorities as long as we can specify that:\r\na) we use a personal translation file\r\nb) we use for the validators the Zend_Validate.php files from resources\/languages\r\nc) we can use specific translators for some validators (such as the Captcha validator which is not translated).\r\n\r\nThe problem is that the element translator is attached automatically when Zend_Translate is set in the registry. Thus it breaks your priority list Rob, since Zend_Translate goes between 4 and 5 when it should be 1.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-12T08:25:53.000+0000",
                    "updated": "2010-05-12T08:25:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40465",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "body": "Back to priorities. I think the keyword is 'reusability'. When you have a translation file you want to use it on your next projects. This is the case with Zend_Validate.php which is conveniently set with \r\n{code}\r\nZend_Validate_Abstract::setDefaultTranslator($resourcetranslator);\r\n{code}\r\n\r\nWhen I set this I mean to reuse a file that is provided in Zend_Framework package. If I don't want to use this file then I don't set it. This is why I said the only case it should be overriden is when I directly set the validator translator (captcha for instance).\r\n\r\nRob asked:\r\n{quote}\r\nCan you provide a use-case where you would want to set a form translator, but expect the global Zend_Validate translator to win?{quote}\r\nYes. I create a couple forms (for example registration and options) in project A which uses validators such as emailaddress. I use Zend_Validate.php as\r\n{code}\r\n  Zend_Validate_Abstract::setDefaultTranslator($resourcetranslator);\r\n{code}\r\nand my own translation file for the forms which will translate sentences such as \"Enter your email address\".\r\n{code}\r\n\tZend_Form::setDefaultTranslator($formtranslator);\r\n{code}\r\nNow, why on earth would I want to add the validator messages to my form translation since I have them already translated? This goes against the reusability principle. When I create project B with the same forms I will reuse my custom form translation file and the Zend_Validate.php file.\r\n\r\nZend form elements have their own messages such as \"Enter your email\" or \"Confirm deletion\", and validators have other messages which are totally different such as \"Invalid type given, value should be a string\" or \"A crc32 hash could not be evaluated for the given file\".\r\n\r\nWhy would I want to insert all the validators error messages in my custom form translation file because I want to use one? This makes no sense. \r\n\r\nPriority should be a fallback: I don't have set the validator translator or the validator default translator: then we fallback to the element translator. If the element translator is not set then I fallback to the form translator and so on.\r\n\r\n\r\nNow lets see why the priority code is broken.\r\n\r\n{code}\r\n    protected function _initTranslate()\r\n    {\r\n    \t$translate = $this->getPluginResource(\"translate\")->getTranslate() ;\r\n\t\t$locale = Zend_Registry::get('Zend_Locale') ;\r\n\t\t$translator = new Zend_Translate(\r\n\t\t\tZend_Translate::AN_ARRAY,\r\n\t\t\tAPPLICATION_PATH . '\/resources\/languages',\r\n\t\t\t$locale, \r\n\t\t\tarray('scan' => Zend_Translate::LOCALE_DIRECTORY)\r\n\t\t);\r\n    \tZend_Validate_Abstract::setDefaultTranslator($translator) ;    \t\r\n\t\treturn $translate ;    \t\r\n    }\r\n{code}\r\nThis init code sets a translator file for the project and uses the default translation for validators.\r\nAs mentioned already, the call to getTranslate() sets 'Zend_Translate' in Zend_Registry:\r\n{code}\r\n            } else {\r\n                $this->_translate = new Zend_Translate($options);\r\n                Zend_Registry::set($key, $this->_translate);\r\n            }\r\n{code}\r\nIn Form::isValid:\r\n\r\n{code}\r\n        $translator = $this->getTranslator();\r\n{code}\r\nWe look if the form has a translator.\r\n\r\nThis looks if the form has a default translator:\r\n{code}\r\n        if (null === $this->_translator) {\r\n            return self::getDefaultTranslator();\r\n        }\r\n{code}\r\nThis in turn looks if Zend_Translate is set:\r\n{code}\r\n            if (Zend_Registry::isRegistered('Zend_Translate')) {\r\n                $translator = Zend_Registry::get('Zend_Translate');\r\n                if ($translator instanceof Zend_Translate_Adapter) {\r\n                    return $translator;\r\n{code}\r\nTherefore the form gets a translator which is set to each element translator:\r\n{code}\r\n       $context = $data;\r\n        foreach ($this->getElements() as $key => $element) {\r\n            if (null !== $translator && !$element->hasTranslator()) {\r\n                $element->setTranslator($translator);\r\n            }\r\n{code}\r\nSince the elements translators have been set, then the validator translator is overriden:\r\n{code}\r\n            $translator = Zend_Validate_Abstract::getDefaultTranslator();\r\n            if ($this->hasTranslator()) {\r\n                \/\/ only pick up this element's translator if it was attached directly.\r\n                $translator = $this->getTranslator();\r\n            }\r\n{code}\r\nThis is why Zend_Translate is set to the element translators which in turn override the default translator for Zend_Validate. Your priority list is not working as expected Rob.\r\n\r\n\r\n\r\n \r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dlorre",
                        "name": "dlorre",
                        "displayName": "Dominique Lorre",
                        "active": true
                    },
                    "created": "2010-05-13T01:37:23.000+0000",
                    "updated": "2010-05-13T01:37:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41231",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dsalvador",
                        "name": "dsalvador",
                        "displayName": "David Salvador",
                        "active": true
                    },
                    "body": "$translate = new Zend_Translate('tmx', $tmxFileAndPath, $lang); \r\n$translatorForValidationMessages = new Zend_Translate('array',APPLICATION_PATH.'\/resources\/languages',$lang,array('scan' => Zend_Translate::LOCALE_DIRECTORY));\r\nZend_Validate_Abstract::setDefaultTranslator($translatorForValidationMessages);\t\t\r\nZend_Registry::set('Zend_Translate', $translate);\r\n\r\nAs it is, it translates the labels of the form, but leaves the validation messages in english.\r\n---\r\n\r\nAnd if i comment the line setting the Zend_Registry for Zend_Translate as per below:\r\n$translate = new Zend_Translate('tmx', $tmxFileAndPath, $lang); \r\n$translatorForValidationMessages = new Zend_Translate('array',APPLICATION_PATH.'\/resources\/languages',$lang,array('scan' => Zend_Translate::LOCALE_DIRECTORY));\r\nZend_Validate_Abstract::setDefaultTranslator($translatorForValidationMessages);\t\t\r\n\/\/Zend_Registry::set('Zend_Translate', $translate);\r\n\r\nThen it gives me the validation errors properly translated, but the form labels remain in english.\r\n\r\nShould this issue be reopened? I have tested it with 10.4 and 10.5, none of them work. I do not have the rights to  reopen it, ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dsalvador",
                        "name": "dsalvador",
                        "displayName": "David Salvador",
                        "active": true
                    },
                    "created": "2010-06-28T13:53:02.000+0000",
                    "updated": "2010-06-28T13:53:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41232",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dsalvador",
                        "name": "dsalvador",
                        "displayName": "David Salvador",
                        "active": true
                    },
                    "body": "{code}\r\n$translate = new Zend_Translate('tmx', $tmxFileAndPath, $lang);\r\n$translatorForValidationMessages = new Zend_Translate('array',APPLICATION_PATH.'\/resources\/languages',$lang,array('scan' => Zend_Translate::LOCALE_DIRECTORY));\r\nZend_Validate_Abstract::setDefaultTranslator($translatorForValidationMessages);\r\nZend_Registry::set('Zend_Translate', $translate);\r\n{code}\r\nAs it is, it translates the labels of the form, but leaves the validation messages in english.\r\n\u2014\r\n\r\nAnd if i comment the line setting the Zend_Registry for Zend_Translate as per below:\r\n{code}\r\n$translate = new Zend_Translate('tmx', $tmxFileAndPath, $lang);\r\n$translatorForValidationMessages = new Zend_Translate('array',APPLICATION_PATH.'\/resources\/languages',$lang,array('scan' => Zend_Translate::LOCALE_DIRECTORY));\r\nZend_Validate_Abstract::setDefaultTranslator($translatorForValidationMessages);\r\n\/\/Zend_Registry::set('Zend_Translate', $translate);\r\n{code}\r\nThen it gives me the validation errors properly translated, but the form labels remain in english.\r\n\r\nShould this issue be reopened? I have tested it with 10.4 and 10.5, none of them work. I do not have the rights to reopen it,\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dsalvador",
                        "name": "dsalvador",
                        "displayName": "David Salvador",
                        "active": true
                    },
                    "created": "2010-06-28T13:54:45.000+0000",
                    "updated": "2010-06-28T13:54:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41280",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "body": "Reopening.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                        "name": "alab",
                        "displayName": "Christian Albrecht",
                        "active": true
                    },
                    "created": "2010-06-30T14:52:51.000+0000",
                    "updated": "2010-06-30T14:52:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41442",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Erasing fix version as the issue was reopened",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-07-12T11:27:30.000+0000",
                    "updated": "2010-07-12T11:27:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41806",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Zend_Form::isValid() shouldn't set element translator by it's own default translator, because this leads into situation where form element has set translator which overrides Zend_Validate's default translator.\r\n\r\n{noformat}\r\nIndex: Form.php\r\n===================================================================\r\n--- Form.php\t(revision 22746)\r\n+++ Form.php\t(working copy)\r\n@@ -2222,7 +2222,9 @@\r\n         }\r\n         $context = $data;\r\n         foreach ($this->getElements() as $key => $element) {\r\n-            if (null !== $translator && !$element->hasTranslator()) {\r\n+            if (null !== $translator && $this->hasTranslator() &&\r\n+                !$element->hasTranslator())\r\n+            {\r\n                 $element->setTranslator($translator);\r\n             }\r\n             $check = $data;\r\n{noformat}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2010-07-31T12:38:13.000+0000",
                    "updated": "2010-07-31T12:38:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41811",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "To make it more clear...\r\n\r\nInit:\r\nOnly global Zend_Registry's 'Zend_Translate' translator has been set\r\n\r\nWhat happens?\r\n1) Zend_Form::hasTranslator() returns false\r\n2) Zend_Form::getTranslator() returns Zend_Registry's 'Zend_Translate' translator\r\n\r\n3) Zend_Form_Element::hasTranslator() returns true (wrong, should be false)\r\n4) Zend_Form_Element::getTranslator() returns $this->_translator (wrong, should be Zend_Registry's 'Zend_Translate' translator)\r\n\r\nWhy it happens?\r\nBecause Zend_Form used Zend_Form_Element's setTranslator() by its default Zend_Registry's 'Zend_Translate' translator. Zend_Form should override Zend_Form_Element's validator only when its own hasTranslator() returns true && Zend_Form_Element's hasTranslator() returns false.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2010-08-01T00:16:02.000+0000",
                    "updated": "2010-08-01T00:16:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41884",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "body": "Zend.diff includes patch for Zend_Form\r\nForm.diff includes new test for Zend_Form_FormTest",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kblomqvist",
                        "name": "kblomqvist",
                        "displayName": "Kim Blomqvist",
                        "active": true
                    },
                    "created": "2010-08-07T02:38:27.000+0000",
                    "updated": "2010-08-07T02:38:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41976",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Fixed on trunk in svn [r22833|http:\/\/framework.zend.com\/code\/changelog\/Standard_Library?cs=22833].\r\n\r\nNeed to check with alab before merging to 1.10 branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-08-13T07:39:22.000+0000",
                    "updated": "2010-08-13T07:39:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42145",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "As 1.10.8 is out, this fix will be released with 1.11",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2010-08-30T03:02:21.000+0000",
                    "updated": "2010-08-30T03:02:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9275\/transitions"
}