{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3532",
    "key": "ZF-3532",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Send_Auth_Result chops out of range result codes"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3532\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-04T10:19:25.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                "name": "akzincdig",
                "displayName": "Ashley Kitson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-06-28T01:02:20.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-08-04T10:19:25.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The current implementation of Zend_Auth_Result discards any result codes that it doesn't like with\n\n        if ($code < self::FAILURE_UNCATEGORIZED) {\n            $code = self::FAILURE;\n        } elseif ($code > self::SUCCESS ) {\n            $code = 1;\n        }\n\nin its constructor.\n\nThis makes reuse of the object unachievable if you want to extend Zend_Auth to carry out additional authentication tasks and still return a valid Zend_Auth construct\n\nConsider this:\n\n                    unset($authResult); \/\/trash old result because we'll build a new one\n                    \/\/do tests\n                    if ($user['expiryDtime']!='' && $user['expiryDtime']>time()) {\n                        $code = self::FAILURE_EXPIRED;\n                        $msgs[] = 'Account has expired';\n                    }\n                    if ($user[ZWARE_RSTAT_FLD]!=ZWARE_RSTAT_ACT) {\n                        $code = self::FAILURE_DISABLED;\n                        $msgs[] = \"Account is disabled\";\n                    }\n                    if (intval($cfg['config']['db']['retryLogonCount'])>0) {\n                        if ($user['attempts'] > intval($cfg['config']['db']['retryLogonCount'])) {\n                            $code = self::FAILURE_BLOCKED ;\n                            $msgs[] = \"Too many attempts\";\n                        } \n                    }\n                    $authResult = new Zend_Auth_Result($code, $uid, $msgs);\n\nself::FAILURE_EXPIRED, self::FAILURE_DISABLED, self::FAILURE_BLOCKED are constants set in range < -10 (to keep clear of the Zend_Auth_Result code constants.  These codes get overwritten with 0 (zero) when $authResult is created.\n\nI do not see any logical reason why you would want to limit the possible result range.  You may want to reserve a range for future use, but outside of that you should allow the developer to specify alternate result codes particular to their application.\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3532\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10174",
                    "id": 10174,
                    "description": "Mini Release",
                    "name": "1.5.1",
                    "userReleaseDate": "25\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10084",
                    "id": 10084,
                    "name": "Zend_Auth",
                    "description": "A abstraction for various concrete web application authentication implementations.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33192",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "The purpose of Zend_Auth_Result is to expose a consistent public API that *all adapters* can utilize and interact with.  The constants that are exposed represent the only logical states that can exist in *all adapters*.  The ones you propose would actually be sub- codes for the ones provided.  For example, your codes: EXPIRED, DISABLED, and BLOCKED can all fit within either FAILURE, or FAILURE_UNCATEGORIZED.  \n\nThis is to say that the *messaging* for the constant code can be different depending on the situation, which is what is allowed for since you have getCode() and getMessages().. and this is what I would suggest for your adapter.  What this allows applications to do is that regardless of what adapter is being used, or regardless of what adapter is being switched to in the future, there can be an assurance that at the application layer, its handled the same way by the application code.\n\n-ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-08-04T10:19:21.000+0000",
                    "updated": "2009-08-04T10:19:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3532\/transitions"
}