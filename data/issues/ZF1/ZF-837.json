{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-837",
    "key": "ZF-837",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "SendMail.php transport fails under PHP 5.2.0"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-837\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-02-09T11:38:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                "name": "cerad",
                "displayName": "Art Hundiak",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-01-31T21:00:24.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:43.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Running the simple example from the manual fails with an exception when run under PHP 5.2.0.\nUsing a straight mail() function seems to work.\n\nFollowing error is generated when running from the command line:\n\n$ php email_test.php\n\/usr\/sbin\/sendmail: unexpected response 501 to RCPT TO command\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-837\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10018",
                    "id": 10018,
                    "name": "Zend_Mail",
                    "description": "high-level utility to build MIME-compliant messages and send using a mail transport adapter",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12482",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "body": "So far I'm not having much luck replicate it. I installed a fresh copy of PHP 5.2.0 on a Mac laptop (OS 10.4.8) and then checked out the HEAD of the core ZFW library and it mailed to me without a hitch.\n\nCould you run a tail -f on your mail log in one terminal and watch it whilst you run the script again. I'd be interested to see the transcript (with hostnames removed of course!) to see what's actually happening on your side. \n\nBTW Are you using a Windows box? I only ask in that most of the sendmail instances I've used on Linux and Mac don't report an SMTP error directly to the mail client. I could be wrong here - please let me know if there's any other environmental factor that could be contributing to it.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "created": "2007-01-31T22:07:35.000+0000",
                    "updated": "2007-01-31T22:07:35.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12485",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "body": "It's a Linux box.  Not sure how to get the version of sendmail.  -v does not work.  And I'm not sure how to get to the logs.  It's a shared host.  Using latest svn version as well as some older versions.\n\nIf I change:\n$mail->addTo('ahundiak@xxx.com', 'Art Hundiak');\nTo:\n$mail->addTo('ahundiak@xxx.com');\nThen it seems to work.\n\nI'll try to track down exactly what is going on with the headers later.  Bit of a pain working on a shared host.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "created": "2007-02-01T08:43:53.000+0000",
                    "updated": "2007-02-01T08:43:53.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12508",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "body": "Could you try something - in the Zend_Mail_Transport_Sendmail class there's the line:-\n{code}\n        if (!mail(\n                $this->recipients, \n                $this->_mail->getSubject(), \n                $this->body, \n                $this->header)) \n{code}\n\nCould you try replacing that with:-\n{code}\n        if (!mail(\n                str_replace('\"', '', $this->recipients), \n                $this->_mail->getSubject(), \n                $this->body, \n                $this->header)) \n{code}\n\nJust a hunch, maybe I'm totally off, but it seems weird that it falls over whenever you remove the mailbox alias. Since the Mail object escapes them with double quotes it may be causing problems for the sendmail agent.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "created": "2007-02-03T10:22:42.000+0000",
                    "updated": "2007-02-03T10:22:42.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12640",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "body": "I did some more tests and found that the problem seems to be in the way the server is setup.\n$to = 'User <user@xxx.com';\nmail($to,...);\nGenerates \/usr\/sbin\/sendmail: unexpected response 501 to RCPT TO command\n\nAnd i'm assuming that if php 5.2.0 really did mess this up then there would have a loud outcry.\n\nSo I guess we can close this issue.  And I'll try to get the host to fix things up.\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "created": "2007-02-09T09:17:59.000+0000",
                    "updated": "2007-02-09T09:17:59.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12643",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "body": "Just in case anyonw is wondering, the host was running a \"hacked up\" version of mini_sendmail which was mangling the addresses.  All better now.\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=cerad",
                        "name": "cerad",
                        "displayName": "Art Hundiak",
                        "active": true
                    },
                    "created": "2007-02-09T11:38:02.000+0000",
                    "updated": "2007-02-09T11:38:02.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-837\/transitions"
}