{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9656",
    "key": "ZF-9656",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Amf: unable to handle paranthesis in webroot path"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9656\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=angaurav",
                "name": "angaurav",
                "displayName": "Anand Gaurav",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-04-12T03:13:45.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-02-14T15:40:03.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Amf framework is unable to handle parenthesis as path for webroot.\r\nHere is the error log that I got in my usecase:\r\n{code}\r\nWarning: parse error in amf_config.ini on line 5 in gateway.php on line 12\r\n\r\nFatal error:\r\nUncaught exception 'Zend_Config_Exception' with message 'parse error in amf_config.ini on line 5' in Zend\\Config\\Ini.php:181\r\n\r\nStack trace:\r\n\r\n#0 Zend\\Config\\Ini.php(201): Zend_Config_Ini->_parseIniFile('C:\\wamp\\www\\Fle...')\r\n#1 Zend\\Config\\Ini.php(125): Zend_Config_Ini->_loadIniFile('C:\\wamp\\www\\Fle...')\r\n#2 gateway.php(31): Zend_Config_Ini->__construct('C:\\wamp\\www\\Fle...', 'zendamf')\r\n#3 {main} thrown in Zend\\Config\\Ini.php on line 181\r\n{code}\r\n\r\nSteps to produce:\r\n\r\n1. Have a webroot dir which contains paranthesis. eg. \"C:\/wamp\/abc()\"\r\n2. Two files have been attached: gateway.php and amf_config.ini. Put these files into the webroot folder\r\n3. open gateway.php in browser. (http:\/\/localhost\/gateway.php)\r\n\r\nNote: the amf_config.ini has this entry in 5th line: \r\n\r\n{code}webroot =C:\/wamp\/abc()  <--- If this dir is changed to some dir without parenthesis all works !!{code}\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9656\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12987",
                    "filename": "amf_config.ini",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=angaurav",
                        "name": "angaurav",
                        "displayName": "Anand Gaurav",
                        "active": true
                    },
                    "created": "2010-04-12T03:15:31.000+0000",
                    "size": 437,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12987\/amf_config.ini"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12986",
                    "filename": "gateway.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=angaurav",
                        "name": "angaurav",
                        "displayName": "Anand Gaurav",
                        "active": true
                    },
                    "created": "2010-04-12T03:15:20.000+0000",
                    "size": 2336,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12986\/gateway.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10412",
                    "id": 10412,
                    "description": "Mini Release",
                    "name": "1.10.1",
                    "userReleaseDate": "10\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-10",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10350",
                    "id": 10350,
                    "name": "Zend_Amf",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40364",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=captaincode",
                        "name": "captaincode",
                        "displayName": "Josh Jensen",
                        "active": true
                    },
                    "body": "This error makes it impossible to utilize Zend_Amf w\/ Flash Builder and Zend Server CE on a 64 bit system as the server is installed in \"Program Files (x86)\".",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=captaincode",
                        "name": "captaincode",
                        "displayName": "Josh Jensen",
                        "active": true
                    },
                    "created": "2010-05-03T14:31:39.000+0000",
                    "updated": "2010-05-03T14:31:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43060",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danmera",
                        "name": "danmera",
                        "displayName": "Daniel Mera",
                        "active": true
                    },
                    "body": "How I got around this error....\r\nWell I uninstalled the Zend Community Server and did a new installation.. this time when I installed it and asked to install the apache server I installed it in a different folder, not the \"Program Files (x86)\", and it worked like a charm.. well had to direct the files from my flex project also.. but the zend server works\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danmera",
                        "name": "danmera",
                        "displayName": "Daniel Mera",
                        "active": true
                    },
                    "created": "2010-11-17T17:49:28.000+0000",
                    "updated": "2010-11-17T17:49:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/53138",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=saulobborges",
                        "name": "saulobborges",
                        "displayName": "Saulo Batista Borges",
                        "active": true
                    },
                    "body": "Resolution:\r\n\r\n<?php\r\nini_set(\"display_errors\", 1);\r\n$dir = dirname(__FILE__);\r\n$webroot = $_SERVER['DOCUMENT_ROOT'];\r\n$configfile = \"$dir\\amf_config.ini\";\r\n\r\n\/\/default zend install directory\r\n$zenddir = $webroot. '\/ZendFramework\/library\/';\r\n\r\n\/\/Load ini file and locate zend directory\r\nif(file_exists($configfile)) {\r\n\t$arr=parse_ini_file($configfile,true);\r\n\tif(isset($arr['zend']['webroot'])){\r\n\t\t$s1 = array('(', ')');\r\n\t\t$s2 = array(chr(28), chr(29));\r\n\t\t$webroot = str_replace($s1, $s2, $arr['zend']['webroot']);\r\n\t\t$zenddir = $webroot. '\/ZendFramework\/library\/';\r\n\t}\r\n\tif(isset($arr['zend']['zend_path'])){\r\n\t\t$zenddir = $arr['zend']['zend_path'];\r\n\t}\r\n}\r\n\r\n\r\n\/\/ Setup include path\r\n\t\/\/add zend directory to include path\r\nset_include_path(get_include_path().PATH_SEPARATOR.$zenddir);\r\n\/\/ Initialize Zend Framework loader\r\nrequire_once('Zend\/Loader\/Autoloader.php'); \r\nZend_Loader_Autoloader::getInstance()->setFallbackAutoloader(true);\r\n\r\n\/\/ Load configuration\r\n$default_config = new Zend_Config(array(\"production\" => false), true);\r\n$default_config->merge(new Zend_Config_Ini($configfile, 'zendamf'));\r\n$default_config->setReadOnly();\r\n$amf = $default_config->amf;\r\n\r\n\/\/ Store configuration in the registry\r\nZend_Registry::set(\"amf-config\", $amf);\r\n\/\/ Initialize AMF Server\r\n$server = new Zend_Amf_Server();\r\n$server->setProduction($amf->production);\r\nif(isset($amf->directories)) {\r\n\t$dirs = $amf->directories->toArray();\r\n\tforeach($dirs as $dir) {\r\n\t    \/\/ get the first character of the path. \r\n\t    \/\/ If it does not start with slash then it implies that the path is relative to webroot. Else it will be treated as absolute path\r\n\t    $length = strlen($dir);\r\n\t    $firstChar = $dir;\r\n\t    if($length >= 1)\r\n\t    \t$firstChar = $dir[0];\r\n\t    \r\n\t    if($firstChar != \"\/\"){\r\n\t    \t\/\/ if the directory is .\/ path then we add the webroot only.\r\n\t    \tif($dir == \".\/\"){\t    \t\t\r\n\t    \t\t$server->addDirectory($webroot);\r\n\t    \t}else{\r\n\t    \t\t$tempPath = $webroot . \"\/\" . $dir;\r\n\t\t\t\t$server->addDirectory($tempPath);\r\n\t\t\t}\t    \r\n\t\t}else{\r\n\t   \t\t$server->addDirectory($dir);\t    \t\r\n\t\t}\r\n\t}\r\n}\r\n\/\/ Initialize introspector for non-production\r\nif(!$amf->production) {\r\n\t$server->setClass('Zend_Amf_Adobe_Introspector', '', array(\"config\" => $default_config, \"server\" => $server));\r\n\t$server->setClass('Zend_Amf_Adobe_DbInspector', '', array(\"config\" => $default_config, \"server\" => $server));\r\n}\r\n\/\/ Handle request\r\necho $server->handle();\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=saulobborges",
                        "name": "saulobborges",
                        "displayName": "Saulo Batista Borges",
                        "active": true
                    },
                    "created": "2013-02-14T14:52:58.000+0000",
                    "updated": "2013-02-14T14:52:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/53139",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Hi Saulo,\r\ncan you add the code tags to your comment: {noformat}{code}$foo = true;{code}{noformat}\r\n\r\nThanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2013-02-14T15:37:24.000+0000",
                    "updated": "2013-02-14T15:37:24.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9656\/transitions"
}