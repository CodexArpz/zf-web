{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8940",
    "key": "ZF-8940",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Measure_Weight LB\/LBS to KILO conversion value is incorrect"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8940\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-26T12:08:32.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wjgilmore",
                "name": "wjgilmore",
                "displayName": "Jason Gilmore",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-01-26T10:27:22.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-01-26T12:33:17.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The Zend_Measure component's Zend_Measure_Weight class defines the LB\/LBS class constant values as being equivalent to 0.45359237 of a kilogram. This is incorrect; 1 kilogram is equivalent to 2.20462 lbs."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8940\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10400",
                    "id": 10400,
                    "description": "Mini Release",
                    "name": "1.9.7",
                    "userReleaseDate": "11\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10075",
                    "id": 10075,
                    "name": "Zend_Measure",
                    "description": "Zend_Measure is a locale aware Class which can convert measurement units.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "That number is rounded. From Wikipedia:\r\n\r\n{quote}The United States and countries of the Commonwealth of Nations agreed upon common definitions for the pound and the yard. Since 1 July 1959, the international avoirdupois pound has been defined as exactly 0.45359237 kilogram.[8]\r\n\r\nIn the United Kingdom, the use of the international pound was implemented in the Weights and Measures Act 1963.[9]\r\nThe yard or the metre shall be the unit of measurement of length and the pound or the kilogram shall be the unit of measurement of mass by reference to which any measurement involving a measurement of length or mass shall be made in the United Kingdom; and- (a) the yard shall be 0- 9144 metre exactly; (b) the pound shall be 0- 45359237 kilogram exactly.\r\n\u2014Weights and Measures Act, 1963, Section 1(1)\r\n{quote}\r\n\r\n1\/0.45359237 = 2.204622622\r\n1\/2.204622622 = 0.45359237\r\n\r\nProposing to close as not an issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-01-26T10:34:11.000+0000",
                    "updated": "2010-01-26T10:34:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38048",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wjgilmore",
                        "name": "wjgilmore",
                        "displayName": "Jason Gilmore",
                        "active": true
                    },
                    "body": "Hi Dolf,\r\n\r\nIndeed you are correct regarding the actual conversion value; perhaps I misstated the problem and instead should have included a bit of code as something does not seem right with the conversion process:\r\n\r\n$locale = new Zend_Locale('en');\r\n$unit = new Zend_Measure_Weight(1, Zend_Measure_Weight::KILOGRAM, $locale);\r\necho \"CONVERT: \".$unit->convertTo(Zend_Measure_Weight::LBS);\r\n\r\nSo the goal is to convert 1 kilogram into the corresponding number of lbs. Executing this code produces the value:\r\n\r\nCONVERT: 2.0 lbs\r\n\r\nIn actuality, this should be 2.2 lbs, no?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wjgilmore",
                        "name": "wjgilmore",
                        "displayName": "Jason Gilmore",
                        "active": true
                    },
                    "created": "2010-01-26T10:43:35.000+0000",
                    "updated": "2010-01-26T10:43:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38051",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The default rounding is 2 as with ZF 1.10.\r\nBut you can change the precision simply by using the second parameter $round.\r\n{code}\r\n->convertTo($unit, $round);\r\n{code}\r\n\r\nNote that in no single case the rounding will be as long as possible. This would lead to unexpected returned values.\r\n\r\nBut using your example on trunk I get\r\n{code}\r\nCONVERT: 2.20 lbs\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-01-26T12:07:54.000+0000",
                    "updated": "2010-01-26T12:07:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38052",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Closing as non issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-01-26T12:08:32.000+0000",
                    "updated": "2010-01-26T12:08:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38053",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wjgilmore",
                        "name": "wjgilmore",
                        "displayName": "Jason Gilmore",
                        "active": true
                    },
                    "body": "FWIW I have confirmed that this example does not work on Windows XP running Apache 2.2 and PHP 5.2.12, returning 2.0 both using the provided code sample and in the case that the $round parameter is provided per Thomas' direction. It does indeed work as expected (returning 2.2) on Ubuntu Server 9.1.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wjgilmore",
                        "name": "wjgilmore",
                        "displayName": "Jason Gilmore",
                        "active": true
                    },
                    "created": "2010-01-26T12:19:32.000+0000",
                    "updated": "2010-01-26T12:19:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38054",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "I don't think that the system is the problem.\r\n\r\nI have used XP with Apache 2.2 and 5.2.11 (default installation) for my tests with the given return values.\r\n\r\nAs wether the OS nor the webserver have effects on how PHP calculates.\r\nYou may not have noted that I wrote \"trunk\"... it's possible (I think I remember that) that within the old 1.9.x releases the initial value has been used for expecting the precision when no precision has been given.\r\n\r\n2.0 indicates to me that precision has been set to 0 before calculating (by using a non-precision value) and only the output is extended to 1 precision.\r\n\r\nAnother way would be to set the type manually and output the value as wished\r\n\r\n{code}\r\n->setType($type);\r\n->toString($round);\r\n{code}\r\n\r\nThis works also in 1.8 and below when the precision has not been detected.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-01-26T12:33:17.000+0000",
                    "updated": "2010-01-26T12:33:17.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8940\/transitions"
}