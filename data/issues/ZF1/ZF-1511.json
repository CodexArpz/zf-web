{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1511",
    "key": "ZF-1511",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "registerAutoload() registers parent loader, not loader for extended class"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1511\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10100",
                    "id": 10100,
                    "description": "Release Candidate 3",
                    "name": "1.0.0 RC3",
                    "userReleaseDate": "23\/Jun\/07",
                    "archived": true,
                    "releaseDate": "2007-06-23",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-06-12T19:14:56.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=belgattitude",
                "name": "belgattitude",
                "displayName": "S\u00e9bastien Vanvelthem",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-06-07T09:46:53.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:44:16.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hello, \n\n\n\n1. Problem\n---------------\n\njust a thought about Zend_Loader::registerAutoload() and a custom Loader extending Zend_Loader. Take the following example as written in the docs :\n\n{code}\nclass My_Loader extends Zend_Loader {\n  public static function loadClass($class, $dirs) {\n    echo \" you'll never see that message due to a bug \";\n  }\n}\n{code}\n\nthen try :\n\n{code}\nZend_Loader::registerAutoload('My_Loader');\nnew DummyClassThatIsSupposedToLaunchMyLoaderLoadClass();\n{code}\n\nthe resulting method loadClass is called on Zend_Loader and not on My_Loader\n\nsimply debug it with :\n\n{code}\nvar_dump(spl_autoload_functions());\n{code}\n\nwhich will gives\n\n{code}\n[0][0] => 'Zend_Loader'  <====== Zend_Loader? why ? \n[0][1] => 'autoload'\n{code}\n\ninstead of\n\n{code}\n[0][0] => 'My_Loader'    <======= Expected : My_Loader !\n[0][1] => 'autoload'\n{code}\n\nand Zend_Loader::autoload() with call self::loadClass() == Zend_Loader::loadClass() which is not expected\n\n2. Reason\n---------------\n\n- Behaviour of PHP5 static methods\n  When Zend_Loader::registerAutoload() executes the following code\n\n{code}\nspl_autoload_register(array('My_Loader', 'autoload'));\n{code}\n\n  it takes the static method Zend_Loader::autoload() instead of My_Loader::autoload() \n\n\n3. Possible workaround\n---------------------------------\n  Don't really have a clean solution, hope you'll find a better one :\n\n  static method 'autoload' has to be overidden in extended loader classes.\n\n{code}\nclass My_Loader extends Zend_Loader {\n  public static function autoload( ... ) {\n    parent::autoload();\n  }\n}\n{code}\n\n4. Note\n----------\n\nTry to include a note in the documentation, it can save a lot of time. (I guess static methods behaviour is not well understood) \n(I'm wondering if it's possible to change that behaviour in PHP5? could be really useful for ActiveRecord implementation...)\n\nThanks\n\nSeb\n\n\nPS : tested on ZFRC1.0 + PHP5.2.3 CLI + FC6.\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1511\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                "name": "bkarwin",
                "displayName": "Bill Karwin",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10060",
                    "id": 10060,
                    "description": "Beta Release; bug fixes",
                    "name": "0.9.1",
                    "userReleaseDate": "23\/Mar\/07",
                    "archived": true,
                    "releaseDate": "2007-03-23",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10070",
                    "id": 10070,
                    "description": "Beta Release; bug fixes",
                    "name": "0.9.2",
                    "userReleaseDate": "06\/Apr\/07",
                    "archived": true,
                    "releaseDate": "2007-04-06",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10080",
                    "id": 10080,
                    "description": "Beta Release; bug fixes",
                    "name": "0.9.3",
                    "userReleaseDate": "05\/May\/07",
                    "archived": true,
                    "releaseDate": "2007-05-05",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10023",
                    "id": 10023,
                    "description": "Release Candidate 1",
                    "name": "1.0.0 RC1",
                    "userReleaseDate": "28\/May\/07",
                    "archived": true,
                    "releaseDate": "2007-05-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10001",
                    "id": 10001,
                    "name": "Zend_Loader",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/14983",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=belgattitude",
                        "name": "belgattitude",
                        "displayName": "S\u00e9bastien Vanvelthem",
                        "active": true
                    },
                    "body": "My workaround is not working, I probably missed something. Too much static methods in that class, it seems that I cannot inherit from Zend_Loader.\nHope you'll find a way.\n\nThanks\n\nSeb",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=belgattitude",
                        "name": "belgattitude",
                        "displayName": "S\u00e9bastien Vanvelthem",
                        "active": true
                    },
                    "created": "2007-06-07T10:22:29.000+0000",
                    "updated": "2007-06-07T10:22:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15003",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Assign to Bill Karwin.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-07T11:25:53.000+0000",
                    "updated": "2007-06-07T11:25:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15131",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Reformat summary, description",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-12T17:44:32.000+0000",
                    "updated": "2007-06-12T17:44:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15144",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "The solution is that your extended Loader class must implement _both_ {{autoload()}} and {{loadClass()}}.  Further, the {{autoload()}} method must call {{self::loadClass()}} so that it calls the static method in the current class.  If you delegate to the parent, then the parent's {{autoload()}} method references _its_ {{self::loadClass()}} method.\n\n{code}\nclass Zend_Loader_MyOverloader extends Zend_Loader\n{\n    public static function loadClass($class, $dirs = null)\n    {\n        parent::loadClass($class, $dirs);\n    }\n\n    public static function autoload($class)\n    {\n        try {\n            self::loadClass($class);\n            return $class;\n        } catch (Exception $e) {\n            return false;\n        }\n    }\n}\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-12T19:01:30.000+0000",
                    "updated": "2007-06-12T19:01:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15145",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Tests and updated documentation committed in revision 5271.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-12T19:14:56.000+0000",
                    "updated": "2007-06-12T19:14:56.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1511\/transitions"
}