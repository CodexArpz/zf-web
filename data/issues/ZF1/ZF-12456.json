{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12456",
    "key": "ZF-12456",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Date API loses 7 hours from 18 Jan 2038 07:14 AM to 19 Jan 2038 02:15 PM"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12456\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/8",
                "name": "Issue Moved"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2013-04-05T16:07:12.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hltla",
                "name": "hltla",
                "displayName": "Harry Tarnz",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2012-10-28T22:34:33.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-04-05T16:07:12.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Zend_Date",
                "date",
                "timezone"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "7 hours seem to \"disappear\" (actually, an earlier range of time is repeated) from 18 Jan 2038 07:14 AM to 19 Jan 2038 02:15 PM.  We are in time zone Los Angeles, so we are GMT -7 hours, so we think that's where the problem arises.  If we switch to time zone GMT, there is no such offset.  We theorize (but have not checked) that other time zones may have similar problems.\r\n\r\nThe result of leaving such a condition in (whether the result of a bug or even by design) could mean the catastrophic failure of some IT systems in 25 years, around January 18-19, 2038.  In fact, we have a mission critical system that would have eventually failed with significant consequences had we not tested for and uncovered this situation.  (We are currently employing a workaround.)\r\n\r\nEXAMPLE\r\n\r\nThis code:\r\n\r\n  $d = new Zend_Date('01\/18\/2038 07:14 PM');\r\n  echo $d . '<br \/>';\r\n  $d = new Zend_Date('01\/18\/2038 07:15 PM');\r\n  echo $d . '<br \/>';\r\n  $d = new Zend_Date('01\/19\/2038 02:14 AM');\r\n  echo $d . '<br \/>';\r\n  $d = new Zend_Date('01\/19\/2038 02:15 AM');\r\n  echo $d . '<br \/>';\r\n\r\nproduces this output:\r\n\r\nJan 18, 2038 7:14:00 PM\r\nJan 18, 2038 12:15:00 PM\r\nJan 18, 2038 7:14:00 PM\r\nJan 19, 2038 3:15:00 AM\r\n\r\nNOTES:\r\n1. We would expect that any sequence of \"$d = new Zend_Date('some date'); echo $d . '<br \/>';\" would produce a result consistent with the input date string.\r\n2. The \"Jan 18, 2038 12:15:00 PM\" should have been the minute after \"7:14:00 PM\", or \"7:15:00 PM\".  Instead, it is seven hours earlier.\r\n3. Similarly, the \"Jan 18, 2038 7:14:00 PM\" should have been the minute before \"Jan 19, 2038 3:15:00 PM\", or \"Jan 19, 2038 3:14:00 PM\".  Instead, it is seven hours earlier.\r\n4. The time range from \"Jan 18, 2038 12:15:00 PM\" to the same day at \"7:14:00 PM\" is repeated twice. \r\n5. The issue probably doesn't occur exactly at seconds = 00, but the minute is the most discrete level of our test.\r\n6. Also, on and after \"Jan 19, 2038 3:15:00 AM\", the time is now off by +1 hour.\r\n\r\nWe are currently using Zend Framework 2.3.0.\r\n\r\nThank you for the timesaving Zend and the wonderful Zend Date API. Good luck on the resolution."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/2",
                "name": "Critical"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12456\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zend_date"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10510",
                    "id": 10510,
                    "description": "Minor Release",
                    "name": "1.12.0",
                    "userReleaseDate": "27\/Aug\/12",
                    "archived": false,
                    "releaseDate": "2012-08-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52157",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hltla",
                        "name": "hltla",
                        "displayName": "Harry Tarnz",
                        "active": true
                    },
                    "body": "Corrected intro",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hltla",
                        "name": "hltla",
                        "displayName": "Harry Tarnz",
                        "active": true
                    },
                    "created": "2012-10-28T22:35:20.000+0000",
                    "updated": "2012-10-28T22:35:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52185",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Interestingly, I don't see this output on my system.\r\n\r\nI get:\r\n{code}\r\nJan 18, 2038 6:14:00 PM\r\nJan 18, 2038 6:15:00 PM\r\nJan 19, 2038 1:14:00 AM\r\nJan 19, 2038 1:15:00 AM\r\n{code}\r\n\r\nThis feels like it's related to timezone handling somewhere.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-06T20:27:00.000+0000",
                    "updated": "2012-11-06T20:27:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52186",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Another data point:\r\n\r\n{code}\r\ndate_default_timezone_set('Etc\/GMT-7');\r\n$d = new Zend_Date('01\/18\/2038 07:14 PM');\r\necho $d . PHP_EOL;\r\n$d = new Zend_Date('01\/18\/2038 07:15 PM');\r\necho $d . PHP_EOL;\r\n$d = new Zend_Date('01\/19\/2038 02:14 AM');\r\necho $d . PHP_EOL;\r\n$d = new Zend_Date('01\/19\/2038 02:15 AM');\r\necho $d . PHP_EOL;\r\n{code}\r\n\r\nresults in:\r\n\r\n{code}\r\nJan 18, 2038 7:14:00 PM\r\nJan 18, 2038 7:15:00 PM\r\nJan 19, 2038 2:14:00 AM\r\nJan 19, 2038 2:15:00 AM\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-06T20:38:30.000+0000",
                    "updated": "2012-11-06T20:38:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/53011",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hltla",
                        "name": "hltla",
                        "displayName": "Harry Tarnz",
                        "active": true
                    },
                    "body": "We've isolated this issue to 32-bit stacks.  64-bit stacks seem to work fine, probably because the longer work stacks have longer default integer number sizes (i.e., 64-bit as opposed to the smaller 32-bit).  One solution, if you see this issue, would be to move from a 32-bit to a 64-bit OS.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hltla",
                        "name": "hltla",
                        "displayName": "Harry Tarnz",
                        "active": true
                    },
                    "created": "2013-01-06T03:46:17.000+0000",
                    "updated": "2013-01-06T03:46:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/53012",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "@Harry\r\nThank you for the info!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2013-01-06T16:18:11.000+0000",
                    "updated": "2013-01-06T16:18:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/53511",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "This issue has been closed on Jira and moved to GitHub for issue tracking.  To continue following the resolution of this issues, please visit: https:\/\/github.com\/zendframework\/zf1\/issues\/28",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2013-04-05T16:07:12.000+0000",
                    "updated": "2013-04-05T16:07:12.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12456\/transitions"
}