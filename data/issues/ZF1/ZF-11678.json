{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11678",
    "key": "ZF-11678",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form_Decorator_Errors should allow empty errors"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11678\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2013-01-22T10:50:53.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                "name": "gore",
                "displayName": "Marc",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-08-17T07:57:24.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-01-22T10:50:53.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I tried to decorate my form with a table, like in this Tutorial:\r\nhttp:\/\/devzone.zend.com\/article\/3450\r\n\r\nThen I tried to enhance my form with AJAX in JQuery. I find it difficult to pass through the place where JQuery has to put the error messages, if theres no initial\r\n\"container\" with an Id. \r\n\r\nExample:\r\n\r\n{code}\r\n<td><input type=\"text\" name=\"field\"\/><\/td>\r\n{code}\r\n\r\nZend_Form contructs:\r\n\r\n{code}\r\n<td><input type=\"text\" name=\"username\"\/><\/td><td class=\"error\">The username is empty<\/td>\r\n{code}\r\n\r\nWith JQuery I can select the td with the class error, but only after the form was sent.\r\n\r\nBetter:\r\n{code}\r\n<td><input type=\"text\" name=\"field\"\/><\/td><td class=\"error\"><\/td>\r\n{code}\r\n\r\nI can select it now with JQuery to display an AJAX message and if I set a css width on it I could better handle the layout of the table.\r\n\r\nIn Zend_Form_Decorator_Errors on line 54 we could do something like:\r\n\r\n{code}\r\nif (!self::ALLOWEMPTY || empty($errors)) {\r\n    return $content;\r\n}\r\n{code}\r\n\r\nThat should \"fix\" it.\r\n\r\n\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11678\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alab",
                "name": "alab",
                "displayName": "Christian Albrecht",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10980",
                    "id": 10980,
                    "description": "Mini Release",
                    "name": "1.11.10",
                    "userReleaseDate": "04\/Aug\/11",
                    "archived": false,
                    "releaseDate": "2011-08-04",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47983",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "{quote}With JQuery I can select the td with the class error, but only after the form was sent.{quote}\r\nSorry, that's completely wrong. Use jQuery:\r\n{code:title=Example}\r\n<table>\r\n    <tr>\r\n        <td><input name=\"foo\" type=\"text\" id=\"foo\" \/><\/td>\r\n    <\/tr>\r\n<\/table>\r\n<script type=\"text\/javascript\">\r\n    $('#foo').parent('td').after('<td class=\"error\">My error message<\/td>');\r\n\r\n    \/\/ or\r\n\r\n    $('input[name=foo]').parent('td').after('<td class=\"error\">My error message<\/td>');\r\n<\/script>\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-08-17T08:43:26.000+0000",
                    "updated": "2011-08-17T08:43:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47987",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "Maybe you should have read better or I should express myself better ;)\r\nBut, there is no td the first time, because the error decorator only decorates if there is an error.\r\nAnd if there is nothing, I can\u00b4t select it with jquery.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2011-08-17T20:50:40.000+0000",
                    "updated": "2011-08-17T20:50:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47989",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "But I see what u did there, but it does not solve the problem. The whole purpose is that u don\u00b4t know in JS where the decorator puts the error messages. With your solution you have to know where the JS has to put the error message. If theres a container in the first place which is correctly placed via decorator we could use it and don\u00b4t have to worry about placing in js.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2011-08-17T20:56:01.000+0000",
                    "updated": "2011-08-17T20:56:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47993",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Hi Marc,\r\nthe keyword is: [Unobtrusive JavaScript|http:\/\/en.wikipedia.org\/wiki\/Unobtrusive_JavaScript]!\r\n{quote}With your solution you have to know where the JS has to put the error message.{quote}\r\nYou are the author\/developer and you know it! ;)\r\n{quote}If theres a container in the first place\u2026{quote}\r\n\u2026it is a very bad style. Do not add elements with no semantic meaning or without any content.\r\n\r\nThere is another problem:\r\n{code}<html>\r\n<head>\r\n<style type=\"text\/css\">\r\n    .error {\r\n        padding: 5px;\r\n        background-color: #F00;\r\n        color: #FFF;\r\n        font-weight: bold;\r\n        margin: 10px 0;\r\n    }\r\n<\/style>\r\n<\/head>\r\n<body>\r\n<form>\r\n    <div>\r\n    \t<label for=\"foo\">Foo<\/label>\r\n    \t<input name=\"foo\" type=\"text\" id=\"foo\" \/>\r\n        <p class=\"error\"><\/p>\r\n    <\/div>\r\n<\/form>\r\n<\/body>\r\n<\/html>\r\n{code}\r\nNow we always see the big red error box - with and without error messages.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-08-18T06:50:54.000+0000",
                    "updated": "2011-08-18T06:50:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47994",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "No, I don\u00b4t know it, because the Decorator can be anything and put the error everywhere. The Problem occurs if I change the decorators, now I have to maintain the code at 2 different places to account for the changes.\r\n\r\nIn this use case its a table, there will be empty td all the time. \r\n\r\nTo your other problem, its not a problem, because the standard behavior should be to not show the empty tag. But if u need it, you should be able to change that. And I for myself have a valid use case where I need it.\r\nImagine a generated form with dozens of input, the form generates all your stuff, but the JS u have to change for every input if u change something at the decorator.\r\n\r\nMaybe I should mention that I build a custom formText view helper for that purpose which extends ZendX_JQuery_View_Helper_UiWidget.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2011-08-18T07:35:53.000+0000",
                    "updated": "2011-08-18T07:35:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47995",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "Forgot to say that I have to manually change that behavior and then I\u00b4m sure that I don\u00b4t do anything fancy to show some red boxes ;)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2011-08-18T07:37:35.000+0000",
                    "updated": "2011-08-18T07:37:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47996",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "My suggestion: write a error decorator for ZendX_JQuery which adds the JavaScript automatically.\r\n\r\nBy the way: Forms are not tabular data! (We no longer have 1997)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-08-18T08:02:31.000+0000",
                    "updated": "2011-08-18T08:02:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47997",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "body": "Maybe you should tell Matthew that, because he did that in the tutorial above ;)\r\n\r\nAnd the JQuery should be part of the form element, as in every element in the ZendX.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gore",
                        "name": "gore",
                        "displayName": "Marc",
                        "active": true
                    },
                    "created": "2011-08-18T08:11:08.000+0000",
                    "updated": "2011-08-18T08:11:08.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11678\/transitions"
}