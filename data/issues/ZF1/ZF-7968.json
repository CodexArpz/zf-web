{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7968",
    "key": "ZF-7968",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "ZendX_JQuery_Form_Element's not working without layout"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7968\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-29T03:18:54.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                "name": "avantis",
                "displayName": "Cristian Bichis",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-09-28T13:01:13.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-01-29T03:18:54.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi,\n\nI am not 100% sure about the problem as i didn't reduced the code to minimal.\n\nBut there are working the ZendX_JQuery_Form_Element's elements without a layout ?\n\nI was trying to generate by Ajax a subform, and at rendering the jquery and jquery ui libraries are loaded quite fine, also the form is displayed correctly, just that is not rendered at all the javascript to initialize the datepicker.\n\nIf i make the request not disable the layout then the JS side is rendered fine.\n\n<script type=\"text\/javascript\">\n\/\/<![CDATA[\n$(document).ready(function() {\n    $(\"#test-1-start_date\").datepicker({\"showOn\":\"both\",\"showStatus\":\"true\",\"buttonImage\":\"\\\/admin\\\/library\\\/jqueryui\\\/media\\\/calendar.gif\",\"buttonImageOnly\":\"true\",\"dateFormat\":\"yy-mm-dd\",\"changeMonth\":\"true\",\"changeYear\":\"true\"});\n);\n\/\/]]>\n\n<\/script>\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7968\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                "name": "beberlei",
                "displayName": "Benjamin Eberlei",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10362",
                    "id": 10362,
                    "description": "Mini Release",
                    "name": "1.9.3",
                    "userReleaseDate": "22\/Sep\/09",
                    "archived": false,
                    "releaseDate": "2009-09-22",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10360",
                    "id": 10360,
                    "name": "ZendX_JQuery",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34954",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "It depends on where you call to render the Javascript.\n\nLayout is renedered after all the views, that way a call in the header to jQuery render() catches all the \"previous\" calls in the view.\n\nHowever without a layout you have to render jQuery at the bottom of the view.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2009-09-28T14:28:26.000+0000",
                    "updated": "2009-09-28T14:28:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34959",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "Ok, thanks, the JS with setting the datepicker is added the way you proposed (maybe would be useful to add a mention to documentation as well), so you're right...\n\nHowever, still there is a problem: the JS doesn't seems to be executed, so datepicker is not actually working.\n\nI suppose this is due to fact the JS is added with $(document).ready(function() , and since the document has been loaded before the code for setting the datepicker doesn't get executed.\n\nThere is a way to make this works also ?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2009-09-29T03:15:12.000+0000",
                    "updated": "2009-09-29T03:15:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35046",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "For me document.ready works inside <body> also. I am not very familiar with the semantics though.\n\nWhat would you suggest instead as code at this place?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2009-10-02T02:43:43.000+0000",
                    "updated": "2009-10-02T02:43:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35055",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "Hi,\n\nI think was a confusion. Is not about the fact that the JS code doesn't work if added on body under a normal request (non-ajax).\n\nIf i have an ajax request and i am adding dynamically (using an ajax request) the datepicker to the main form (from the page which made the ajax request), the entire code is placed without no problem.\n\nProblem is the document.ready of datepicker is added AFTER the page was created, because is sent by Ajax. So, this document.ready is NOT executed then. So datepicker (or other ZendX_JQuery view helpers\/form elements won't work).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2009-10-02T07:20:16.000+0000",
                    "updated": "2009-10-02T07:20:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35208",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "I got more info related to the issue.\n\nOn IE all works fine. However, on FF no, the javascript code inserted by Ajax call doesn't get executed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2009-10-14T05:06:36.000+0000",
                    "updated": "2009-10-14T05:06:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38110",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "body": "Its a common problem that can't be solved with ZendX_JQuery, you have to add the jQuery to render the element as datepicker using the addOnLoad() method.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=beberlei",
                        "name": "beberlei",
                        "displayName": "Benjamin Eberlei",
                        "active": true
                    },
                    "created": "2010-01-29T03:18:44.000+0000",
                    "updated": "2010-01-29T03:18:44.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7968\/transitions"
}