{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9531",
    "key": "ZF-9531",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Incorrect headers when used with other services."
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9531\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/11182",
                    "id": 11182,
                    "description": "Mini Release",
                    "name": "1.12.1",
                    "userReleaseDate": "18\/Dec\/12",
                    "archived": false,
                    "releaseDate": "2012-12-18",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-28T11:59:46.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dustins",
                "name": "dustins",
                "displayName": "Dustin Sweigart",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-03-24T09:25:50.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-28T11:59:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I was using this after I ran akismet to check for spam and was getting errors. The problem was that headers set by akismet were not reset before recaptcha sent it's request. This can cause unexpected results or errors. What was actually happening in my instances is the Host header was not reset and the recaptcha server wouldn't respond to the incorrect domain.\r\n\r\nI noticed this happening in 1.7.4 and it seemed to be a problem up until at least 1.10"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9531\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                "name": "cogo",
                "displayName": "Christer Edvartsen",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10313",
                    "id": 10313,
                    "name": "Zend_Service_ReCaptcha",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52902",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "@Rob I can have a look a this in a couple of days if it's an issue we want to fix. The issue might be present in ZendService_ReCaptcha as well. Shall I see if I can fix it?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-20T22:50:41.000+0000",
                    "updated": "2012-11-20T22:50:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52904",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Yes please!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-21T07:05:38.000+0000",
                    "updated": "2012-11-21T07:05:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52924",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "Shall I do the commit(s) against trunk and then merge them into the release-1.11 branch? I haven't been doing any contributions in ZF1 for ages, so don't really remember the flow.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-21T11:43:26.000+0000",
                    "updated": "2012-11-21T11:43:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52925",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "That's exactly right. \r\n\r\nCommit to trunk and then merge to release-1.12 though!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-21T11:47:13.000+0000",
                    "updated": "2012-11-21T11:47:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52926",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "Ah, sorry, typo. :) Will have a look at the issue sometime this week. I can have a look at the ZendService_ReCaptcha component as well and see if it has the same issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-21T11:54:04.000+0000",
                    "updated": "2012-11-21T11:54:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52932",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "This commit should fix this issue:\r\n\r\nhttp:\/\/framework.zend.com\/code\/revision.php?repname=Zend+Framework&path=%2F&rev=25147&peg=25147\r\n\r\nIn the code below the call to $recaptcha->verify() failed even when the correct values where entered into the captcha. After the fix this snippet works as expected.\r\n\r\n{code}\r\n<?php\r\n$akismet = new Zend_Service_Akismet($key, $url);\r\nvar_dump($akismet->isSpam(array(\r\n  \/\/ Some params\r\n)));\r\n\r\n$recaptcha = new Zend_Service_ReCaptcha($publicKey, $privateKey, null, null, $ip);\r\n\r\necho \"<form method=\\\"post\\\">\";\r\necho $recaptcha;\r\necho \"<input type=\\\"submit\\\" \/><\/form>\";\r\n\r\nif (!empty($_POST)) {\r\n  var_dump(\r\n    $recaptcha->verify(\r\n      $_POST['recaptcha_challenge_field'], \r\n      $_POST['recaptcha_response_field']\r\n    )\r\n  );\r\n}\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T10:31:44.000+0000",
                    "updated": "2012-11-28T10:31:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52937",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "body": "Fixed in http:\/\/framework.zend.com\/code\/revision.php?repname=Zend+Framework&path=%2F&rev=25151&peg=25151",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cogo",
                        "name": "cogo",
                        "displayName": "Christer Edvartsen",
                        "active": true
                    },
                    "created": "2012-11-28T11:59:46.000+0000",
                    "updated": "2012-11-28T11:59:46.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9531\/transitions"
}