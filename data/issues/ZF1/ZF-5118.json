{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5118",
    "key": "ZF-5118",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend Amf does not properly handle exceptions thrown by a service"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5118\/votes",
                "votes": 4,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                "name": "naneau",
                "displayName": "Maurice Fonk",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-12-01T03:19:37.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-07-08T20:43:12.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When an exception is thrown inside a service class, Zend_Amf will catch it, but it will not return a \"proper\" AMF response to the client. This really gets in the way of properly debugging the service. After an exception is thrown, the output changes to: \"<p>Zend Amf Endpoint<\/p>\" which can not be parsed by a client expecting an AMF response.\n\nIt's not possible to make Zend_Amf not catch exceptions, so it's hard to get around this. "
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5118\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                "name": "wadearnold",
                "displayName": "Wade Arnold",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11936",
                    "filename": "005-Zend_Amf_Server.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "created": "2009-05-20T02:51:45.000+0000",
                    "size": 1650,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11936\/005-Zend_Amf_Server.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5364",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5364",
                    "type": {
                        "name": "Sub-Task",
                        "direction": "OUTBOUND"
                    }
                }
            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10260",
                    "id": 10260,
                    "description": "Minor Release",
                    "name": "1.7.0",
                    "userReleaseDate": "17\/Nov\/08",
                    "archived": false,
                    "releaseDate": "2008-11-17",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10350",
                    "id": 10350,
                    "name": "Zend_Amf",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26895",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "body": "set component name and auto assign again",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yoshida@zend.co.jp",
                        "name": "yoshida@zend.co.jp",
                        "displayName": "old of Satoru Yoshida",
                        "active": true
                    },
                    "created": "2008-12-02T05:50:28.000+0000",
                    "updated": "2008-12-02T05:50:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26946",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "I suppose what I'm trying to say is, it would be an extremely welcome addition to Zend_Amf if it had some kind of \"debug\" mode, where it has ways of recording php errors\/thrown exceptions. Right now it pushed an (empty!) errormessage to the client, which makes it impossible to debug on that end. You can't put a try\/catch block around the server code either, because it catches any exceptions internally.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2008-12-04T04:44:04.000+0000",
                    "updated": "2008-12-04T04:44:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26951",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "I agree thanks for your advice. I will add it into the next minor release. Please continue giving workflow feedback like this! ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2008-12-04T08:22:09.000+0000",
                    "updated": "2008-12-04T08:22:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27898",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "body": "This is already resolved by the setProduction(false) trick, right?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "created": "2009-01-09T07:15:39.000+0000",
                    "updated": "2009-01-09T07:15:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27900",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "Yes you get the detailed php error message through setProduction(false). Otherwise you will just receive the error code. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-01-09T07:20:20.000+0000",
                    "updated": "2009-01-09T07:20:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27903",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "Can you confirm it doesn't give back \"<p>Zend Amf Endpoint<\/p>\" as the body even with setProduction(true) ? Because that results in errors on the flex side",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-01-09T07:22:51.000+0000",
                    "updated": "2009-01-09T07:22:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27906",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "I will write an example to confirm and add it to the documentation. \n\nwade\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-01-09T07:27:00.000+0000",
                    "updated": "2009-01-09T07:27:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30341",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mojojojo",
                        "name": "mojojojo",
                        "displayName": "Nikita Y Volkov",
                        "active": true
                    },
                    "body": "SetProduction(false) trick is nice but no need to explain that you can't apply it in production environment. So an evident question appears: how do you track errors on production environment? I found the answer to be \"you can't\". \n\nI bet a lot of developers would love to have ability to log errors in this case. So maybe consider something similar to Zend MVC's ErrorController solution?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mojojojo",
                        "name": "mojojojo",
                        "displayName": "Nikita Y Volkov",
                        "active": true
                    },
                    "created": "2009-04-23T11:12:15.000+0000",
                    "updated": "2009-04-23T11:12:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30343",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "I will check out how they implemented it. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-04-23T11:53:56.000+0000",
                    "updated": "2009-04-23T11:53:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30507",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "body": "It would be nice to at least have the option to  set a callback that will get called when an exception is caught by the AMF server. That and a proper set_error_handler() would be enough to log problems to disk. The option to be able to log the response before it is encoded to disk is also nice. To debug this sort of thing now I have to \"fake\" a request using my browser and log the response there.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=naneau",
                        "name": "naneau",
                        "displayName": "Maurice Fonk",
                        "active": true
                    },
                    "created": "2009-04-29T04:56:52.000+0000",
                    "updated": "2009-04-29T04:56:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30537",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gordon",
                        "name": "gordon",
                        "displayName": "Gordon Potter",
                        "active": true
                    },
                    "body": "Anything that could be added to the documentation around proper debugging techniques and solutions would be very welcome. I find trying to resolve what when wrong on the PHP side from within Flex a little more painful than it should be. To make matters worse there seem to be specific scenarios where Zend AMF fails, no errors arise in the PHP server logs, and the Flex client just barfs up its Delivery in Doubt messages. These silent errors are very aggravating when trying to resolve a bug on a deadline.\n\nIn traditional PHP+HTML development the browser tells you right away if something is wrong on the server. Inside flex the errors don't come trough as transparently. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gordon",
                        "name": "gordon",
                        "displayName": "Gordon Potter",
                        "active": true
                    },
                    "created": "2009-04-29T21:26:46.000+0000",
                    "updated": "2009-04-29T21:26:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30543",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mojojojo",
                        "name": "mojojojo",
                        "displayName": "Nikita Y Volkov",
                        "active": true
                    },
                    "body": "Totally agree with Gordon.\n\nAs a possible solution I propose to surround the execution of operation block inside Zend_Amf with try-catch and thus accumulate exceptions, than throw them when it comes to Zend_Amf_Server::handle() calling. The behaviour of this could be controlled by some additional settings to Zend_Amf.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mojojojo",
                        "name": "mojojojo",
                        "displayName": "Nikita Y Volkov",
                        "active": true
                    },
                    "created": "2009-04-30T03:52:20.000+0000",
                    "updated": "2009-04-30T03:52:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31165",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "body": "As I needed the discussed functionality and to get this issue rolling I propose the attached modification to the Server. \n\nRegards Stefan",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "created": "2009-05-20T02:51:47.000+0000",
                    "updated": "2009-05-20T02:51:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47404",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mganko",
                        "name": "mganko",
                        "displayName": "Micha\u0142 Ga\u0144ko",
                        "active": true
                    },
                    "body": "Some time ago I created *ExtraLoggingZendAmfServer* class. It has one additional method *setExceptionHandler* which gets class name or instance of class and the name of the method in this class to execute when exception happens.\r\nSee here: [http:\/\/www.flexphperia.net\/en\/php-with-flex\/error-logging-in-zend-amf-server]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mganko",
                        "name": "mganko",
                        "displayName": "Micha\u0142 Ga\u0144ko",
                        "active": true
                    },
                    "created": "2011-07-08T20:43:12.000+0000",
                    "updated": "2011-07-08T20:43:12.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5118\/transitions"
}