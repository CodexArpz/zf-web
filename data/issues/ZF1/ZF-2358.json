{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2358",
    "key": "ZF-2358",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Service_Yahoo::webSearch 'site' option"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2358\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10380",
                    "id": 10380,
                    "description": "Mini Release",
                    "name": "1.9.5",
                    "userReleaseDate": "27\/Oct\/09",
                    "archived": false,
                    "releaseDate": "2009-10-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-10-16T19:09:29.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jonathan_maron",
                "name": "jonathan_maron",
                "displayName": "Jonathan Maron",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-12-27T22:05:40.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-10-16T19:09:30.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The 'site' option of Zend_Service_Yahoo::webSearch does not work. Whenever it is specified, nothing is returned.\n\nFor example, when searching for \"mysql\" on \"www.php.net\", many results are returned:\n\nhttp:\/\/search.yahoo.com\/search;_ylt=A0geu9VfanRHn3MApo1XNyoA?p=site%3Awww.php.net+mysql&y=Search&fr=sfp&ei=UTF-8\n\nSimilarly, calling the REST API directly returns results:\n\nhttp:\/\/search.yahooapis.com\/WebSearchService\/V1\/webSearch?appid=YAHOO_ID&query=mysql&results=10&site=www.php.net\n\nHowever, doing the same with \"Zend Framework 1.0.3\", nothing is returned. \n\nUsing PEAR's Services_Yahoo_Search component, the results are returned correctly.\n\nSample Code:\n\n{code}\/\/ ----------------------------------------------------------------------\n\n\/\/ Zend Framework 1.0.3\n\ninclude_once 'Zend\/Service\/Yahoo.php';\n\n$yahoo = new Zend_Service_Yahoo('YAHOO_ID');\n\n$results = $yahoo->webSearch('mysql', array('site' => 'www.php.net'));\n\nforeach ($results as $result)\n{\n    echo $result->Title . '<br \/>';\n}\n\necho \"<hr \/>\";\n\n\/\/ ----------------------------------------------------------------------\n\n\/\/ PEAR\n\ninclude_once 'Services\/Yahoo\/Search.php';\n\n$yahoo = Services_Yahoo_Search::factory('web');\n$yahoo->setAppId('YAHOO_ID');\n$yahoo->setSites(array('www.php.net'));\n$yahoo->setQuery('mysql');\n\n$results = $yahoo->submit();\n\nforeach ($results as $result)\n{\n\techo $result['Title'] . '<br \/>';\n}{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2358\/watchers",
                "isWatching": false,
                "watchCount": 6
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=klassicd",
                "name": "klassicd",
                "displayName": "michael depetrillo",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10140",
                    "id": 10140,
                    "description": "Mini Release",
                    "name": "1.0.3",
                    "userReleaseDate": "30\/Nov\/07",
                    "archived": true,
                    "releaseDate": "2007-11-30",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10024",
                    "id": 10024,
                    "name": "Zend_Service_Yahoo",
                    "description": "utility functions for using Yahoo web services",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/18103",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "body": "I investigated the issue.\nHere's a few notes:\n\nThis is the URI queried by Zend_Service_Yahoo\nhttp:\/\/search.yahooapis.com\/WebSearchService\/V1\/webSearch?type=all&start=1&language=en&license=any&results=10&format=any&site=www.php.net&appid=API_KEY&query=mysql\n\nI tried to remove each default parameter and I discovered _license_ parameter can cause some problem when _site_ is not empty, even if _any_ is the default value.\nI would suggest to remove the default value and left the parameter empty.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "created": "2007-12-28T17:23:52.000+0000",
                    "updated": "2007-12-28T17:23:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/18290",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=caomhin",
                        "name": "caomhin",
                        "displayName": "Kevin Golding",
                        "active": true
                    },
                    "body": "Interesting this query has the \"any\" license set but returns 511 results:\n\nhttp:\/\/search.yahooapis.com\/WebSearchService\/V1\/webSearch?type=all&start=1&language=en&license=any&results=10&format=any&site=www.flickr.com&appid=API_KEY&query=mysql\n\nAll that changed is the site searched against.  It seems Yahoo aren't consistent in their handling of the matter.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=caomhin",
                        "name": "caomhin",
                        "displayName": "Kevin Golding",
                        "active": true
                    },
                    "created": "2008-01-11T12:40:22.000+0000",
                    "updated": "2008-01-11T12:40:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20095",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "This issue should have been fixed for the 1.5 release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-21T17:05:31.000+0000",
                    "updated": "2008-03-21T17:05:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20806",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jonathan_maron",
                        "name": "jonathan_maron",
                        "displayName": "Jonathan Maron",
                        "active": true
                    },
                    "body": "It seems that in Zend Framework 1.5.1, the problem is still not solved.\n\nThe following code does not return any results:\n\n{noformat}\/\/ Zend Framework 1.5.1\n\ninclude_once 'Zend\/Service\/Yahoo.php';\n\n$yahoo = new Zend_Service_Yahoo('YAHOO_ID');\n\n$results = $yahoo->webSearch('mysql', array('site' => 'www.php.net'));\n\nforeach ($results as $result)\n{\n    echo $result->Title . '<br \/>';\n}\n\necho \"<hr \/>\";{noformat}\n\nRemoving the \", array('site' => 'www.php.net')\" part of \"webSearch\" and executing again, returns results.\n\nI personally think that Zend_Service_Yahoo::webSearch, with the 'site' option is a great way to implement a \"site search\" feature on anyway.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jonathan_maron",
                        "name": "jonathan_maron",
                        "displayName": "Jonathan Maron",
                        "active": true
                    },
                    "created": "2008-04-11T02:28:18.000+0000",
                    "updated": "2008-04-11T02:28:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20808",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=caomhin",
                        "name": "caomhin",
                        "displayName": "Kevin Golding",
                        "active": true
                    },
                    "body": "All the testing I've done suggests there's an inconsistency at Yahoo's end.  I think \"fixing\" it in ZF will be more a case of adding workarounds and exceptions to wrangle the results when we hit bad resultsets like mysql on php.net.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=caomhin",
                        "name": "caomhin",
                        "displayName": "Kevin Golding",
                        "active": true
                    },
                    "created": "2008-04-11T03:33:57.000+0000",
                    "updated": "2008-04-11T03:33:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20989",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "This doesn't appear to have been fixed in 1.5.0. Please update if this is not correct.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-04-18T13:11:56.000+0000",
                    "updated": "2008-04-18T13:11:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/21731",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "body": "@ Jonathan Maron\nAFAIK nothing has been done to fix the issue for ZF 1.5 thus it's normal the issue still appears.\n\nIf I have a few minutes in the next days I'll give it a look.\nNeedless to say, patches are always welcomed from everyone. :)\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "created": "2008-05-13T15:30:47.000+0000",
                    "updated": "2008-05-13T15:30:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22084",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Simone, could you please look at this and fix the bug or close the issue? Time to get some closure. :)\n\nThanks!\n,Wil",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-06-02T06:29:49.000+0000",
                    "updated": "2008-06-02T06:29:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22110",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "body": "Hi Wil,\nI'll try to give it a look. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=weppos",
                        "name": "weppos",
                        "displayName": "Simone Carletti",
                        "active": true
                    },
                    "created": "2008-06-04T03:52:45.000+0000",
                    "updated": "2008-06-04T03:52:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22602",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mrp",
                        "name": "mrp",
                        "displayName": "Milan Momcilovic",
                        "active": true
                    },
                    "body": "Hi all,\n\nThe license parameter causes problems. I tested the Yahoo web search service from my browser using the following URI:\n\nhttp:\/\/search.yahooapis.com\/WebSearchService\/V1\/webSearch?appid=YAHOO_API_KEY&query=Godfather&results=2&license=any\n\nIMO, this should return the results from IMDB but it returns only results from Digg, which the license option ('license=any') does not work correctly. \n\nWhen license parameter is not used at all, the correct results are returned - try this:\n\nhttp:\/\/search.yahooapis.com\/WebSearchService\/V1\/webSearch?appid=YAHOO_API_KEY&query=Godfather&results=2\n\n\nTherefore, I think that the \"license\" option should be removed from  $defaultOptions for now, until Yahoo guys fix this problem.\n\n\nThanks,\nMilan",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mrp",
                        "name": "mrp",
                        "displayName": "Milan Momcilovic",
                        "active": true
                    },
                    "created": "2008-06-21T11:17:28.000+0000",
                    "updated": "2008-06-21T11:17:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30956",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=uniqueculture",
                        "name": "uniqueculture",
                        "displayName": "Sergei Izvorean",
                        "active": true
                    },
                    "body": "This is still an issue in ZF 1.8.0. However the problem seems to be with Yahoo as it doesn't return any results if \"license\" parameter is present in REST query string. Once the parameter is removed everything works fine. I've done couple test using just a browser and modifying the query string.\n\nJust need an option not to include \"license\" parameter in Zend_Yahoo_Service. Currently it is validated and cannot be omitted. \n\nThanks, Sergei",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=uniqueculture",
                        "name": "uniqueculture",
                        "displayName": "Sergei Izvorean",
                        "active": true
                    },
                    "created": "2009-05-13T19:21:09.000+0000",
                    "updated": "2009-05-13T19:21:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35322",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=klassicd",
                        "name": "klassicd",
                        "displayName": "michael depetrillo",
                        "active": true
                    },
                    "body": "I've removed 'license' from the default option array.  Site searches now work. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=klassicd",
                        "name": "klassicd",
                        "displayName": "michael depetrillo",
                        "active": true
                    },
                    "created": "2009-10-16T19:09:29.000+0000",
                    "updated": "2009-10-16T19:09:29.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2358\/transitions"
}