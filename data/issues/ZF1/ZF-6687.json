{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6687",
    "key": "ZF-6687",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Tool_Framework_Loader_Abstract class is raised lots of warnings in load method. (Zend_Tool_Framework_Loader_Abstract::load)"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6687\/votes",
                "votes": 5,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-10-16T22:25:38.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zekefast",
                "name": "zekefast",
                "displayName": "Zeke Fast",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-16T07:20:42.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-10-16T22:25:39.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "To reproduce this bug install the zf from zfcampus.org by using pear installer.\n\nThen just run a zf command which is the cause of tons of warnings.\n\n\nWarnings is generated by include_once function in Zend_Tool_Framework_Loader_Abstract::load method when it tries to include all the files it find in include_path.\n\nTo avoid this problems: just set @ before the include_once function, but probably framework developers should pay more attention to this problems.\n\nAffected code fragment with fixed error:\n{code}\n        \/\/ loop through files and find the classes declared by loading the file\n        foreach ($this->_retrievedFiles as $file) {\n            $classesLoadedBefore = get_declared_classes();\n            $oldLevel = error_reporting(E_ALL | ~E_STRICT); \/\/ remove strict so that other packages wont throw warnings\n            \/\/ should we lint the files here? i think so\n@            include_once $file;\n            error_reporting($oldLevel); \/\/ restore old error level\n            $classesLoadedAfter = get_declared_classes();\n            $loadedClasses = array_merge($loadedClasses, array_diff($classesLoadedAfter, $classesLoadedBefore));\n        }\n{code}\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/6",
                "name": "N\/A"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6687\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12094",
                    "filename": "zf-6687.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "created": "2009-07-22T01:03:43.000+0000",
                    "size": 751,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12094\/zf-6687.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10380",
                    "id": 10380,
                    "name": "Zend_Tool",
                    "description": "Zend_Tool component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32256",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Can you provide the warnings produced in a comment here?\n\nThanks, Ralph",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-06-28T16:19:56.000+0000",
                    "updated": "2009-06-28T16:19:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32827",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "body": "I get the same type of error repeated many times. I am on php 5.3.0 however.\n\nWarning: include_once(): Failed opening '\/usr\/local\/lib\/php\/PHPUnit\/TextUI' for inclusion (include_path='\/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/library:.:\/usr\/local\/lib\/php') in \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/library\/Zend\/Tool\/Framework\/Loader\/Abstract.php on line 90\n\nCall Stack:\n    0.0005     335828   1. {main}() \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/bin\/zf.php:0\n    0.0169     829996   2. Zend_Tool_Framework_Client_Console::main() \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/bin\/zf.php:77\n    0.0170     830600   3. Zend_Tool_Framework_Client_Abstract->dispatch() \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/library\/Zend\/Tool\/Framework\/Client\/Console.php:86\n    0.0170     830600   4. Zend_Tool_Framework_Client_Abstract->initialize() \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/library\/Zend\/Tool\/Framework\/Client\/Abstract.php:192\n    0.0198     944160   5. Zend_Tool_Framework_Loader_Abstract->load() \/media\/sdb1\/giorgio\/vendor\/ZendFramework-1.8.4PL1\/library\/Zend\/Tool\/Framework\/Client\/Abstract.php:101\n\nThis stack trace is repeated for every subdirectory in my include_path, \/usr\/local\/lib\/php. It seems that the IncludePathLoader\/RecursiveFilterIterator class is correctly filtering out phpunit files but not directories.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "created": "2009-07-22T00:32:20.000+0000",
                    "updated": "2009-07-22T00:32:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32828",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "body": "Quick fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "created": "2009-07-22T01:04:08.000+0000",
                    "updated": "2009-07-22T01:04:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32829",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "body": "IncludePathLoader::_getFiles() returns the directories from the Pear installation. I attached a quick fix to exclude all directories not filtered since it is not possible to include_once a directory.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=giorgiosironi",
                        "name": "giorgiosironi",
                        "displayName": "Giorgio Sironi",
                        "active": true
                    },
                    "created": "2009-07-22T01:06:09.000+0000",
                    "updated": "2009-07-22T01:06:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33074",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=baohx",
                        "name": "baohx",
                        "displayName": "Gordon Forsythe",
                        "active": true
                    },
                    "body": "Having this issue as well.  PHP5.3.  The patch works.  Hopefully this will go into 1.9 soon.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=baohx",
                        "name": "baohx",
                        "displayName": "Gordon Forsythe",
                        "active": true
                    },
                    "created": "2009-07-30T14:34:36.000+0000",
                    "updated": "2009-07-30T14:34:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34200",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gmanuel",
                        "name": "gmanuel",
                        "displayName": "Grover Manuel Campos Ancajima",
                        "active": true
                    },
                    "body": "I think the solution is other, in load method:\n\nChange this line:\n{code}\n      $oldLevel = error_reporting(E_ALL | ~E_STRICT); \/\/ remove strict so that other packages wont throw warnings\n{code}\n\nFor this:\n{code}\n            $oldLevel = ini_get('error_reporting'); \/\/ remove strict so that other packages wont throw warnings\n{code}\n\nIn order get the error_reporting of php.ini and don't setup an arbitrary error_reporting code.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gmanuel",
                        "name": "gmanuel",
                        "displayName": "Grover Manuel Campos Ancajima",
                        "active": true
                    },
                    "created": "2009-09-02T14:59:20.000+0000",
                    "updated": "2009-09-02T14:59:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35336",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Marking as not an issue.  In 1.10, the behavior will be to NOT use the includePathLoader which has been causing all sorts of issues.\r\n\r\nIN this issue, the problem is that the current user does not have the correct permissions to traverse directories, and as such, directories are being returned to be incldued (which is bad behavior).\r\n\r\nIn 1.10, we willl default to what is called the \"BasicLoader\" (this is already in incubator and working).  This is a better approach as it will only load what it is told to load.  Developers will be able to extend Zend_Tool via the config (ini) file for Zend_Tool, another featuer that is part of 1.10.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-10-16T22:25:38.000+0000",
                    "updated": "2009-10-16T22:25:38.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6687\/transitions"
}