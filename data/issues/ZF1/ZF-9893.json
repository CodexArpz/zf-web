{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9893",
    "key": "ZF-9893",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Auth_Adapter_Ldap 1.10.4 not compatible with 1.9"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9893\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-09-22T10:08:19.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=arthurliu1999",
                "name": "arthurliu1999",
                "displayName": "Arthur Liu",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-05-26T13:50:12.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-09-22T10:08:19.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "\r\nI just switched from zendFramework 1.9.4 to 1.10.4, and the Zend_Auth_Adapter_Ldap stopped working.\r\n\r\nI tried to replace the lib with the old 1.9.4 library tree (left other parts of the framework to 1.10.4), and everything worked fine. I switched the library between the 2 versions several times and verified that was the piece which made difference.\r\n\r\nHere is the ini file \r\n\r\nldap.server1.host = myhost.mydomain.com\r\nldap.server1.accountDomainName = mydomain.com\r\nldap.server1.accountDomainNameShort = mydomain\r\nldap.server1.accountCanonicalForm = 3\r\nldap.server1.username = \"CN=myusername,CN=Users,DC=net,DC=com\"\r\nldap.server1.password = \"mypass\"\r\nldap.server1.baseDn = \"DC=net,DC=com\"\r\n\r\nThe code:\r\n  \/\/ get $username , $password from input.\r\n  $config = Zend_Registry::get('config');\r\n  $options = $config->ldap->toArray();\r\n  $adapter = new Zend_Auth_Adapter_Ldap($options, $username , $password);\r\n  $authresult = $this->_auth->authenticate($adapter);\r\n\r\nThe log:\r\n\r\nLdap 0: Invalid credentials\r\nLdap 1: 0x31 (Invalid credentials; 80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 525, vece): CN=myusername,CN=Users,DC=mydomain,DC=com\r\nLdap 2: host=myhost.mydomain.com,accountDomainName=mydomain.com,accountDomainNameShort=mydomain,accountCanonicalForm=3,username=CN=myusername,CN=Users,DC=mydomain,DC=com,password=*****,baseDn=DC=mydomain,DC=com\r\nLdap 3: liua authentication failed: 0x31 (Invalid credentials; 80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 525, vece): CN=myusername,CN=Users,DC=mydomain,DC=com\r\n\r\nI checked the 1.10 document http:\/\/framework.zend.com\/manual\/en\/zend.auth.adapter.ldap.html, the ladp sample code looks fine with my code. \r\n\r\nWhat needs to be changed? Is this documented somewhere ? \r\n\r\nThanks\r\n\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9893\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                "name": "sgehrig",
                "displayName": "Stefan Gehrig",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10451",
                    "id": 10451,
                    "description": "Mini Release",
                    "name": "1.10.4",
                    "userReleaseDate": "28\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10280",
                    "id": 10280,
                    "name": "Zend_Auth_Adapter_Ldap",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41240",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "It seems that you're trying to authenticate against an Active Directory server.\r\n\r\nCan you please try to remove \r\n\r\n{code}\r\nldap.server1.username = \"CN=myusername,CN=Users,DC=net,DC=com\"\r\nldap.server1.password = \"mypass\"\r\n{code}\r\n\r\nfrom your configuration and try if you can authenticate? Normally the username and password settings are only required for LDAP servers that only allow DB-binds and the adapter has to retrieve the correct DN prior to authentication (this is for example true for an OpenLDAP server). Active Directory on the other hand can bind users with their DN, their fully qualified username (such as DOMAIN\\user or user@domain.local) and depending on the configuration even with their domain-less plain username.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-06-29T01:41:13.000+0000",
                    "updated": "2010-06-29T01:41:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42330",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "body": "No feedback from OP - issue closed\r\n\r\nmost likely a configuration issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgehrig",
                        "name": "sgehrig",
                        "displayName": "Stefan Gehrig",
                        "active": true
                    },
                    "created": "2010-09-22T10:08:19.000+0000",
                    "updated": "2010-09-22T10:08:19.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9893\/transitions"
}