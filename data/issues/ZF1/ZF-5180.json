{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5180",
    "key": "ZF-5180",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "findParentRow with Zend_Db::CASE_LOWER"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5180\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:29.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andrewsharpe79",
                "name": "andrewsharpe79",
                "displayName": "Andrew Sharpe",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-12-07T17:30:26.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:29.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Oracle"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When setting Zend_Db::CASE_FOLDING => Zend_Db::CASE_LOWER a call to getParentRow($table) fails with the following message\n\n{code}\nException information:\n\nMessage: Invalid bind-variable position '?'\nStack trace:\n\n#0 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Statement.php(108): Zend_Db_Statement->_parseParameters('SELECT z2.*?   ...')\n#1 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Adapter\/Oracle.php(163): Zend_Db_Statement->__construct(Object(Zend_Db_Adapter_Oracle), 'SELECT z2.*?   ...')\n#2 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Adapter\/Abstract.php(429): Zend_Db_Adapter_Oracle->prepare('SELECT z2.*?   ...')\n#3 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Table\/Abstract.php(1330): Zend_Db_Adapter_Abstract->query(Object(Zend_Db_Table_Select))\n#4 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Table\/Abstract.php(1200): Zend_Db_Table_Abstract->_fetch(Object(Zend_Db_Table_Select))\n#5 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Db\/Table\/Row\/Abstract.php(954): Zend_Db_Table_Abstract->fetchRow(Object(Zend_Db_Table_Select))\n#6 \/home\/dev\/trunk\/src\/main\/php\/application\/modules\/admin\/controllers\/IndexController.php(20): Zend_Db_Table_Row_Abstract->findParentRow('Model_DbTable_E...', 'Details')\n#7 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Controller\/Action.php(503): Admin_IndexController->indexAction()\n#8 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Controller\/Dispatcher\/Standard.php(285): Zend_Controller_Action->dispatch('indexAction')\n#9 \/home\/dev\/ZendFramework-1.7.1-minimal\/library\/Zend\/Controller\/Front.php(934): Zend_Controller_Dispatcher_Standard->dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http))\n#10 \/home\/dev\/trunk\/src\/main\/php\/public\/index.php(49): Zend_Controller_Front->dispatch()\n#11 {main}\n{code}\n\nThis is because in Db\/Table\/Row\/Abstract.php:937 the {{$dependentColumnName}} has been folded, but when it is used to reference {{$this->_data}} it fails because {{$this->_data}}  represents the \"physical names of columns in the table for which this row is defined\", which are UPPERCASE in oracle.\n\nMaybe I'm using foldCase wrong, but my intention is to have lowercase column and table names when using the oracle adapter.\n\n\nSome more information...\n\nWhen using db.adapter=Pdo_Oci with CASE_LOWER, I must set _name in my models to UPPERCASE, then I can access my columns with lowercase.\n\nWhen using db.adapter=Oracle with CASE_LOWER, I must add {{$dependentColumnName = strToUpper($dependentColumnName);}} at line 938 in Zend\/Db\/Table\/Row\/Abstract.php and must still access my columns with UPPERCASE.\n\nMy conclusion is that it seems Pdo_Oci works OK with case folding, and Oracle is broken.\n\nBTW, it'll be interesting to see if I'm allowed to comment on this issue if someone else does...\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/6",
                "name": "N\/A"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5180\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10270",
                    "id": 10270,
                    "description": "Mini Release",
                    "name": "1.7.1",
                    "userReleaseDate": "01\/Dec\/08",
                    "archived": false,
                    "releaseDate": "2008-12-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10133",
                    "id": 10133,
                    "name": "Zend_Db_Table",
                    "description": "Lightweight OO interface to database tables and rowsets.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/27113",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mikaelkael",
                        "name": "mikaelkael",
                        "displayName": "Mickael Perraud",
                        "active": true
                    },
                    "body": "Zend_Db_Adapter_Oracle doesn't support case folding. Use the option autoQuoteIdentifier = false with this adapter.\nSee http:\/\/framework.zend.com\/manual\/en\/zend.db.html#zend.db.adapter.connecting.parameters.example2",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mikaelkael",
                        "name": "mikaelkael",
                        "displayName": "Mickael Perraud",
                        "active": true
                    },
                    "created": "2008-12-08T04:22:30.000+0000",
                    "updated": "2008-12-08T04:22:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52294",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:52:29.000+0000",
                    "updated": "2012-11-20T20:52:29.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5180\/transitions"
}