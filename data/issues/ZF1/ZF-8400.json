{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8400",
    "key": "ZF-8400",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "HtmlList() generates invalid HTML for empty array"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8400\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-19T20:39:57.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                "name": "hschletz",
                "displayName": "Holger Schletz",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-11-26T02:40:23.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-01-19T20:39:58.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "If the first argument to the HtmlList() view helper is an empty array, it returns something like '<ul><\/ul>'. This is invalid - the <ul> and <ol> elements must contain at least 1 <li> element.\r\n\r\nHtmlList() should check for an empty array and either throw an exception or just return an empty string. I'd prefer the last one as id would allow me to be lazy and avoid doing the check for myself..."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8400\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                "name": "satoruyoshida",
                "displayName": "Satoru Yoshida",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12459",
                    "filename": "HtmlList.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "created": "2009-12-05T02:47:03.000+0000",
                    "size": 877,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12459\/HtmlList.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12446",
                    "filename": "Test_Zend_View_Helper_HtmlList.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "created": "2009-12-03T04:19:49.000+0000",
                    "size": 602,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12446\/Test_Zend_View_Helper_HtmlList.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12445",
                    "filename": "Zend_View_Helper_HtmlList.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "created": "2009-12-03T04:02:02.000+0000",
                    "size": 401,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12445\/Zend_View_Helper_HtmlList.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-8474",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8474",
                    "type": {
                        "name": "Sub-Task",
                        "direction": "OUTBOUND"
                    }
                }
            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10380",
                    "id": 10380,
                    "description": "Mini Release",
                    "name": "1.9.5",
                    "userReleaseDate": "27\/Oct\/09",
                    "archived": false,
                    "releaseDate": "2009-10-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10026",
                    "id": 10026,
                    "name": "Zend_View",
                    "description": "View portion of the ZF MVC",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36661",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "body": "This patch should do the trick, it still needs to be tested though",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "created": "2009-12-03T04:02:03.000+0000",
                    "updated": "2009-12-03T04:02:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36663",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "body": "Forgot to attach the test patch so here goes",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin1982",
                        "name": "martin1982",
                        "displayName": "Martin de Keijzer",
                        "active": true
                    },
                    "created": "2009-12-03T04:19:49.000+0000",
                    "updated": "2009-12-03T04:19:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36717",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "body": "I think array() in array would cause following tags by the patch.\r\n\r\nBecause htmlList() method is also called recursively in line 70.\r\n\r\nThe tags could be good? \r\n\r\n{code}\r\n<li><\/li>\r\n{code}\r\n\r\nI hope it could help you.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "created": "2009-12-04T18:54:34.000+0000",
                    "updated": "2009-12-04T18:54:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36727",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "body": "Although an empty <li> element is technically valid, the way it is displayed depends on the browser. I tested Opera, which just ignores it, and Konqueror, which displays an empty row with a bullet, which looks really ugly.\r\n\r\nI'd suggest en extra check for an empty item within the foreach() loop. The item should be skipped entirely if it is:\r\n- an empty array\r\n- an empty string\r\n- a string containing only whitespace\r\n\r\nI have attached a patch that does these checks. I have not tested it though. The changes are minimal, but unfortunately the code gets a bit messy this way. Consider rewriting the loop in a way that makes the (rather trivial) logic more obvious.\r\n\r\nAlso note that this patch only affects the <li> output. The previous patch would still be necessary.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "created": "2009-12-05T02:46:15.000+0000",
                    "updated": "2009-12-05T02:46:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36728",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "body": "Skip empty list items.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "created": "2009-12-05T02:47:05.000+0000",
                    "updated": "2009-12-05T02:47:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36744",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "body": "Hi, Holger.\r\nSorry for my comment to hard to understand.\r\n\r\nI think it would be appropriate to generate following tag in this case.\r\n{code}\r\n<LI\/>\r\n{code}\r\n\r\nAbout the empty array, spaces or null string, it might be the thing which user will add on some purpose. If so, it seems to be good to keep it intact.\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "created": "2009-12-05T21:56:25.000+0000",
                    "updated": "2009-12-05T21:56:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37797",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "body": "We are getting a bit off topic here.\r\n\r\nMy initial bug report referred to invalid (X)HTML code generated upon certain input. This should never happen, and a fix has been written. Problem solved.\r\n\r\nYour suggestion (and my response to it) refer to a different issue: the generated code and\/or rendered content look ugly when list elements are empty. This is a matter of garbage in, garbage out. The code is still valid though, and I think we should just forget about it.\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hschletz",
                        "name": "hschletz",
                        "displayName": "Holger Schletz",
                        "active": true
                    },
                    "created": "2010-01-18T06:32:06.000+0000",
                    "updated": "2010-01-18T06:32:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37833",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "body": "I see, Holger. I will agree with You and close it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "created": "2010-01-19T20:39:57.000+0000",
                    "updated": "2010-01-19T20:39:57.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8400\/transitions"
}