{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5757",
    "key": "ZF-5757",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Translate strips capital Umlaut"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5757\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-02-20T11:31:19.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lowtower",
                "name": "lowtower",
                "displayName": "Timo Fehsenfeld",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-02-12T04:44:57.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-03-13T04:30:35.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Umlaut"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When a translation contains a capital Umlaut as first letter, this letter is stripped by Zend_Translate"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5757\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10280",
                    "id": 10280,
                    "description": "Mini Release",
                    "name": "1.7.4",
                    "userReleaseDate": "02\/Feb\/09",
                    "archived": false,
                    "releaseDate": "2009-02-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10099",
                    "id": 10099,
                    "name": "Zend_Translate",
                    "description": "Provides translation functionality, based on standards such as TMX and Gettext.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28932",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You would be the first person since this component exists with such a problem. \nZend_Translate returns the translation as it is written. It does wether change the encoding nor the content from the file.\n\nPlease give some additional data.\nI expect that you have a encoding or a view problem.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-18T14:41:52.000+0000",
                    "updated": "2009-02-18T14:41:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28963",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lowtower",
                        "name": "lowtower",
                        "displayName": "Timo Fehsenfeld",
                        "active": true
                    },
                    "body": "Hello Thomas,\n\nI use the CSV adapter, something like this:\n$adapter = new Zend_Translate('csv', $pathToCsvFile, 'de');\n\nIf I print_r() the $adapter, I already can see that the capital umlauts have disappeared.\n\nWhen I add a blank in the CSV file before a capital umlaut, the blank and the capital umlaut are stripped.\nWhen I add another capital umlaut before the capital umlaut, BOTH are stripped.\nWhen I add an underscore before a capital umlaut, everything is fine (except for the unwanted underscore, of course).\n\nI have checked with a different adapter (array) and everything is okay.\n\nSo, I guess there must be a problem with the CSV adapter.\n\nThis problem only occurs when the capital umlaut is the first character of the translation.\n\nCheers,\nLowTower.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lowtower",
                        "name": "lowtower",
                        "displayName": "Timo Fehsenfeld",
                        "active": true
                    },
                    "created": "2009-02-20T02:01:23.000+0000",
                    "updated": "2009-02-20T02:01:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28965",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The problem is not the adapter.\n\nThe adapter uses php's fgetcsv method to read the csv file. So when there would be a problem with stripped chars the problem would also be within PHP itself.\n\nFor me it seems that the CSV file you created is broken.\nFor example not using UTF-8 but ISO-8859-1.\nOr not using the UTF-8 syntax (which means that each sentence is like \"sentence\";\"answer\".\n\nSee a file created by Excel to see the difference to your file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-20T03:56:18.000+0000",
                    "updated": "2009-02-20T03:56:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28966",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lowtower",
                        "name": "lowtower",
                        "displayName": "Timo Fehsenfeld",
                        "active": true
                    },
                    "body": "Hello Thomas,\n\nutf-8 charset of the csv file was correct.\n\nThe CSV looked like something;translation without the double quotes.\n\nWith double quotes, everything is fine.\n\nBut, a far as I know, the csv specification doesn't require double quotes for correctness of csv files.\n\nCheers,\nLowTower.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lowtower",
                        "name": "lowtower",
                        "displayName": "Timo Fehsenfeld",
                        "active": true
                    },
                    "created": "2009-02-20T04:19:29.000+0000",
                    "updated": "2009-02-20T04:19:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28967",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Have you tried this manually by reading the file with fgetcsv ?\n\nBecause a note from the PHP manual itself reads:\n\"Note: Locale setting is taken into account by this function. If LANG is e.g. en_US.UTF-8, files in one-byte encoding are read wrong by this function. \"\n\nThis means if the encoding of the file does not match the encoding of the server it will not be read correct.\n\nStill, as mentioned before, this is not a problem of ZF and is mentioned in the manual.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-20T05:06:49.000+0000",
                    "updated": "2009-02-20T05:06:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28982",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "This is a PHP issue which can not be solved by ZF.\nClosing as Won't Fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-20T11:31:17.000+0000",
                    "updated": "2009-02-20T11:31:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29435",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=obottek",
                        "name": "obottek",
                        "displayName": "Olaf Bottek",
                        "active": true
                    },
                    "body": "I get exactly the same problem when exchanging ZF 1.5.2 with 1.7.6 - no other changes. It's a Debian Lenny box with current PHP version and setting LOCALES () to empty, en_US.UTF-8 or de_DE.UTF-8 made no change.\n\nSo this is clearly a change in ZF.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=obottek",
                        "name": "obottek",
                        "displayName": "Olaf Bottek",
                        "active": true
                    },
                    "created": "2009-03-12T08:20:34.000+0000",
                    "updated": "2009-03-12T08:20:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29436",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "With ZF 1.6 the community decided that we have to change the internal implementation of the CSV Adapter to use fgetcsv because it's faster to rely on php methods than on self written methods.\n\nAs all data, which is stored, comes from fgetcsv, a pure php function, there is no way to fix this behaviour without changing again to the internal implementation.\n\nAs my question, with the check what fgetcsv returns, was not answered, I must assume that this problem is a php only problem and not a problem of ZF's implementation.\n\nFor known issues of fgetcsv look into php's manual (where I copied out this locale theme).\n\nAs there is nothing which I can do, this issue will stay at won't fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-03-12T08:37:45.000+0000",
                    "updated": "2009-03-12T08:37:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29448",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=obottek",
                        "name": "obottek",
                        "displayName": "Olaf Bottek",
                        "active": true
                    },
                    "body": "Okay, that change in 1.6 explains the behavior. I tested it with fgetcsv and got the same results as with ZF 1.7.6. So the workaround would be to update all csv's from key;value to \"key\";\"value\" which could be done by importing and exporting each csv into and from Open Office. Excel has problems with UTF-8.\n\nFurthermore it seams that the Adapter.php from Translate seams to have changed for the \"scan\" option. With 1.5.2 it was kind of relaxed and would use translations from other csv's as it find the terms there. Which had the nice side effect, that you don't had to store so much double. This behavior has changed as well between 1.5.2 and 1.7.6 (probably with 1.6), since it now seams very strict in the scan mode. Translations of a term do only appear if they exist in that very file it is supposed to be through the MVC logic.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=obottek",
                        "name": "obottek",
                        "displayName": "Olaf Bottek",
                        "active": true
                    },
                    "created": "2009-03-13T03:03:09.000+0000",
                    "updated": "2009-03-13T03:03:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29451",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "No, the scan option has not changed.\nIt is not necessary to store messages multiple times.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-03-13T04:30:34.000+0000",
                    "updated": "2009-03-13T04:30:34.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5757\/transitions"
}