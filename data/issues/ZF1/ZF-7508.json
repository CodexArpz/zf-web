{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7508",
    "key": "ZF-7508",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Translate::isTranslated() should not log if untranslated"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7508\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-23T14:11:09.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=huyby",
                "name": "huyby",
                "displayName": "Stijn Huyberechts",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-06T08:02:50.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-03-02T17:19:42.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "istranslated",
                "log",
                "zend_translate"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I've noticed that the isTranslated() method also adds an entry to the log is the messageId is not found. But is seems to be more convenient when only the translate() method would log an untranslated method. Now I'm getting entries in my log when I was only trying to find out if a messageId exists. \n\nZend_Translated::isTranslated() should only return a Boolean, no more, no less."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7508\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10340",
                    "id": 10340,
                    "description": "Mini Release",
                    "name": "1.8.4",
                    "userReleaseDate": "23\/Jun\/09",
                    "archived": false,
                    "releaseDate": "2009-06-23",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10099",
                    "id": 10099,
                    "name": "Zend_Translate",
                    "description": "Provides translation functionality, based on standards such as TMX and Gettext.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33827",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Feature implemented with r17784",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-08-23T14:11:07.000+0000",
                    "updated": "2009-08-23T14:11:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38922",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=paul.hanssen",
                        "name": "paul.hanssen",
                        "displayName": "Paul Hanssen",
                        "active": true
                    },
                    "body": "Hi,\r\n\r\nThis has caused an issue for me.\r\n\r\nWe log all our untranslated messages to a .php file that is then run through POEdit.\r\n\r\nThis has proven really useful for translating validation error messages generated via {{Zend_Filter_Input}}; newer validation errors are dumped to the .php file when the developer triggers them while writing the code.\r\n\r\nHowever, this behaviour is no longer working as of 1.10.0 ... refer to this code in {{Zend_Filter_Input}} line 766:\r\n\r\n{{\r\n    protected function _getNotEmptyMessage($rule, $field)\r\n    {\r\n        $message = $this->_defaults[self::NOT_EMPTY_MESSAGE];\r\n\r\n        if (null !== ($translator = $this->getTranslator())) {\r\n            if ($translator->isTranslated($message)) {\r\n                $message = $translator->translate($message);\r\n            } elseif ($translator->isTranslated(self::NOT_EMPTY_MESSAGE)) {\r\n                $message = $translator->translate(self::NOT_EMPTY_MESSAGE);\r\n            }\r\n        }\r\n\r\n    ... etc ...\r\n}}\r\n\r\nIf the translated (full) error message is not found, then translate the (generic) error key.\r\n\r\nBut since the {{isTranslated}} function is no longer logging missing translations, the untranslated validation message is never translated & never logged, meaning that you will always have to manually add validation messages to the translation file.\r\n\r\nOr worse, the generic translation for \"{{isEmpty}}\" (in this case) will appear in the place of every new validation message.\r\n\r\nIt would be really great to get this facility back :)\r\n\r\nCheers,\r\nPaul\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=paul.hanssen",
                        "name": "paul.hanssen",
                        "displayName": "Paul Hanssen",
                        "active": true
                    },
                    "created": "2010-03-01T23:40:09.000+0000",
                    "updated": "2010-03-01T23:40:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38934",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "All validation messages are available as already pre-translated resource files as with ZF 1.10. So there is no need to do the described workflow for validation errors.\r\n\r\nNote that when there is no translated message even Zend_Translate will return the original message.\r\n\r\nFrom point of implementation isTranslated just request IF a translation can be translated... it should NEVER throw a notice\/warning\/error. We shold and will not reintegrate this errorous behaviour.\r\n\r\nBut with existing functionality it is also possible to check translations... you just need to change the model which does translation.\r\nAdd a log entry when original error is the same as the translated error.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-03-02T13:39:43.000+0000",
                    "updated": "2010-03-02T13:39:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38938",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=paul.hanssen",
                        "name": "paul.hanssen",
                        "displayName": "Paul Hanssen",
                        "active": true
                    },
                    "body": "Thanks for the reply ... I've just seen your blog entry on the subject:\r\n\r\nhttp:\/\/www.thomasweidner.com\/flatpress\/2010\/01\/17\/translating-validation-messages\/\r\n\r\nCheers,\r\nPaul\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=paul.hanssen",
                        "name": "paul.hanssen",
                        "displayName": "Paul Hanssen",
                        "active": true
                    },
                    "created": "2010-03-02T17:19:42.000+0000",
                    "updated": "2010-03-02T17:19:42.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7508\/transitions"
}