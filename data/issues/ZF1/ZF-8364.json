{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8364",
    "key": "ZF-8364",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Loader_Autoloader_Resource::autoload() should return false if no match is found"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8364\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10390",
                    "id": 10390,
                    "description": "Mini Release",
                    "name": "1.9.6",
                    "userReleaseDate": "24\/Nov\/09",
                    "archived": false,
                    "releaseDate": "2009-11-24",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-11-25T00:29:01.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                "name": "jazzslider",
                "displayName": "Adam Jensen",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-11-20T14:09:18.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-11-25T00:37:50.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Currently (r19141 of the standard trunk), the resource autoloader can produce some unexpected PHP warnings if it accidentally attempts to autoload something that doesn't exist.  E.g.:\r\n\r\n1. Create and configure an instance of the resource autoloader; for example:\r\n\r\n{code}\r\nrequire_once 'Zend\/Loader\/Autoloader.php';\r\nrequire_once 'Zend\/Loader\/Autoloader\/Resource.php';\r\n$autoloader = new Zend_Loader_Autoloader_Resource(array(\r\n    'namespace' => 'My',\r\n    'basePath' => '\/path\/to\/my',\r\n));$autoloader->addResourceType('resource', 'resources', 'Resource');\r\n{code}\r\n\r\n2. Attempt to instantiate a class that doesn't exist, but would be in the configured namespace:\r\n\r\n{code}\r\n$obj = new My_Resource_DoesNotExist();\r\n{code}\r\n\r\nAt this point you'll get two PHP errors.  The first is an E_WARNING message indicating that you tried to include a file that doesn't exist; the second is an E_FATAL message indicating that you tried to instantiate a class that doesn't exist.\r\n\r\nHowever, if the behavior of Zend_Loader_Autoloader::autoload() is any indicator, Zend_Loader_Autoloader_Resource::autoload() should instead return false if the expected class cannot be found.  This will get rid of the first E_WARNING message and enable a bit more flexible error handling.  \r\n\r\nFor an example of why this would be helpful, please take a look at http:\/\/www.doctrine-project.org\/jira\/browse\/DC-137 : Doctrine has a feature that will generate a certain class on the fly if it can't be autoloaded; if the current ZF resource autoloader is registered, this will still work correctly ...but not without generating the E_WARNING message mentioned earlier.\r\n\r\nThanks!\r\nAdam\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8364\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                "name": "bate",
                "displayName": "Marco Kaiser",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12413",
                    "filename": "library.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T21:26:25.000+0000",
                    "size": 839,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12413\/library.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12419",
                    "filename": "varname.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2009-11-23T02:31:32.000+0000",
                    "size": 356,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12419\/varname.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10380",
                    "id": 10380,
                    "description": "Mini Release",
                    "name": "1.9.5",
                    "userReleaseDate": "27\/Oct\/09",
                    "archived": false,
                    "releaseDate": "2009-10-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10001",
                    "id": 10001,
                    "name": "Zend_Loader",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36369",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "On further inspection, I realized it's not the return value of autoload() that's causing this ...in fact, it's returning false for classes-not-found, just as documented.\r\n\r\nHowever, I do think it would be worth avoiding the E_WARNING messages.  Developers will still get enough error information out of the E_FATAL message that follows it when a non-existing class is being instantiated ...and in the meantime, other situations (like Doctrine's use of class_exists()) would still function gracefully without emitting any errors.\r\n\r\nI should be attaching a patch shortly; if this sounds like a good idea, it'd be a pretty easy fix.\r\n\r\nThanks!\r\nAdam",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T14:18:28.000+0000",
                    "updated": "2009-11-20T14:18:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36370",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "OK, I've attached my patch ...I made this from the library dir of the standard trunk; is that the right way to do that?\r\n\r\nIn any case, this should prevent any superfluous E_WARNINGs by avoiding the include call unless the path is valid.\r\n\r\nThanks!\r\nAdam",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T14:23:47.000+0000",
                    "updated": "2009-11-20T14:23:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36371",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "Found a couple of other issues that seem to be related to the same problem:\r\n\r\nhttp:\/\/framework.zend.com\/issues\/browse\/ZF-6607\r\nhttp:\/\/framework.zend.com\/issues\/browse\/ZF-6798\r\n\r\nIf my patch is accepted here, it may be worth double-checking if those two issues are resolved as well; I believe they will be.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T14:44:56.000+0000",
                    "updated": "2009-11-20T14:44:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36381",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "Better patch ...in my first version, I rather unthinkingly left it calling getClassPath() twice; this one doesn't make that mistake.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T17:55:25.000+0000",
                    "updated": "2009-11-20T17:55:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36384",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "body": "Turns out the previously-attached patch didn't really solve the problem, because getClassPath() is apparently only returning false when the class name isn't in any of the autoloader's registered namespaces ...it still doesn't check to see if the file actually exists.\r\n\r\nSeems this could be resolved by adding a file_exists() or Zend_Loader::isReadable() call at the end of getClassPath(); that way, the autoloader can simply fail silently for any files it can't figure out, allowing other autoloaders to take care of it if they can ...and if no registered autoloaders can handle it, the standard E_FATAL \"class does not exist\" error will still be emitted.\r\n\r\nI've attached a fresh patch that should accomplish all this nicely enough.\r\n\r\nThanks!\r\nAdam",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                        "name": "jazzslider",
                        "displayName": "Adam Jensen",
                        "active": true
                    },
                    "created": "2009-11-20T21:26:32.000+0000",
                    "updated": "2009-11-20T21:26:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36412",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "fixed in r19187 please check an close if finally fixed",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-23T00:03:36.000+0000",
                    "updated": "2009-11-23T00:03:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36416",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "Maybe the wrong variable name is used in line 195? It currently reads \r\n\r\n{{return $path;}} \r\n\r\nbut shouldn't it be \r\n\r\n{{return $classPath;}}\r\n\r\n?\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2009-11-23T02:28:50.000+0000",
                    "updated": "2009-11-23T02:28:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36417",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "see comment",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2009-11-23T02:31:35.000+0000",
                    "updated": "2009-11-23T02:31:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36420",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danielb",
                        "name": "danielb",
                        "displayName": "Daniel Berstein",
                        "active": true
                    },
                    "body": "Please commit Erik's patch, as it currently stands ZF autoloader is broken and you get errors\/warnings like these:\r\n\r\nNotice: Undefined variable: path in ...<path>\/lib\/Zend\/Loader\/Autoloader\/Resource.php on line 195\r\n\r\nWarning: Zend_Loader_Autoloader_Resource::include() [function.include]: Failed opening '' for inclusion (include_path='...<path>\/lib:.:\/usr\/share\/php') in ...<path>\/lib\/Zend\/Loader\/Autoloader\/Resource.php on line 195\r\n\r\nFatal error: Class 'Default_Model_Abstract' not found in ...<path> on line 38\r\n\r\nThanks.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danielb",
                        "name": "danielb",
                        "displayName": "Daniel Berstein",
                        "active": true
                    },
                    "created": "2009-11-23T03:32:01.000+0000",
                    "updated": "2009-11-23T03:32:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36422",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "fixed the small typo in r19189",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2009-11-23T04:40:33.000+0000",
                    "updated": "2009-11-23T04:40:33.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8364\/transitions"
}