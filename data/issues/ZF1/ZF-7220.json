{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7220",
    "key": "ZF-7220",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "AllowEmpty has no effect if required is set"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7220\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-07-08T06:15:59.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kingcrunch",
                "name": "kingcrunch",
                "displayName": "Sebastian Krebs",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-07-07T17:24:46.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-07-08T06:15:59.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "In Zend\/Form\/Element.php:\n{code}    public function isValid($value, $context = null)\n    {\n        $this->setValue($value);\n        $value = $this->getValue();\n\n        if ((('' === $value) || (null === $value))\n            && !$this->isRequired()\n            && $this->getAllowEmpty()\n        ) {\n            return true;\n        }\n    \/\/ ...\n    }{code}I dont know, why an empty value is declared as \"missing required\", because in some cases its useful, that a value is required, but also its allowed to be empty. In my understanding the definitions of \"required\" and \"empty\" are independent (except that a missing value can not be empty, of course)\n\nBecause Zend_Form::isValid() itself always gives null, if there is no data\n{code}        foreach ($this->getElements() as $key => $element) {\n            $element->setTranslator($translator);\n            if (!isset($data[$key])) {\n                $valid = $element->isValid(null, $data) && $valid;\n            } else {\n                $valid = $element->isValid($data[$key], $data) && $valid;\n            }\n        }{code}\n\n it can be splitted\n\n{code}if ( (('' === $value) && $this->getAllowEmpty()) || ((null === $value) && !$this->isRequired()) ) {\n  return true;\n}{code}\nA matrix of the statement from Element::isValid()\n||allowEmpty||isRequired||''||null||\n|true|true|false|false|\n|false|true|false|false|\n|true|false|true|true|\n|false|false|false|false|\n\nAs I just see: I few lines later (in Zend_Form_Element::isValid())\n{code}        if ($this->isRequired()\n            && $this->autoInsertNotEmptyValidator()\n            && !$this->getValidator('NotEmpty'))\n        {\n            $validators = $this->getValidators();\n            $notEmpty   = array('validator' => 'NotEmpty', 'breakChainOnFailure' => true);\n            array_unshift($validators, $notEmpty);\n            $this->setValidators($validators);\n        }{code}\nWhy is there again a NotEmptyValidator and why its \"autoInsert\"ed, then tested (if it is really set) and then added again? Should this not allowEmpty do? (Or the other way round).\n\nAnyway this are the two points in isValid() where isRequired and allowEmpty are used and it seems, that the mechanic is identical."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7220\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10013",
                    "id": 10013,
                    "name": "Zend_Filter",
                    "description": "methods for filtering data",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32471",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "If a field is required, it cannot be empty. HTML forms will submit either an empty string for a value, or not submit the value at all (this latter is true only of checkboxes and buttons). In terms of validation, if we allow empty strings, but simultaneously require the element, we have no reasonable mechanism to test -- one or the other can be true, but not both.\n\nMarking as \"won't fix\", as this design was determined after much community discussion, and changing the behavior would be a BC break.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-07-08T06:14:07.000+0000",
                    "updated": "2009-07-08T06:14:07.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7220\/transitions"
}