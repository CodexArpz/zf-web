{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12216",
    "key": "ZF-12216",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Cache_Backend_Apc rewrite, now supports tags"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12216\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexandre.ravey",
                "name": "alexandre.ravey",
                "displayName": "Alexandre Ravey",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2012-05-18T15:59:34.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-06-04T13:47:24.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "apc",
                "cache"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Here is a rewrite of the APC backend. Based on File backend and older Apc backend implementation.\r\n\r\nSo, jumping right to the hot topic, how to handle metadatas on a volatile cache?\r\nI've investigated two approaches.\r\nIn each case the challange is to be able to detect a missing metadata for a cache entry or a missing cache entry for a metadata and clean the corruption.\r\n\r\nA) Same as Zend_Cache_Backend_File, one metadata entry per cache entry.\r\nB) One big metadata storage for all cache entries.\r\n\r\nEach have their pros and cons.\r\nFinally plan B was used. Mainly for the ease of use and the speed for small to medium caches. (Namely, less than 10k entries)\r\n\r\nI don't think this implementation is perfect, but it's a good start.\r\n\r\nIt's compatible with the old Zend_Cache_Backend_Apc but the internal storage is different. Cache entries created by the older one will be load()able but any call to test() or touch() will invalidate them gracefully.\r\n\r\nIt passes all unit tests plus the extended tests, same as the Zend_Cache_Backend_File tests.\r\nAlso passes the new tests I submitted in ZF-12212.\r\n\r\nSome points:\r\n- The cache is self-cleaning. If a value dangle with no metadatas, any call to clean() (in any mode) will purge it from the cache and rebuild the matadatas.\r\n- If the metadatas fall of the cache, every values are cleaned. (Blind clean based on prefix).\r\n- A new apc_id_prefix has been added to the backend options. It let multiple instances use the same Apc cache. It's also possible tu use the cache directly, call to clean will not interfere with data which has not been added by us.\r\n- Loading (via load()) a value when the metadatas are not available will work. All other operations will purge it from the cache.\r\n\r\nKnown limitations:\r\n- Race condition when more than one process try to save the metadatas. The last win. Not a big issue, metas are NOT used for load and all errors are handled gracefully.\r\n\r\nThe Zend_Cache_Backend_Apc patch: http:\/\/pastebin.com\/UAs5A8bT\r\nThe Zend_Cache_ApcBackendTest patch: http:\/\/pastebin.com\/Puh76Bug\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12216\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alexander",
                "name": "alexander",
                "displayName": "Alexander Veremyev",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10028",
                    "id": 10028,
                    "name": "Zend_Cache",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [

            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-12216\/transitions"
}