{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9380",
    "key": "ZF-9380",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Redeclaration of PHPUnit_Test_Case"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9380\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-03-12T14:15:35.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                "name": "eman",
                "displayName": "Erik Wegner",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-03-09T07:28:30.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-03-12T14:15:35.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "A simple\r\n{code}\r\nphp -r \"require_once 'PHPUnit\/Framework\/TestCase.php';\"\r\n{code}\r\nproduces the error\r\n{code}\r\nFatal error: Cannot redeclare class PHPUnit_Framework_TestCase in C:\\xampp\\php\\PEAR\\PHPUnit\\Framework\\TestCase.php on line 116\r\n{code}\r\n\r\nThe [PHPUnit documentation|http:\/\/www.phpunit.de\/manual\/current\/en\/writing-tests-for-phpunit.html] says to include\/require PHPUnit\/Framework.php to write own derived test cases. \r\n\r\nMy application needs to load the Zend_Test_PHPUnit_ControllerTestCase class which uses the above require_once statement and therefore produced the error message about class redeclaration. When I replace the statement, my application and my very own tests run fine."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9380\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zf-caretaker-adamlundrigan"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12867",
                    "filename": "ControllerTestCase_require.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2010-03-09T07:29:44.000+0000",
                    "size": 746,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12867\/ControllerTestCase_require.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10430",
                    "id": 10430,
                    "description": "Mini Release",
                    "name": "1.10.2",
                    "userReleaseDate": "24\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10312",
                    "id": 10312,
                    "name": "Zend_Test_PHPUnit",
                    "description": "PHPUnit test scaffolding for ZF MVC applications",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39118",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "Patch attached",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2010-03-09T07:29:45.000+0000",
                    "updated": "2010-03-09T07:29:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39404",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "body": "I have the same problem with PHPUnit 3.4.11 and ZF 1.10.2 and PHP 5.3.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "created": "2010-03-20T09:54:45.000+0000",
                    "updated": "2010-03-20T09:54:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39418",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "body": "When I apply the patch to \/Zend\/Test\/PHPUnit\/ControllerTestCase.php (remove the line with require_once('...TestCase.php')) I get the following error: \r\nFatal error: Class 'PHPUnit_Framework_TestCase' not found in \/usr\/local\/zend\/share\/ZendFramework\/library\/Zend\/Test\/PHPUnit\/ControllerTestCase.php on line 54",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "created": "2010-03-21T08:09:08.000+0000",
                    "updated": "2010-03-21T08:09:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39463",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "Did you just remove the line or did you replace it with the new\r\n{code}\r\nrequire_once 'PHPUnit\/Framework.php';\r\n{code}\r\nline?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2010-03-22T04:34:39.000+0000",
                    "updated": "2010-03-22T04:34:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39492",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "body": "When I follow one of these instructions:\r\n* http:\/\/blog.fedecarg.com\/2008\/12\/27\/phpunit-testing-zend-framework-controllers\/\r\n* http:\/\/www.zendcasts.com\/unit-testing-with-the-zend-framework-with-zend_test-and-phpunit\/2009\/06\/\r\nI don't need any modification. I guess it is not well documented in the programmer's reference. But if you have a phpunit.xml and call phpunit via the command-line, it should work.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "created": "2010-03-23T12:24:38.000+0000",
                    "updated": "2010-03-23T12:24:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39576",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "Thanks for your links to further explanations of setting up testing environments. But I'm am not running tests, instead I wanted to reuse a function from one of my tests, so I instantiated the test class and stumbled over the redeclaration error.\r\n\r\nWhen running my tests (without applied patch), everything works fine. Instantiating the test class within the application in normal operation mode needs the modified require statement.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2010-03-26T03:30:31.000+0000",
                    "updated": "2010-03-26T03:30:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39600",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "body": "Right, I had the same problem when I tried to execute my unit tests within my application and not via the phpunit command line interface. Therefore I prefer applying your patch in order to execute unit tests within let's say a regular controller (TestController.php) and access the returned unit test results from the website\/ within the application.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thobach",
                        "name": "thobach",
                        "displayName": "Thomas Bachmann",
                        "active": true
                    },
                    "created": "2010-03-27T07:37:23.000+0000",
                    "updated": "2010-03-27T07:37:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41494",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dragonbe",
                        "name": "dragonbe",
                        "displayName": "Michelangelo van Dam",
                        "active": true
                    },
                    "body": "I had this issue also when I had a server that included the whole Zend Framework library in it's include path, while the ZF application had the ZF library in it's own \"libary\" folder.\r\n\r\nNon the less, I don't consider it an issue since I cannot reproduce it. The patch file won't do any good, since require_once won't load it twice, unless you have two instances of the whole framework running.\r\nBesides, with my test setup using only PHPUnit\/Framework breaks my unit tests since I rely too much on those TestCases (e.g. integration testing)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dragonbe",
                        "name": "dragonbe",
                        "displayName": "Michelangelo van Dam",
                        "active": true
                    },
                    "created": "2010-07-15T13:20:17.000+0000",
                    "updated": "2010-07-15T13:20:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42088",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "I can't reproduce this either with 10.2 and the same phpunit version.\r\n\r\nIt sounds like it's a \"bug\" somewhere else? Maybe you mixed include\/require with include_once\/require_once.\r\n\r\nI usually suggest to strip all of those statements from the library code and use an autoloader instead. Maybe that's why I'm not seeing any of it period.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-08-24T07:22:43.000+0000",
                    "updated": "2010-08-24T07:22:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42098",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "body": "Sorry, I cannot help any further on this issue, because I am no longer working at that system that produced the error.\r\n\r\nIf you wish so, you can close this issue. Thanks for your patience.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=eman",
                        "name": "eman",
                        "displayName": "Erik Wegner",
                        "active": true
                    },
                    "created": "2010-08-25T00:54:25.000+0000",
                    "updated": "2010-08-25T00:54:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43640",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "body": "This issue should be fixed, could you please verify so we can close this issue?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=andries",
                        "name": "andries",
                        "displayName": "Andries Seutens",
                        "active": true
                    },
                    "created": "2010-12-17T03:17:15.000+0000",
                    "updated": "2010-12-17T03:17:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50003",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "I am unable to reproduce the issue against trunk using PHPUnit 3.4.15.  I vote for closing as \"Not an Issue\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2012-03-12T13:35:18.000+0000",
                    "updated": "2012-03-12T13:35:18.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9380\/transitions"
}