{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6974",
    "key": "ZF-6974",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Uncaught exception 'Zend_Db_Table_Exception' with message 'No adapter found for Zend_Session_SaveHandler_DbTable' Using DB resource"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6974\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/3",
                "name": "Duplicate"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-06-16T04:27:38.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=baxter",
                "name": "baxter",
                "displayName": "Jason Brumwell",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-06-10T02:08:02.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-08-19T08:02:16.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I'm trying to use Zend_Applicatoin to load my database then Session. Here is the snippet of the ini file:\n\nphpSettings.display_startup_errors = 0\nphpSettings.display_errors = 0\n\nautoloadernamespaces.nexus = \"NEXUS_\"\nautoloadernamespaces.nexus = \"APPLICATION_\"\n\nincludePaths.library = LIBRARY_PATH\nincludePaths.application = APPLICATION_PATH\n\nbootstrap.path = APPLICATION_PATH \"\/Bootstrap.php\"\nbootstrap.class = \"Bootstrap\"\n\nresources.db.adapter = \"PDO_MYSQL\"\nresources.db.params.host = \"localhost\"\nresources.db.params.username = \"root\"\nresources.db.params.password = \"\"\nresources.db.params.charset = \"utf8\"\nresources.db.params.dbname = \"tbr\"\nresources.db.isDefaultTableAdapter = true\n\nresources.modules[] = true\n\nresources.frontController.controllerDirectory = APPLICATION_PATH \"\/controllers\"\nresources.frontController.moduleDirectory = APPLICATION_PATH \"\/modules\"\nresources.frontController.actionhelperpaths.main = APPLICATION_PATH \"\/controllers\/helpers\"\n;resources.frontController.baseUrl = \"\/subdir\"\n;resources.frontController.plugins.foo = \"My_Plugin_Foo\"\n;resources.frontController.plugins.bar = \"My_Plugin_Bar\"\nresources.frontController.env = APPLICATION_ENV\n\nresources.session.save_path = DATA_PATH \"\/session\"\nresources.session.use_only_cookies = true\nresources.session.remember_me_seconds = 864000\nresources.session.saveHandler.class = \"Zend_Session_SaveHandler_DbTable\"\nresources.session.saveHandler.options.name = \"session\"\nresources.session.saveHandler.options.primary.session_id = \"session_id\"\nresources.session.saveHandler.options.primary.save_path = \"save_path\"\nresources.session.saveHandler.options.primary.name = \"name\"\nresources.session.saveHandler.options.primaryAssignment.sessionId = \"sessionId\"\nresources.session.saveHandler.options.primaryAssignment.sessionSavePath = \"sessionSavePath\"\nresources.session.saveHandler.options.primaryAssignment.sessionName = \"sessionName\"\nresources.session.saveHandler.options.modifiedColumn = \"modified\"\nresources.session.saveHandler.options.dataColumn = \"session_data\"\nresources.session.saveHandler.options.lifetimeColumn = \"lifetime\"\n\nWhat happends is when Zend_Application_Resource_Session is loaded via BootstrapAbstract.php _loadPluginResource it is passed to Zend_Application_Resource_ResourceAbstract which passes to its setOptions method which calls Zend_Application_Resource_Session::setSavehandler which loads the table abstract and dies at no adapter because the db resource init function has yet to be run and thus not connected and default adapter not set.\n\nHope it makes sence Its pretty late here and quite tired. If I'm missing something please point me in the right direction as google didn't solve this issue.\n\nAll the best,\n\nJay"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6974\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-6942",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6942",
                    "type": {
                        "name": "Duplicate",
                        "direction": "OUTBOUND",
                        "description": "duplicates"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10330",
                    "id": 10330,
                    "description": "Mini Release",
                    "name": "1.8.2",
                    "userReleaseDate": "27\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10390",
                    "id": 10390,
                    "name": "Zend_Application",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31878",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=doctorrock83",
                        "name": "doctorrock83",
                        "displayName": "julien PAULI",
                        "active": true
                    },
                    "body": "This duplicates #ZF-6942",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=doctorrock83",
                        "name": "doctorrock83",
                        "displayName": "julien PAULI",
                        "active": true
                    },
                    "created": "2009-06-16T04:27:37.000+0000",
                    "updated": "2009-06-16T04:27:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31881",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=baxter",
                        "name": "baxter",
                        "displayName": "Jason Brumwell",
                        "active": true
                    },
                    "body": "I'm not sure if this is the same, as I was aware of the dependancy on the db resource and did as the documentation stated:\n\nBootstrap your database first!\n\nIf you are configuring the Zend_Session_SaveHandler_DbTable session save handler, you must first configure your database connection for it to work. Do this by either using the Db resource -- and make sure the \"resources.db\" key comes prior to the \"resources.session\" key -- or by writing your own resource that initializes the database, and specifically sets the default Zend_Db_Table adapter. \n\nThe bug you linked states:\n\nUsing Resource_Session with the DbTable-Savehandler cause an exception, if the Db-Resource is not called before. \n\nbut I was unable to get it to work without moving it to the bootstrap _iniDb and initializing the database. I just wanted to ensure that the correct bug is put forward.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=baxter",
                        "name": "baxter",
                        "displayName": "Jason Brumwell",
                        "active": true
                    },
                    "created": "2009-06-16T05:32:49.000+0000",
                    "updated": "2009-06-16T05:32:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32552",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamweinstock",
                        "name": "adamweinstock",
                        "displayName": "Adam Weinstock",
                        "active": true
                    },
                    "body": "I'm getting this too.\n\nThe problem occurs because Zend_Application_Bootstrap_BootstrapAbstract::getPluginResourceNames() calls Zend_Application_Bootstrap_BootstrapAbstract::getPluginResources() which in turn calls Zend_Application_Bootstrap_BootstrapAbstract::_loadPluginResource().  This instantiates but does not execute instances of the registered resource objects, causing Zend_Application_Resource_Session::setSaveHandler() to instantiate an instance of Zend_Db_Table_Abstract before the Db resource is actually executed.  Since Zend_Application_Resource_Db doesn't call Zend_Db_Table::setDefaultAdapter() until it's init() method is called, the desired behavior fails.\n\nThe simplest solution seems to be to remove the call to getPluginResources() in Zend_Application_Bootstrap_BootstrapAbstract::getPluginResourceNames().  This seems to be working for me, but may cause problems, so another solution may be more desirable.  In any case, this bug will definitely cause problems with other resources down the line and should be fixed up.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamweinstock",
                        "name": "adamweinstock",
                        "displayName": "Adam Weinstock",
                        "active": true
                    },
                    "created": "2009-07-14T00:44:20.000+0000",
                    "updated": "2009-07-14T00:44:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33648",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kevinfoster",
                        "name": "kevinfoster",
                        "displayName": "Kevin Foster",
                        "active": true
                    },
                    "body": "I have the same problem after upgrading from 1.7.8 to 1.9.1. It seems this bug has been recently introduced. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kevinfoster",
                        "name": "kevinfoster",
                        "displayName": "Kevin Foster",
                        "active": true
                    },
                    "created": "2009-08-19T08:02:16.000+0000",
                    "updated": "2009-08-19T08:02:16.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6974\/transitions"
}