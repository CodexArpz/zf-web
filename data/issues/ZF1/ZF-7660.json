{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7660",
    "key": "ZF-7660",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Dojo does not set required=\"false\" if explicitly set"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7660\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-25T12:26:05.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shurakai",
                "name": "shurakai",
                "displayName": "Christian Heinrich",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-22T08:56:10.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-01-25T12:26:06.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "numberspinner",
                "required",
                "zend_dojo"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "There is a minor problem with the decorator in Zend_Dojo_Form_Decorator_DijitElement:\n\nSome Dijit form elements - like the number spinner - need an explicit \"required=false\" in order to accept blank values. This might be necessary if an input is optional and the user enters the input box but decides to exit it without entering a value. Therefore, the value is still empty but e.g. the number spinner validates and rejects the blank value.\n\nIf one sets \"required=false\" this problem does not exist. \n\nThe abovementioned decorator already sets required to true if explicitly set, but does not do so for false. Therefore, we need to change this behaviour in order to get the desired behaviour.\n\nCareful: The decorator needs to set the value \"false\" as a String, not a boolean one. If set to boolean, it will be evaluated to 0 or \"\" (empty string) which will not be recognized by dojo.\n\nI will attach my modified file. Please let me know whether this bug will be addressed in one of the next patches."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7660\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12156",
                    "filename": "DijitElement.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shurakai",
                        "name": "shurakai",
                        "displayName": "Christian Heinrich",
                        "active": true
                    },
                    "created": "2009-08-22T08:58:11.000+0000",
                    "size": 5914,
                    "mimeType": "application\/x-httpd-php",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12156\/DijitElement.php"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12530",
                    "filename": "ZF-7660.possible.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-21T15:08:19.000+0000",
                    "size": 1396,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12530\/ZF-7660.possible.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10320",
                    "id": 10320,
                    "description": "Minor Release",
                    "name": "1.9.0",
                    "userReleaseDate": "31\/Jul\/09",
                    "archived": false,
                    "releaseDate": "2009-07-31",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10311",
                    "id": 10311,
                    "name": "Zend_Dojo",
                    "description": "Dojo integration with Zend Framework",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36257",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mgordon",
                        "name": "mgordon",
                        "displayName": "Max Gordon",
                        "active": true
                    },
                    "body": "The numberspinner issue is a Dojo issue see http:\/\/trac.dojotoolkit.org\/ticket\/9643. Will be fixed in 1.4",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mgordon",
                        "name": "mgordon",
                        "displayName": "Max Gordon",
                        "active": true
                    },
                    "created": "2009-11-20T04:48:09.000+0000",
                    "updated": "2009-11-20T04:48:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36299",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Resolved by patching Dijit view helper; \"required\" attribute is always cast to a string now. Patch applied to trunk and 1.9 release branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-11-20T09:20:21.000+0000",
                    "updated": "2009-11-20T09:20:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36924",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Reopened as per request (irc)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-12-14T16:55:59.000+0000",
                    "updated": "2009-12-14T16:55:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36925",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=micah26",
                        "name": "micah26",
                        "displayName": "Micah Gersten",
                        "active": true
                    },
                    "body": "I am still experiencing this on 1.9.6 with a Dojo Subform and a Filtering Select.  I pass 'required'  => false, in the initialization array for the form field, but it is still being required.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=micah26",
                        "name": "micah26",
                        "displayName": "Micah Gersten",
                        "active": true
                    },
                    "created": "2009-12-14T16:57:24.000+0000",
                    "updated": "2009-12-14T16:57:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36926",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Isn't this just a matter of an incorrectly set fix version?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-12-14T17:00:49.000+0000",
                    "updated": "2009-12-14T17:00:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36948",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=micah26",
                        "name": "micah26",
                        "displayName": "Micah Gersten",
                        "active": true
                    },
                    "body": "The fix attached to the bug works, while the fix that was committed does not.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=micah26",
                        "name": "micah26",
                        "displayName": "Micah Gersten",
                        "active": true
                    },
                    "created": "2009-12-15T13:09:37.000+0000",
                    "updated": "2009-12-15T13:09:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37123",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Confirmed that the required=\"false\" attribute will never be set (*when set from the Element*), since it does not set $attribs[\"required\"] when $\\_required = false. This is because the parameter 'required' given to the Element calls 'setRequired()' rather than set the value in the $\\_attributes. Which _is_ what happens when you give the exact same parameter from a Dojo ViewHelper like Zend_Dojo_View_Helper_NumberSpinner.\r\n\r\nThis would normally not be a problem if Dojo, just like ZF, assumes that an element is not required when the required attribute is not set. Unfortunately, like stated, this is not the case: FilteredSelect, NumberSpinner, TimeTextBox and maybe others assume that the element is required unless specifically told to. Might get fixed in Dojo 1.4 though?\r\n\r\nSo, imho, the attached patch is required to _always_ set the required attribute on dojo elements. This might however, change the behavior of some elements (for the better; same required attribute for Zend_Form_Element and its Dojo counterpart, eliminating dependencies on Dojo's defaults), so not sure if it's possible to patch into 1.9 release. Maybe in time for 1.10??",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-21T15:08:20.000+0000",
                    "updated": "2009-12-21T16:07:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37136",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Found a workaround: instead of passing required => false in the initialization (which calls setOptions, which in turn calls setRequired()), use the Element::setAttrib() function, like so\r\n\r\n* {{$dojoElement->setAttrib('required', false);}}\r\n* or: {{$dojoElement->setDijitParam('required', false);}}\r\n* or even: {{$dojoElement->setAttrib('dijitParams', array('required' => false));}}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-22T06:41:43.000+0000",
                    "updated": "2009-12-22T06:46:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38031",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Fixed on trunk and 1.10 release branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2010-01-25T12:26:05.000+0000",
                    "updated": "2010-01-25T12:26:05.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7660\/transitions"
}