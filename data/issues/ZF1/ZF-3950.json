{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3950",
    "key": "ZF-3950",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Dom_Query should remember its internal DOMDocument object"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3950\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:31.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jazzslider",
                "name": "jazzslider",
                "displayName": "Adam Jensen",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-08-14T10:53:44.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:31.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Currently every call to Zend_Dom_Query::queryXpath() results in a completely new DOMDocument object being created, regardless of whether or not the underlying document string has changed.  This means that the same node retrieved by two separate queries is not actually the same node, making it difficult to do comparisons.\n\n{code}\n$string = '<ul><li>first item<\/li><li>second item<\/li><\/ul>';\n$queryObject = new Zend_Dom_Query($string);\n\n\/\/ Retrieve the first list item once.\n$firstQueryResult = $queryObject->query('li');\n$firstItemFromFirstQuery = current($firstQueryResult);\n\n\/\/ Retrieve the first list item again.\n$secondQueryResult = $queryObject->query('li');\n$firstItemFromSecondQuery = current($secondQueryResult);\n\necho (integer)($firstItemFromFirstQuery->isSameNode($firstItemFromSecondQuery));\n{code}\n\nThe result I'd like to see here is 1 (true), but the actual result is 0 (false).\n\nIn order to make this work the way I was hoping, Zend_Dom_Query would need to avoid re-creating the DOMDocument object with each query, instead storing it internally and using it again later.\n\nOne downside of this approach is that the contents of $_document might not necessarily reflect the contents of the internally-stored DOMDocument object, if that object is modified by outside code."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3950\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11771",
                    "filename": "DOMDocument.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "created": "2009-02-25T16:04:09.000+0000",
                    "size": 2733,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11771\/DOMDocument.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10310",
                    "id": 10310,
                    "name": "Zend_Dom_Query",
                    "description": "Use CSS selectors to query (X)HTML or XML documents.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29099",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "body": "I attached a sample script of a DOMDocument implementation. This enables you to solve this issue's problem and similarly ZF-3939.And this class enables us to handle a DOMDocument with a pointer to CSS-Queried objects.\nThe usage is an aggregation of DOMDocument and Zend_Dom_Query.\nHowever I clipped part of the Zend_Dom_Query. If this approach make a sense,please review an attached scripts and add a comment.\n{code:title=testDOMDocument|borderStyle=solid}\n<?php\nrequire_once('Zend\/Dom\/DOMDocument.php');\n$string = '<ul><li>first item<\/li><li>second item<\/li><\/ul>';\n$dom = new Zend_Dom_DOMDocument();\n$dom->loadXML($string);\n\/\/ Retrieve the first list item once.\n$firstQueryResult = $dom->query('li');\n$firstItemFromFirstQuery = $firstQueryResult->current();\n\n\/\/ Retrieve the first list item again.\n$secondQueryResult = $dom->query('li');\n$firstItemFromSecondQuery = $secondQueryResult->current();\n\necho (integer)($firstItemFromFirstQuery->isSameNode($firstItemFromSecondQuery));\n\/\/ output: 1\n\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=noopable",
                        "name": "noopable",
                        "displayName": "Tomoaki Kosugi",
                        "active": true
                    },
                    "created": "2009-02-25T16:04:11.000+0000",
                    "updated": "2009-02-25T16:04:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30589",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=antonm",
                        "name": "antonm",
                        "displayName": "anton mabundo",
                        "active": true
                    },
                    "body": "Hi guys,\n\nI know this is not the proper forum to ask. but just one question. and maybe you can kick me off from this site. I was wondering how to use Zend_Dom. I tried my best searching for a good resource on the internet which gives tutorial on how to use it but aside from the brief introduction on Zend online manual I can't find anything more.\n\nAnyway, i'm just particularly confused on how to use the DomDocument\/DomElement objects. What are its member functions? I tried searching for the file which holds these classes in my installation but I can't figure where it's located.\n\nCan you just help me understand and probably give me a sample usage of this plugin? Or maybe just redirect me to the proper forum where I can learn this thing.\n\nLooking forward for you reply.\n\nThanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=antonm",
                        "name": "antonm",
                        "displayName": "anton mabundo",
                        "active": true
                    },
                    "created": "2009-05-01T08:10:11.000+0000",
                    "updated": "2009-05-01T08:10:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52311",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:52:31.000+0000",
                    "updated": "2012-11-20T20:52:31.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3950\/transitions"
}