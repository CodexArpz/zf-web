{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1886",
    "key": "ZF-1886",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Mime::LINEEND : Bad definition cause HTML Email \"broken\" (unreadable)"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/11",
                "name": "Patch",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1886\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/4",
                "name": "Incomplete"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-02-17T14:15:08.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jc.glombard",
                "name": "jc.glombard",
                "displayName": "Jean-Claude GLOMBARD",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-08-28T08:18:29.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-02-17T14:15:08.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "0.9.3 -> 1.0.1   -->  HTML Email are \"broken\"\n\nAfert few investigation, it's seems result of a bad definition of LINEEND constante in Zend_Mime\n\nIndex: Mime.php\n{code}\n--- Mime.php\t(revision 6198)\n+++ Mime.php\t(working copy)\n@@ -39,7 +39,7 @@\n     const DISPOSITION_ATTACHMENT = 'attachment';\n     const DISPOSITION_INLINE = 'inline';\n     const LINELENGTH = 74;\n-    const LINEEND = \"\\n\";\n+    const LINEEND = \"\\r\\n\";\n     const MULTIPART_ALTERNATIVE = 'multipart\/alternative';\n     const MULTIPART_MIXED = 'multipart\/mixed';\n     const MULTIPART_RELATED = 'multipart\/related';\n{code}\n\nExample of \"broken\" mail:\n\n{code}\nTo: \"mr.know@mydomaine.fr\" <mr.know@mydomaine.fr>\n\nSubject: [27\/08\/2007 20:27] Mail de Bouclage\n\nContent-Type: multipart\/mixed; charset=\"UTF-8\";\n\n boundary=\"=_c6c45fc06fd1b51070efc0676cefc9e3\"\n\nContent-Transfer-Encoding: 8bit\n\nContent-Disposition: inline\n\nMIME-Version: 1.0\n\nReturn-Path: noreply.alouette@mydomaine.fr\nMessage-ID: <SBSVN4MNJjZQU00004947@mail.mydomaine.fr>\nX-OriginalArrivalTime: 27 Aug 2007 18:27:01.0634 (UTC) FILETIME=[DC618620:01C7E8D7]\nDate: 27 Aug 2007 20:27:01 +0200\n{code}\n\nThis is a message in Mime Format.  If you see this, your mail reader does not support this format.\n\n\n{code}\n--=_c6c45fc06fd1b51070efc0676cefc9e3\n\nContent-Type: text\/html; charset=\"UTF-8\"\n\nContent-Transfer-Encoding: 8bit\n\nContent-Disposition: inline\n\n\n\n\u00c3\u00af\u00c2\u00bb\u00c2\u00bf<!DOCTYPE html PUBLIC \"-\/\/W3C\/\/DTD XHTML 1.0 Transitional\/\/EN\" \"http:\/\/www.w3.org\/TR\/xhtml1\/DTD\/xhtml1-transitional.dtd\">\n\n<html xmlns=\"http:\/\/www.w3.org\/1999\/xhtml\">\n\n  <head>\n  \n    <META http-equiv='Content-Type' content='text\/html; charset=UTF-8' \/>\n\n    <title>MAIL BOUCLAGE<\/title>\n\n    <style type=\"text\/css\">\n\n    <!--\n\n    body {\n\n    \tbackground-color: #FFFFFF;\n\n    \tfont-family: Verdana, Arial, Helvetica, sans-serif;\n\n    \tfont-size: 12px;\n\n    \tcolor: #000000;\n\n    }\n    \n    a:active { text-decoration: none; }\n\n    a:hover  { text-decoration: none; }\n\n    a:link   { text-decoration: none; }     \n\n    TABLE {\n\n      border: 1px solid #333333;\n\n    }    \n\n    TH {\n\n      width: 20px;\n\n      background-color:orange;\n\n    }\n\n    .color1 {\n\n    \tcolor : #FFFFFF;\n\n    }    \n\n    .color2 {\n\n    \tcolor : #333333;\n\n    }    \n\n    .titre {\n\n    \tfont-style: normal;\n\n    \tfont-weight: bold;\n\n    }\n\n    .texte_normal {\n\n    \tfont-style: normal;\n\n    \tfont-weight: normal;\n\n    }\n\n    .date {\n\n    \tfont-size: 12px;\n\n    \tfont-style: normal;\n\n    \tfont-weight: bolder;\n\n    \tcolor: #666666;\n\n    \ttext-decoration: none;\n\n    }\n\n    .texte_general {\n\n    \tfont-size: 12px;\n\n    \tfont-style: normal;\n\n    \tcolor: #333333;\n\n    }\n\n    -->\n\n    <\/style>        \n\n  <\/head>\n\n  <body>\n\n    <p class=\"texte_general\">Bonjour,<\/p>\n\n    <p><span class=\"texte_general\">Les derni&egrave;res pages des magazines suivant viennent d' &ecirc;tre livr&eacute;es &agrave; l'imprimeur.<\/span><\/p>\n\n    <br \/>\n\n    <p class=\"texte_general\">Points &agrave; v&eacute;:<\/p>\n\n    <p class=\"texte_general\">\n\n      <UL>\n\n        <LI>Date de bouclage et de parution<\/LI>\n\n        <LI>JPEGs<\/LI>\n\n        <LI>Revue <I>vraiment<\/I> boucl&eacute;<\/LI>\n\n      <\/UL>\n\n    <\/p>\n\n    \n\n  \t<br \/>\n\n    \n\n  \t<span class=\"date\">Maximal<\/span>\n\n  \t<TABLE cellspacing=\"0\">\n\n      <TR> \n\n        <TH>&nbsp;<\/TH> \n\n        <TD style='background-color:#333333;'> \n\n          <TABLE width='550px' style='border: none; background-color:#333333;'> \n\n            <TR class=\"color1\">\n\n              <TD class=\"titre\">Revue&nbsp;:&nbsp;<\/TD>\n\n              <TD class=\"texte_normal\">NOTD<\/TD>\n\n            <\/TR> \n\n            <TR class=\"color1\">\n\n              <TD class=\"titre\">Parution&nbsp;:&nbsp;<\/TD>\n\n              <TD class=\"texte_normal\">454<\/TD>\n\n            <\/TR> \n\n            <TR class=\"color1\">\n\n              <TD class=\"titre\">DI&nbsp;:&nbsp;<\/TD>\n\n              <TD class=\"texte_normal\">27\/08\/2007<\/TD>\n\n            <\/TR> \n\n\n          <\/TABLE>\n\n        <\/TD> \n\n        <TD align='center' style='background-color:#CCCCCC;'>\n\n          <A href='http:\/\/services.mydomaine.fr\/ficelle\/a_pdf\/printable.php?modekey=0104&loginID=474&rev=483&par=454' ><IMG alt='NOTD0454P001.jpg' src='cid:u288915453070827202501137' \/><\/A>\n\n        <\/TD> \n\n      <\/TR> \n\n    <\/TABLE>\n\n    <BR>\n\n    \n\n    <p class=\"texte_general\"> \n\n      Cordialement.\n\n   <\/p>\n\n  <\/body>\n\n<\/html>\n\n--=_c6c45fc06fd1b51070efc0676cefc9e3\n\nContent-Type: image\/jpeg\n\nContent-Transfer-Encoding: 8bit\n\nContent-ID: <u288915453070827202501137>\n\nContent-Disposition: inline; filename=\"MAXIMAL_84_001\"\n{code}\n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1886\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/10740",
                    "filename": "Zend_Mime.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jc.glombard",
                        "name": "jc.glombard",
                        "displayName": "Jean-Claude GLOMBARD",
                        "active": true
                    },
                    "created": "2007-08-28T08:19:16.000+0000",
                    "size": 500,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/10740\/Zend_Mime.diff"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11075",
                    "filename": "Zend_Mime_patch.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2008-01-09T09:55:21.000+0000",
                    "size": 500,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11075\/Zend_Mime_patch.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10019",
                    "id": 10019,
                    "name": "Zend_Mime",
                    "description": "support class for handling multi-part MIME messages",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/16506",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Assign to Nico.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-08-31T18:20:20.000+0000",
                    "updated": "2007-08-31T18:20:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/16565",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=nico",
                        "name": "nico",
                        "displayName": "Nico Edtinger",
                        "active": true
                    },
                    "body": "Have you tried setting EOL in your transport ($transport->EOL = \"\\r\\n\")?  It seems to be a similar issue as in ZF-589. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=nico",
                        "name": "nico",
                        "displayName": "Nico Edtinger",
                        "active": true
                    },
                    "created": "2007-09-08T13:00:47.000+0000",
                    "updated": "2007-09-08T13:00:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/17031",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jc.glombard",
                        "name": "jc.glombard",
                        "displayName": "Jean-Claude GLOMBARD",
                        "active": true
                    },
                    "body": "I trysetting EOL in my transport as you mention ($transport->EOL = \"\\r\\n\") but it doen't resolve my issue :(",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jc.glombard",
                        "name": "jc.glombard",
                        "displayName": "Jean-Claude GLOMBARD",
                        "active": true
                    },
                    "created": "2007-09-30T13:32:31.000+0000",
                    "updated": "2007-09-30T13:32:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/18250",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "body": "Please apply this patch to get this bugfix into the next release. This bug causes some mailservers to reject mails because of wrong linefeed.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bate",
                        "name": "bate",
                        "displayName": "Marco Kaiser",
                        "active": true
                    },
                    "created": "2008-01-09T09:55:21.000+0000",
                    "updated": "2008-01-09T09:55:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44422",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Please list the mail servers that have issues with the line feed being \\n.\r\n\r\nAFAIK, \\n is a industry acceptable line ending in mime despite what the RFC claims.\r\n\r\nIf possible, please make a case with examples\/screenshots\/error messages for changing the linefeed from \\n to \\r\\n.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2011-02-17T14:15:08.000+0000",
                    "updated": "2011-02-17T14:15:08.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1886\/transitions"
}