{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8739",
    "key": "ZF-8739",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Fatal error: Class 'Zend_CodeGenerator_Php_Docblock_Tag' not found"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8739\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-01-08T09:57:00.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dontcare",
                "name": "dontcare",
                "displayName": "Alexey Sargin",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-01-07T09:13:39.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-05-31T16:30:31.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "<?php\r\nrequire_once \"Zend\/CodeGenerator\/Php\/Class.php\";\r\n$foo = new Zend_CodeGenerator_Php_Class();\r\n?>\r\n\r\nFatal error: Class 'Zend_CodeGenerator_Php_Docblock_Tag' not found in \/usr\/local\/lib\/php\/Zend\/CodeGenerator\/Php\/Docblock\/Tag\/Param.php on line 34"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8739\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-11421",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11421",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10390",
                    "id": 10390,
                    "description": "Mini Release",
                    "name": "1.9.6",
                    "userReleaseDate": "24\/Nov\/09",
                    "archived": false,
                    "releaseDate": "2009-11-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10407",
                    "id": 10407,
                    "name": "Zend_CodeGenerator",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37492",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dontcare",
                        "name": "dontcare",
                        "displayName": "Alexey Sargin",
                        "active": true
                    },
                    "body": "If in file Zend\/CodeGenerator\/Php\/Docblock\/Tag.php to remove lines \r\nrequire_once ' Zend\/CodeGenerator\/Php\/Docblock\/Tag\/Param.php ';\r\nand\r\nrequire_once ' Zend\/CodeGenerator\/Php\/Docblock\/Tag\/Return.php ';\r\n\r\nThen works",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dontcare",
                        "name": "dontcare",
                        "displayName": "Alexey Sargin",
                        "active": true
                    },
                    "created": "2010-01-07T10:24:58.000+0000",
                    "updated": "2010-01-07T10:24:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37517",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "I've tried the following on trunk and cannot reproduce:\r\n\r\n{code}\r\n\r\nset_include_path('\/Users\/ralphschindler\/Projects\/ZFStandardTrunk\/library'); \/\/ current trunk\r\nrequire_once \"Zend\/CodeGenerator\/Php\/Class.php\";\r\n$foo = new Zend_CodeGenerator_Php_Class();\r\nvar_dump($foo); \/\/ works\r\n\r\n{code}\r\n\r\nIf you can supply more information, like a backtrace or something, please do and reopen.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2010-01-08T09:57:00.000+0000",
                    "updated": "2010-01-08T09:57:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41046",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danospv",
                        "name": "danospv",
                        "displayName": "Dan Osipov",
                        "active": true
                    },
                    "body": "Here is a debug backtrace on 1.10.5:\r\n\r\nFatal error: Class 'Zend_CodeGenerator_Php_Docblock_Tag' not found in \/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Docblock\/Tag\/Param.php on line 35\r\nCall Stack\r\n#\tTime\tMemory\tFunction\tLocation\r\n1\t0.0000\t327044\t{main}( )\t..\/index.php:0\r\n2\t0.0304\t1753412\tZend_Application->run( )\t..\/index.php:34\r\n3\t0.0304\t1753412\tZend_Application_Bootstrap_Bootstrap->run( )\t..\/Application.php:366\r\n4\t0.0305\t1753684\tZend_Controller_Front->dispatch( )\t..\/Bootstrap.php:97\r\n5\t0.0426\t2606964\tZend_Controller_Dispatcher_Standard->dispatch( )\t..\/Front.php:954\r\n6\t0.0536\t2854184\tZend_Controller_Action->dispatch( )\t..\/Standard.php:295\r\n7\t0.0537\t2858812\tTabController->createAction( )\t..\/Action.php:513\r\n8\t0.0537\t2858812\tAdmin_Model_Tab->create( )\t..\/TabController.php:81\r\n9\t0.0846\t3961800\tZend_Tool_Project_Provider_Abstract->__construct( )\t..\/Tab.php:71\r\n10\t0.0866\t4021840\tZend_Tool_Project_Context_Repository->addContextsFromDirectory( )\t..\/Abstract.php:85\r\n11\t0.1032\t4466196\tZend_Tool_Project_Context_Repository->addContextClass( )\t..\/Repository.php:79\r\n12\t0.1032\t4466240\tclass_exists ( )\t..\/Repository.php:86\r\n13\t0.1032\t4466616\tZend_Loader_Autoloader::autoload( )\t..\/Autoloader.php:0\r\n14\t0.1033\t4467992\tcall_user_func ( )\t..\/Autoloader.php:130\r\n15\t0.1033\t4468020\tZend_Loader_Autoloader->_autoload( )\t..\/Autoloader.php:0\r\n16\t0.1033\t4468200\tcall_user_func ( )\t..\/Autoloader.php:474\r\n17\t0.1033\t4468228\tZend_Loader::loadClass( )\t..\/Autoloader.php:0\r\n18\t0.1033\t4468720\tZend_Loader::loadFile( )\t..\/Loader.php:94\r\n19\t0.1035\t4476032\tinclude_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/Tool\/Project\/Context\/Zf\/ProjectProviderFile.php' )\t..\/Loader.php:146\r\n20\t0.1038\t4496464\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/File.php' )\t..\/ProjectProviderFile.php:31\r\n21\t0.1044\t4535892\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Class.php' )\t..\/File.php:31\r\n22\t0.1047\t4554468\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Method.php' )\t..\/Class.php:36\r\n23\t0.1052\t4567068\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Member\/Abstract.php' )\t..\/Method.php:26\r\n24\t0.1054\t4577952\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Docblock.php' )\t..\/Abstract.php:31\r\n25\t0.1055\t4587492\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Docblock\/Tag.php' )\t..\/Docblock.php:31\r\n26\t0.1057\t4594576\trequire_once( '\/var\/www\/social\/Stuzo\/library\/Zend\/CodeGenerator\/Php\/Docblock\/Tag\/Param.php' )\t..\/Tag.php:31\r\n\r\nIssue appears to be that the Param.php requires Tag.php, and Tag.php requires Param.php. It includes Param.php before the class has been initialized.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danospv",
                        "name": "danospv",
                        "displayName": "Dan Osipov",
                        "active": true
                    },
                    "created": "2010-06-18T04:56:09.000+0000",
                    "updated": "2010-06-18T04:56:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danospv",
                        "name": "danospv",
                        "displayName": "Dan Osipov",
                        "active": true
                    },
                    "body": "Please reopen the issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=danospv",
                        "name": "danospv",
                        "displayName": "Dan Osipov",
                        "active": true
                    },
                    "created": "2010-06-18T04:56:55.000+0000",
                    "updated": "2010-06-18T04:56:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46925",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "body": "Can reproduce on trunk with the following code:\r\n\r\n{code}\r\nset_include_path('\/path\/to\/library'); \/\/ current trunk\r\nrequire_once \"Zend\/CodeGenerator\/Php\/Docblock\/Tag.php\";\r\n$foo = new Zend_CodeGenerator_Php_Docblock_Tag();\r\n{code}\r\n\r\nAs mentioned by [~dontcare], it is due to spurious require_once statements in Zend_CodeGenerator_Php_Docblock_Tag causing a require_once loop. The statements were added in [14194|http:\/\/framework.zend.com\/code\/diff.php?repname=Zend+Framework&path=%2Ftrunk%2Flibrary%2FZend%2FCodeGenerator%2FPhp%2FDocblock%2FTag.php&rev=14194], back before the plugin loader was being used, and should have been removed in [14942|http:\/\/framework.zend.com\/code\/diff.php?repname=Zend+Framework&path=%2Ftrunk%2Flibrary%2FZend%2FCodeGenerator%2FPhp%2FDocblock%2FTag.php&rev=14942].",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "created": "2011-05-31T11:28:18.000+0000",
                    "updated": "2011-05-31T11:28:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46934",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "body": "The above code gives the following order for required files:\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "created": "2011-05-31T13:34:41.000+0000",
                    "updated": "2011-05-31T13:34:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46935",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "body": "The class instantiation isn't even necessary to reproduce:\r\n\r\n{code}\r\nset_include_path('\/path\/to\/library'); \/\/ current trunk\r\nrequire_once \"Zend\/CodeGenerator\/Php\/Docblock\/Tag.php\"; \/\/ Fatal\r\n{code}\r\n\r\nThe above code gives the following order for required files:\r\n\r\nZend\/CodeGenerator\/Php\/Docblock\/Tag.php\r\nZend\/CodeGenerator\/Php\/Abstract.php\r\nZend\/CodeGenerator\/Php\/Docblock\/Tag\/Param.php\r\n\r\nIf the Abstract class is manually required prior to the Tag class, the error is not seen:\r\n\r\n{code}\r\nset_include_path('\/path\/to\/library'); \/\/ current trunk\r\nrequire_once 'Zend\/CodeGenerator\/Php\/Abstract.php';\r\nrequire_once \"Zend\/CodeGenerator\/Php\/Docblock\/Tag.php\"; \/\/ works\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbuckley",
                        "name": "cbuckley",
                        "displayName": "Chris Buckley",
                        "active": true
                    },
                    "created": "2011-05-31T13:40:39.000+0000",
                    "updated": "2011-05-31T13:40:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46944",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Issue resolved in ZF-11421",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-05-31T16:30:31.000+0000",
                    "updated": "2011-05-31T16:30:31.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8739\/transitions"
}