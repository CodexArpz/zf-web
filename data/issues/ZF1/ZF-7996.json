{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7996",
    "key": "ZF-7996",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Bootstrap_BoostrapAbstract (line 354) is loading Zend_Db which is causing second unit test to fail"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7996\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                "name": "willsemto",
                "displayName": "William Vicary",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-10-01T09:10:04.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T21:37:59.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Fallback_Autoloader",
                "Zend_Application",
                "Zend_Test_PHPUnit_ControllerTestCase"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using \"Fallback Autloader\" with Zend_Test_PHPUnit_ControllerTestCase and Zend_Application, upon the second test setUp() the application is redeclaring Zend_Db even though Zend_Db was never explicitly declared anywhere in the project.  "
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7996\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12280",
                    "filename": "ZendTest.rar",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                        "name": "willsemto",
                        "displayName": "William Vicary",
                        "active": true
                    },
                    "created": "2009-10-01T09:14:46.000+0000",
                    "size": 2716,
                    "mimeType": "application\/x-rar-compressed",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12280\/ZendTest.rar"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10361",
                    "id": 10361,
                    "description": "Mini Release",
                    "name": "1.9.2",
                    "userReleaseDate": "25\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10390",
                    "id": 10390,
                    "name": "Zend_Application",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35034",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                        "name": "willsemto",
                        "displayName": "William Vicary",
                        "active": true
                    },
                    "body": "Here is the source code to reproduce the issue.  It works fine when you do not use the fallback autoloader, for example, if I go to tests\/application\/Bootstrap.php and replacing the fallback autoloader line with the following code:\n\n$autoloader = Zend_Loader_Autoloader::getInstance();\n$autoloader->registerNamespace('TestCase');",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                        "name": "willsemto",
                        "displayName": "William Vicary",
                        "active": true
                    },
                    "created": "2009-10-01T09:14:50.000+0000",
                    "updated": "2009-10-01T09:14:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38729",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "body": "try using, for silence of the error redeclare\r\n\r\n{code}\r\nZend_Loader_Autoloader::suppressNotFoundWarnings(true);\r\n{code}\r\n\r\nZend_Application::bootstrap(), execute all resources, if not passing the resource wanted.\r\nIn your case, beyond execute the resource FrontController execute the resource of the Db.\r\n\r\n\r\n\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramon",
                        "name": "ramon",
                        "displayName": "Ramon Henrique Ornelas",
                        "active": true
                    },
                    "created": "2010-02-24T19:14:05.000+0000",
                    "updated": "2010-02-24T19:14:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39089",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                        "name": "willsemto",
                        "displayName": "William Vicary",
                        "active": true
                    },
                    "body": "The issue is not that warnings are being raised, the problem lies that Zend attempts to autoload blindly on line 354 of Zend_Bootstrap_BootstrapAbstract, the use of class_exists($plugin) where $plugin is \"db\", \"view\" (or whatever you have in your application.ini resource.*) this causes class_exists to call the autoloader with \"db\" which when not using useFallbackAutoloader(true) causes it to blindly check include paths for the file \"Db.php\" which it finds in my ZF include path but as the class does not exist within the file it will attempt to autoload it again upon the second testcase and crash with a fatal error that class Zend_Db is already initiated.\r\n\r\nThis error also affects live code, but produces warnings that are surpressed, if you try loading a zend website using the bootstrap within a debugger such as Zend or XDebug the error messages should be shown in the console.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=willsemto",
                        "name": "willsemto",
                        "displayName": "William Vicary",
                        "active": true
                    },
                    "created": "2010-03-08T06:32:48.000+0000",
                    "updated": "2010-03-08T06:32:48.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7996\/transitions"
}