{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10372",
    "key": "ZF-10372",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Mail_Transport_Mock"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10372\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10160",
                    "id": 10160,
                    "description": "Major Release",
                    "name": "Next Major Release",
                    "archived": false,
                    "released": false
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-12-04T14:18:27.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                "name": "till",
                "displayName": "Till Klampaeckel",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-08-23T14:10:06.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-12-04T14:18:27.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Found the class in there:\r\nhttp:\/\/framework.zend.com\/svn\/framework\/laboratory\/ZFTestManager\/Zend\/Mail\/MailTest.php\r\n\r\nI think it would make a great addition. :-)"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10372\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                "name": "freak",
                "displayName": "Dolf Schimmel (Freeaqingme)",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10018",
                    "id": 10018,
                    "name": "Zend_Mail",
                    "description": "high-level utility to build MIME-compliant messages and send using a mail transport adapter",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42089",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "body": "You have a proposal Zend_Mail_Transport_File in the incubator actualy (see http:\/\/framework.zend.com\/wiki\/pages\/viewpage.action?pageId=22642954). It is in the same vein, I think. But, I agree it may be easier to have a class that avoids parse for testing.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "created": "2010-08-24T10:11:06.000+0000",
                    "updated": "2010-08-24T10:11:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42853",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "body": "Not sure I understand the request.\r\n\r\nZend_Mail_Transport_Mock already exists in trunk\/tests\/Zend\/Mail\/MailTest.php\r\n\r\nWhat are you proposing?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "created": "2010-11-06T03:13:34.000+0000",
                    "updated": "2010-11-06T03:13:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42854",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "I'm talking about being able to mock Zend_Mail in my application.\r\n\r\nThe necessary class to mock Zend_Mail in my app (!) already exists, but it's hidden inside the tests. It would be nice if this code is instead put in library where it belongs.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-11-06T03:23:09.000+0000",
                    "updated": "2010-11-06T03:23:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42857",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Have you looked at Zend_Transport_Mail?\r\n\r\nI'd like to see a usecase why this should be in the library dir. If a good one is provided however, I'll move it to the library folder in ZF2. Can't do so in 1.11 since it's a BC break \/ extra functionality and we wont have any other minor releases after 1.11.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-11-06T07:34:51.000+0000",
                    "updated": "2010-11-06T07:34:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42859",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "My use case is -- bear with me -- testing!\r\n\r\nWe really do TDD and all that. And when I run my unit tests, I don't want to send any emails, yet part of it require a mail object to be build and used. I want to unit-test though and not involve a mailserver, etc...\r\n\r\nAlso, this is not a BC break since it doesn't break existing behavior. BC means \"backward compatible\". This is preserved by adding an additional driver.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-11-06T12:01:35.000+0000",
                    "updated": "2010-11-06T12:01:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42860",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "I also mentioned Zend_Mail_Transport_File. Wouldn't that do it for you as well? Also, you can just include file that currently holds the mockclass.\r\n\r\nThough it still has to be considered new functionality, I'll discuss with the release manager if he can make an exception for this.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-11-06T12:09:44.000+0000",
                    "updated": "2010-11-06T12:09:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42861",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "Btw, yes I looked into {{Zend_Mail_Transport_Mail}} but I don't even want to generate any emails.\r\n\r\nIt's not the scope of my test. Instead I just want to execute my code and completely mock sending the email. I found that the class that is hidden in the unit tests for {{Zend_Mail}} does this very well. :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-11-06T12:24:56.000+0000",
                    "updated": "2010-11-06T12:24:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42862",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "I saw that you commented also, let me elaborate.\r\n\r\nYou are of course correct -- I can include it already but I usually don't distribute Zend Framework's test suite to staging and CI.\r\n\r\nThe problem with using another transport which requires configuration is, that this introduces another potential issues into my test suite. Probably small, but maybe not. The mock transport does exactly what it should do and it's painless.\r\n\r\nWith {{_File}}, at the bear minimum I need to configure where the files are left, fix it up with permissions and maybe also clean them up?\r\n\r\nOur test suite contains 5000+ tests (and a lot more assertions) and I'm trying to keep test specific configuration at a bare minimum. Besides, I also enjoy faster tests which need additional disk i\/o.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-11-06T12:30:36.000+0000",
                    "updated": "2010-11-06T12:30:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42863",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "body": "As someone who uses the _File transport (I copied the code into my own library and namespaced it), I can understand the potential cleanup issue. I have not tried this, but I suppose you could direct the files to \/dev\/null or something of the sort.\r\n\r\nHere is a snippet from my application.ini:\r\n\r\n;======================================\r\n; Mail\r\n;======================================\r\n; default mail transport settings\r\nresources.mail.transport.type              = \"com.example\\core\\mail\\transport\\File\"\r\nresources.mail.transport.path              = BASE_PATH \"\/tmp\/maillog\"\r\nresources.mail.transport.register          = true\r\n\r\n\r\nThe above block is under the common section. I configure the actual SMTP mailer under the production section. This way, mail only goes out via production; nothing else.\r\n\r\nI personally like the _File transport because it is great for debugging (if necessary; however, I haven't had the need as of yet).\r\n\r\nMy unit tests also test that the file was written. I could certainly add a cleanup step (I probably should) but I haven't done this yet.\r\n\r\nHaving the _File transport as a part of the actual ZF library would be great as I would not have to maintain my own, but it works well enough in the interim.\r\n\r\nIf anyone would like a copy of what I use, just let me know.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "created": "2010-11-06T12:51:31.000+0000",
                    "updated": "2010-11-06T12:52:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42864",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "{quote}Having the _File transport as a part of the actual ZF library would be great as I would not have to maintain my own, but it works well enough in the interim.{quote}\r\n\r\nIt already is. Or do you mean the ZF2 branch\/repo? I expect to get to that before the end of this year (probably earlier).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-11-06T12:58:16.000+0000",
                    "updated": "2010-11-06T12:58:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42865",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "body": "Good point. Yes, I was referring to the 1.x branch. I \"borrowed\" the code I found from the ZF2 branch :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "created": "2010-11-06T13:02:37.000+0000",
                    "updated": "2010-11-06T13:02:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42866",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "I'm not sure I can follow. You are aware zf1.11 does also have Zend_Mail_Transport_File (though it's only prefixed, not namespaced)?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-11-06T13:39:22.000+0000",
                    "updated": "2010-11-06T13:39:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42867",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "body": "@Dolf:\r\n\r\nActually, I did not know that. I am still on 1.10.x.\r\nThanks for the hint.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wilmoore",
                        "name": "wilmoore",
                        "displayName": "Wil Moore III (wilmoore)",
                        "active": true
                    },
                    "created": "2010-11-06T13:45:39.000+0000",
                    "updated": "2010-11-06T13:45:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42868",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "body": "In your own unit tests, if you want a null transport, can't you use a PHPUnit mock for this?  Something like\r\n\r\n{code}\r\n$transport = $this->getMock('Zend_Mail_Transport_Smtp'); \/\/ mocks all methods\r\n$mail = new Zend_Mail;\r\n$mail->setBodyText('body')\r\n     ->setFrom('from@domain.com', 'my name')\r\n     ->send($transport);\r\n{code}\r\n\r\nOr, maybe a class named Zend_Mail_Transport_Null in the library would make more sense than Zend_Mail_Transport_Mock, if what you're looking to do is have all calls to $mail->send() succeed but not actually send the mail within a dev environment.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "created": "2010-11-06T16:00:48.000+0000",
                    "updated": "2010-11-06T16:00:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43428",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "For now I've moved the MockObject to the library dir rather than depending on the test directory.\r\n\r\nMarc, your method looks pretty interesting. However, usually you'll want to be testing for the outcome of a method, rather than its input? Please convince me.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-12-02T21:23:16.000+0000",
                    "updated": "2010-12-02T21:23:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43429",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "body": "Dolf, you're right.  My example was limited to needing a null transport when testing other higher level items and not wanting them to send mail :)  Wouldn't work for examining the output.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjh_ca",
                        "name": "mjh_ca",
                        "displayName": "Marc Hodgins",
                        "active": true
                    },
                    "created": "2010-12-02T22:06:07.000+0000",
                    "updated": "2010-12-02T22:06:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43460",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Resolved in ZF2",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-12-04T14:18:27.000+0000",
                    "updated": "2010-12-04T14:18:27.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10372\/transitions"
}