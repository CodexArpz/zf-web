{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11068",
    "key": "ZF-11068",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "ErrorController created by zf.sh tries to call getParams() on non-object"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11068\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10540",
                    "id": 10540,
                    "description": "Mini Release",
                    "name": "1.11.4",
                    "userReleaseDate": "03\/Mar\/11",
                    "archived": false,
                    "releaseDate": "2011-03-03",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-02-17T10:33:20.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=xeroxer",
                "name": "xeroxer",
                "displayName": "Magnus Olsson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-02-12T11:37:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-02-17T10:33:22.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using Zend_Tool to create a project running:\r\nbq. zf create project\r\ngenerates an ErrorController with one line trying to call getParams() on non-object.\r\n\r\nLine 35 when finding a log instance it tries:\r\nbq. $request->getParams()\r\nbut the request variable is not set.\r\n\r\nWhat I think it means is:\r\nbq. $errors->request->getParams()\r\nwhich works as expected.\r\n\r\nFound the line in:\r\nbq. http:\/\/framework.zend.com\/svn\/framework\/standard\/trunk\/library\/Zend\/Tool\/Project\/Context\/Zf\/ControllerFile.php\r\non line 162:\r\nbq.     \\$log->log('Request Parameters', \\$priority, \\$request->getParams());"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11068\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                "name": "intiilapa",
                "displayName": "Beno\u00eet Durand",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-10428",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10428",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10530",
                    "id": 10530,
                    "description": "Mini Release",
                    "name": "1.11.3",
                    "userReleaseDate": "01\/Feb\/11",
                    "archived": false,
                    "releaseDate": "2011-02-01",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10380",
                    "id": 10380,
                    "name": "Zend_Tool",
                    "description": "Zend_Tool component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44353",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=xeroxer",
                        "name": "xeroxer",
                        "displayName": "Magnus Olsson",
                        "active": true
                    },
                    "body": "Checked the source for Zend_Log and noticed that I was wrong in thinking that $errors->request->getParams() would solve the problem.\r\nI guess everyone else knows this but doing that will just log them into the $event array with the parameter key as index.\r\nSo instead of getting it into the info index in the event array it will go into controller and action, which will not work that great trying to log the info.\r\n\r\nThat would result in when trying to format a log message with:\r\nbq. %timestamp% %priorityName% (%priority%): %message% -- %info%\r\nwould need to be:\r\nbq. %timestamp% [%priorityName%] (%priority%): %message% -- %controller% \/ %action%\r\nplus any other information that might be logged, and that's not good.\r\n\r\nAs I said earlier I guess the person working on this already figured this out but just in case. :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=xeroxer",
                        "name": "xeroxer",
                        "displayName": "Magnus Olsson",
                        "active": true
                    },
                    "created": "2011-02-12T13:03:39.000+0000",
                    "updated": "2011-02-12T13:03:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44354",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "body": "@Magnus, your comment is related to another issue (ZF-10427).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "created": "2011-02-13T00:27:40.000+0000",
                    "updated": "2011-02-13T00:27:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44357",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=xeroxer",
                        "name": "xeroxer",
                        "displayName": "Magnus Olsson",
                        "active": true
                    },
                    "body": "@Beno\u00eet isn't it related more to this issue since the adding of the %info% string will not solve the problem I was talking about.\r\nSure the adding of the %info% string is more related to the other issue but that was not the point of my comment.\r\nThe point was that even if the issue reported here is fixed with the solution I suggested it will not be using the logging correctly.\r\nIt will be passing an array with string keys into the log and the log will insert the values into those keys instead of the info key.\r\nSo even if the log string is changed to:\r\nbq. %timestamp% %priorityName% (%priority%): %message% - %info%\r\nthis issue with the ErrorController will still be using it \"incorrectly\"?\r\n\r\nUntil this is fixed I am using the line:\r\nbq. $log->log('Request Parameters', $priority, print_r($errors->request->getParams(), true));\r\nand then the request parameters are logged using %info%.\r\n\r\nSorry if I am not understanding the connection between my comment and the other issue and if that is the case I will comment that issue instead. :\/",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=xeroxer",
                        "name": "xeroxer",
                        "displayName": "Magnus Olsson",
                        "active": true
                    },
                    "created": "2011-02-13T04:23:50.000+0000",
                    "updated": "2011-02-13T04:23:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44358",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "body": "It's not the good issue to talk about it, because it's a design problem between the simple formatter and extra info event. %info% is mixed type. So, it's can be an array. We don't have this problem with the others writers like db, Firebug, xml stream, or ZendMonitor.\r\nI think that the issue for the extra info can be resolved in ZF2.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "created": "2011-02-13T05:03:31.000+0000",
                    "updated": "2011-02-13T05:03:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44410",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "body": "Fix in r23708",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=intiilapa",
                        "name": "intiilapa",
                        "displayName": "Beno\u00eet Durand",
                        "active": true
                    },
                    "created": "2011-02-17T10:33:21.000+0000",
                    "updated": "2011-02-17T10:33:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11068\/transitions"
}