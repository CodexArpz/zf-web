{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8126",
    "key": "ZF-8126",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "using cache with paginator"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8126\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-03-01T04:59:20.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jhwrthngtn",
                "name": "jhwrthngtn",
                "displayName": "John Worthington",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-10-22T16:49:00.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-03-01T04:59:21.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I am having difficulty in saving the db selection following the initial selection.\r\n\r\nMy development environment is XP, xampp, mySql\r\nApache\/2.2.12 (Win32) DAV\/2 mod_ssl\/2.2.12 OpenSSL\/0.9.8k mod_autoindex_color PHP\/5.3.0 mod_perl\/2.0.4 Perl\/v5.10.0\r\n\r\nI am able to save the select statement as a session[] variable.  This works except for the warning message. (noted in the docs)\r\n\r\nUsing Zend_Session as a replacement for session gives the error message:\r\n'Cannot send headers; headers already sent in ...\r\n\r\nI am able to use Zend_Session variables where the paginator is not involved.\r\n\r\nI also have tried to use Zend_cache as shown in the paginator documentation.\r\n\r\nThe code for the Model with the paginator is:\r\n\r\n{code}\r\nclass Admin_Model_Client\r\n{\r\n  protected $_table;\r\n\r\n  \/\/fetch all entries from table\r\n  public function fetchAllEntries($pgreq=null,$lname=NULL,$comp=NULL,\r\n  \t\t\t\t\t\t\t\t$city=NULL,$state=NULL,$email=NULL,$ccode=NULL)\r\n  {\r\n \/\/   \t\t$session = new  Zend_Session_Namespace('Default');\r\n  \t$sessionNew = false;\r\n    $table = $this->getTable();\r\n    $select = null;\r\n    if (($lname != null || $comp != null ||$city != null ||\r\n    \t $state != null || $email != null || $ccode != null))\r\n    {\r\n    $select = $table->select()\r\n       \t->from('client',\r\n       \t \t \tarray('recid', 'lname', 'fname','email',\r\n       \t \t \t'company','city','state'))\r\n       \t   \t ->order('lname ASC')\r\n        \t ;\r\n        if ($lname != '')\t \r\n    \t\t$select->where('lname like ?',$lname . '%');\r\n        if ($comp != '')\t \r\n    \t\t$select->where('company like ?',$comp . '%');\r\n        if ($city != '')\t \r\n    \t\t$select->where('city like ?',$city . '%');\r\n        if ($state != '')\t \r\n    \t\t$select->where('state like ?',$state . '%');\r\n        if ($email != '')\t \r\n    \t\t$select->where('email like ?',$email . '%');\r\n    \tif ($ccode != '')\t \r\n    \t\t$select->where('ccode like ?','%' . chr(48 + intval($ccode)) . '%');\r\n    \t$sessionNew  = true;\r\n    }\r\n    else\r\n    {\r\n\/\/    \tif (isset($session->select))\r\n\/\/ \t\t   \t$select = $session->select;\r\n\/\/    \telse\r\n    \t{\r\n    \t\t$select = $table->select()\r\n       \t\t\t->from('client',\r\n       \t \t \t  array('recid', 'lname', 'fname','email',\r\n       \t \t \t\t\t'company','city','state'))\r\n        \t \t->order('lname ASC')\r\n        \t ;\r\n    \t}\r\n    }\r\n    $pgadapter = new Zend_Paginator_Adapter_DbTableSelect($select);\r\n    $paginator = new Zend_Paginator($pgadapter);\r\n    if ($sessionNew == true) {\r\n    \t$fO = array('lifetime' => 3600, 'automatic_serialization' => true);\r\n$bO = array('cache_dir'=>'\/tmp');\r\n$cache = Zend_cache::factory('Core', 'File', $fO, $bO);\r\n    \t$paginator->setCache($cache); \r\n    \t$paginator->setCacheEnabled(false); \r\n    \t$pgadapter = new Zend_Paginator_Adapter_DbTableSelect($select);\r\n    \t$paginator->setCacheEnabled(true);\r\n    }\r\n    \r\n    $paginator->setItemCountPerPage(10);\r\n    $paginator->setCurrentPageNumber($pgreq);\r\n    return $paginator;\r\n  }\r\n\r\n}\r\n{code}\r\n\r\nAny guidance would appreciated.  I have be working on this for some time.\r\n\r\nThank you\r\n\r\n\r\n or cache as shown "
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8126\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mabe",
                "name": "mabe",
                "displayName": "Marc Bennewitz (private)",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10350",
                    "id": 10350,
                    "description": "Mini Release",
                    "name": "1.9.1",
                    "userReleaseDate": "11\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10028",
                    "id": 10028,
                    "name": "Zend_Cache",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10315",
                    "id": 10315,
                    "name": "Zend_Paginator",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35481",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jhwrthngtn",
                        "name": "jhwrthngtn",
                        "displayName": "John Worthington",
                        "active": true
                    },
                    "body": "I made the discovery that Zend_Session::start(); is required in the bootstrap.\r\n\r\nI am now able to save the select criteria and avoid the problem with session[].\r\n ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jhwrthngtn",
                        "name": "jhwrthngtn",
                        "displayName": "John Worthington",
                        "active": true
                    },
                    "created": "2009-10-23T07:24:44.000+0000",
                    "updated": "2009-10-23T07:24:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38898",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mabe",
                        "name": "mabe",
                        "displayName": "Marc Bennewitz (private)",
                        "active": true
                    },
                    "body": "1. this hasn't anything concerned with Zend_Cache or Zend_Paginator\r\n2. In general the session have to be started before any output was send to browser\r\n-> see http:\/\/php.net\/manual\/function.session-start.php\r\n3. Please don't truncate error messages you get next time ('Cannot send headers; headers already sent in ...)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mabe",
                        "name": "mabe",
                        "displayName": "Marc Bennewitz (private)",
                        "active": true
                    },
                    "created": "2010-03-01T04:59:21.000+0000",
                    "updated": "2010-03-01T04:59:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8126\/transitions"
}