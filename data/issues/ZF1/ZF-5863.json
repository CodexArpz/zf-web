{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5863",
    "key": "ZF-5863",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Setting default locale does not work"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeestimate": 0,
                "timespent": 1800
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5863\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10290",
                    "id": 10290,
                    "description": "Mini Release",
                    "name": "1.7.6",
                    "userReleaseDate": "02\/Mar\/09",
                    "archived": false,
                    "releaseDate": "2009-03-02",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-02-25T03:34:01.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                "name": "akzincdig",
                "displayName": "Ashley Kitson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-02-23T05:55:08.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-02-25T03:35:17.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "default",
                "locale",
                "set"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "According to the documentation (example 29.9) we should be able to set an override for the locale.  The following code will not work as expected;\n\n\nif (intval($appCfg->overideLocale) == 1) {\n    $l = new Zend_Locale($appCfg->locale);\n    Zend_Registry::set('Zend_Locale', $l);\n} else {\n    Zend_Locale::setDefault($appCfg->locale);\n}\n$l2 = new Zend_Locale();\nZend_Debug::dump($l2);\n\nIf I set my browser (firefox) to use 'fr' but set $appCfg->locale = 'en' and $appCfg->overideLocale = 1 I would expect $l2 to be 'en', but it isn't .  It is 'fr'\n\nIf I step through Zend_Locale::_prepareLocale() the following lines at line 878 in ZF 1.7.2:\n\n            if (is_array($locale) === true) {\n                $locale = key($locale);\n            }\n\nwill return 'fr' for the call to $l2 = new Zend_Locale(); because the locale array has 'fr' as the highest 'quality' i.e 1, where as 'en' although first in the array has a quality of 0.7.  Nowhere is the Zend_Registry interrogated for a default locale value.\n\nI have placed this code before any use of Zend_locale is made in the rest of the application.\n\n\nAm I missing something or is this a real bug?\n\nRegards\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5863\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/worklog\/21831",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5863",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "comment": "Evaluation, review and testing",
                    "created": "2009-02-25T03:35:17.000+0000",
                    "updated": "2009-02-25T03:35:17.000+0000",
                    "started": "2009-02-25T03:34:00.000+0000",
                    "minutesSpent": 1800
                }
            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10271",
                    "id": 10271,
                    "description": "Mini Release",
                    "name": "1.7.2",
                    "userReleaseDate": "23\/Dec\/08",
                    "archived": false,
                    "releaseDate": "2008-12-23",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10073",
                    "id": 10073,
                    "name": "Zend_Locale",
                    "description": "Zend_Locale is a basic wrapper for all I18N and L10N issues for the Zend Framework. It provides the userbasically with access to translation functionality. It can handle different source file types for translation.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29028",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "I am sure the component works as defined.\nCan you give HTTP_ACCEPT_LANGUAGE for the cases and the result\/taken locale ?\n\nTo note: According to manual the default locale is used when no known locale can be found.\n\nAlso to note: Locales are not taken according to their position, but according to their quality, which is defined from 1 to be best and 0.1 to be least.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-23T13:47:01.000+0000",
                    "updated": "2009-02-23T13:47:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29042",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "Thomas\n\nHTTP_ACCEPT_LANGUAGE =  fr,en;q=0.7,en-us;q=0.3\n\nSection 29.1.8 of the manual says\n\"Zend Framework allows the usage of an application wide locale. You simply set an instance of Zend_Locale to the registry with the key 'Zend_Locale'. Then this instance will be used within all locale aware classes of Zend Framework. This way you set one locale within your registry and then you can forget about setting it again. It will automatically be used in all other classes. See the below example for the right usage: \"\n\nIt then gives the example, from which my code is based.\n\nI understand the point about locales being taken according to their quality.  My point is that the predefined locale set into the registry is never taken into account.  If I hack Zend_Locale and put in\n\nif ($locale === null &&Zend_Registry::isRegistered('Zend_Locale')) {\n  $locale = Zend_Registry::get('Zend_Locale')->toString();\n}\n \nat about line 855 in _prepareLocale() then I get the expected result, i.e the value set in the registry.  \n\nI don't think this is a complete answer because I'm not sure that Zend_Translate is always getting its locale from the same place.  The point is, I need to be able to force the application to use the locale I set irrespective of any browser set locale and that isn't working.  It is far too tedious to go through the entire codebase and set the locale every time I use Zend_Date, Zend_Translate etc etc.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-23T23:48:13.000+0000",
                    "updated": "2009-02-23T23:48:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29043",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You said that you set \"fr\" for your browser... from your returned HTTP* I see that you've set \"fr\", \"en\" and \"en_US\" to be accepted. In your case the used locale could be \"fr\" or \"en\".\n\nOnly when your user requests another locale like \"hu\", the default locale would come in place.\nThe manual clearly states this:\nThe last sentence of the default locale chapter reads:\n{quote}In the case that no locale can be detected, automatically the locale de will be used. Otherwise, the detected locale will be used.{quote}\n\nTo your second point:\n{quote}The point is, I need to be able to force the application to use the locale I set irrespective of any browser set locale and that isn't working.{quote}\nIt is...\n\nReading the manual:\n{quote}Zend Framework allows the usage of an application wide locale. You simply set an instance of Zend_Locale to the registry with the key 'Zend_Locale'. Then this instance will be used within all locale aware classes of Zend Framework. This way you set one locale within your registry and then you can forget about setting it again. It will automatically be used in all other classes.{quote}\n\nA application wide locale has nothing to do with a default fallback locale.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T00:01:56.000+0000",
                    "updated": "2009-02-24T00:02:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29045",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "I would humbly submit that the application wide locale I am setting is NOT being used by all other classes.  \n\nI have translation strings in my application for English and French.  In this particular situation, I never want the French translation being used, only the English ones.  i.e the site must be mono-lingual.  However, if I set an application wide locale as discussed above, the system will still pick up the browser set locale (fr in this example) and translate into that language.  That is not in my opinion using an application wide locale, but falling back to a default if translations are not available for the browser locale.\n\nI do understand the difference between application wide locale and a default fallback locale.  Zend uses Zend_Locale::setDefault() to set the default fallback locale.   That is not what I am trying to do in this particular case.  \n\nCurrently the only way I can see of getting around this problem is to remove all the French translation strings and set a default fallback locale.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-24T00:34:29.000+0000",
                    "updated": "2009-02-24T00:34:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You are speaking of problems with Zend_Locale, but in your above text you note that you have problems with translation.\n\nIn no one of your example I can see how you are using Zend_Translate.\n\nLooking at Zend_Translate you will note that in several lines it calls\n{code}Zend_Locale::findLocale();{code}\nto get the locale to use.\n\nAnd the first lines within this method read:\n{code}        if ($locale === null) {\n            require_once 'Zend\/Registry.php';\n            if (Zend_Registry::isRegistered('Zend_Locale')) {\n                $locale = Zend_Registry::get('Zend_Locale');\n            }\n        }\n{code}\n\nOnly when the registry is not set, it degrades to the detection routines.\n\n{quote}I do understand the difference between application wide locale and a default fallback locale. Zend uses Zend_Locale::setDefault() to set the default fallback locale. That is not what I am trying to do in this particular case.{quote}\n\nWhy are you then discussing this point when you know that this not the problem in your case as it's not used ? ;-)\n\n{quote}Currently the only way I can see of getting around this problem is to remove all the French translation strings and set a default fallback locale.{quote}\n\nUse application wide locale as described within the manual. Check if the registry is really set to the expected value within the bootstrap or, if it's not available when calling Zend_Translate.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T01:18:15.000+0000",
                    "updated": "2009-02-24T01:18:15.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29048",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Degrading priority from Critical to Major as this is a user handling problem and not a bug for the next release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T01:20:21.000+0000",
                    "updated": "2009-02-24T01:20:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29049",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "Thomas\n\nI didn't look in Zend_Translate because I took for granted that when the manual says that Zend_Locale is used by *all* locale aware parts of ZF I was expecting it to do just that. Silly me :-)\n\nAnd findLocale() doesn't exist in Zend_Locale (or indeed anywhere), at least not in the V1.7.2 library I am using.  So which version are you talking about?\n\nZend_Locale::_prepareLocale() doesn't check the registry either.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-24T01:45:38.000+0000",
                    "updated": "2009-02-24T01:45:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29054",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "{quote}I didn't look in Zend_Translate because I took for granted that when the manual says that Zend_Locale is used by all locale aware parts of ZF I was expecting it to do just that.{quote}\n\nIt is. But when you have problems with Zend_Translate you should look at Zend_Translate and not at Zend_Locale. Writing an issue for another component is not really helpfull as several facts are missing ;-)\n\n{quote}And findLocale() doesn't exist in Zend_Locale (or indeed anywhere), at least not in the V1.7.2 library I am using. So which version are you talking about?{quote}\n\nAs you are referring to the manual I am also referring to the release the manual was written for. This is actually 1.7.5... you noted that you are using ZF 1.7.2 in your comment.\n\nAs this code and the related sentence \/ section in the manual was added 18.Jan. it's in release 1.7.4. 1.7.2 simply doesn't have this method.\n\nPlease update to 1.7.4 or the actual 1.7.5. There should be no BC breaks when you are already on 1.7.2 (there are no in I18N) as these are mini releases.\n\nWaiting for your reply",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T04:34:24.000+0000",
                    "updated": "2009-02-24T04:34:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29055",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "OK Thomas, I'll go grab 1.7.5 and try again.  I did indicate that this was an issue in 1.7.2 in the bug report though\n\nI'll put the system through a test cycle and see if I get different results.  Thanks.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-24T04:49:32.000+0000",
                    "updated": "2009-02-24T04:49:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29056",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Yes, you have :-)\n\nBut the manual is for the actual release, and of course problems told in the past are already solved. I don't know if this is the case for this issue, but as the code differs I expect so.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T04:56:50.000+0000",
                    "updated": "2009-02-24T04:56:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29057",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "Using ZF 1.7.5\n\nrequire_once 'Zend\/Loader.php';\nZend_Loader::registerAutoload();\n$l1 = new Zend_Locale('en_GB');\nZend_Registry::set('Zend_Locale', $l1);\n$l2 = new Zend_Locale();\n\nresult: HTTP_ACCEPT_LANGUAGE = fr,en;q=0.7,en-us;q=0.3\nresult: $l1 = 'en_GB'\nresult: $l2 = 'fr'\n\nTherefore setting an application wide locale is *not* working as documented.\n\nI'll test the Zend_Translate functionality and report any issues separately",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-24T05:44:09.000+0000",
                    "updated": "2009-02-24T05:44:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29058",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "body": "The fix for it is to do exactly what has been done in findLocale() in _prepareLocale() and check the registry if the $locale parameter is null",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akzincdig",
                        "name": "akzincdig",
                        "displayName": "Ashley Kitson",
                        "active": true
                    },
                    "created": "2009-02-24T05:53:30.000+0000",
                    "updated": "2009-02-24T05:53:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29059",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "When you register Zend_Locale this locale is used for other components like Zend_Translate, Zend_Currency and so on.\n\nCreating a new locale object means that you create a new instance. A new instance does not use previous stored values as you should get the registry in this case when you want to have the stored object from before. A new locale does ALWAYS use autodetection on browser\/system when you do not give a locale.\n\nThis is expected, documented and wished behaviour.\n\nAs stated in the manual calling new Zend_Locale() returns the browser-environment locales.\nWhat you suggests is not a fix but a feature change which would result in a BC break.\n\nOnly because something does not work as you expected it does not mean that there is a failure. ;-)\nNormally there is a reason for it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-24T06:56:48.000+0000",
                    "updated": "2009-02-24T06:56:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29075",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Closing as non-issue",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-02-25T03:34:01.000+0000",
                    "updated": "2009-02-25T03:34:01.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5863\/transitions"
}