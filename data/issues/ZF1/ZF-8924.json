{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8924",
    "key": "ZF-8924",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Auth_Adapther_Http weird production problem"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8924\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-05-14T16:14:04.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=warden",
                "name": "warden",
                "displayName": "Radek Antoniuk",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-01-25T02:50:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-05-14T16:14:04.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi all, \r\n\r\nI have a weird problem. In bootstrap.php:\r\n\/* AUTHENTICATION *\/\r\n$config = array(\r\n        'accept_schemes' => 'basic',\r\n        'realm'          => 'admin',\r\n  );\r\n  \r\n$adapter = new Zend_Auth_Adapter_Http($config); \r\n$resolver = new Zend_Auth_Adapter_Http_Resolver_File( APP_PATH.'\/application\/config\/pass' ); \r\n\r\n$adapter->setBasicResolver($resolver); \/\/ set the file resolver instance\r\nZend_Auth::getInstance()->setStorage(new Zend_Auth_Storage_NonPersistent()); \/\/ we are not using sessions \r\nZend_Controller_Front::getInstance()->registerPlugin( new My_Plugin_Dispatcher($adapter) ); \/\/ dispatcher-to-auth plugin\r\n\/* end of auth *\/\r\n\r\nwith standard dispatcher looop plugin:\r\npublic function dispatchLoopStartup(Zend_Controller_Request_Abstract $request) { \r\n        \/* we want the AUTH only on the admin controllers *\/\r\n    \tif ($this->_request->getControllerName() != \"admin\") return;\r\n    \t\r\n    \t$auth = Zend_Auth::getInstance();\r\n\r\n        $this->authAdapter->setRequest($this->_request); \r\n    \t$this->authAdapter->setResponse($this->_response); \r\n    \t$result = $auth->authenticate($this->authAdapter); \r\n  \r\n        if (!$result->isValid()) { \r\n        \t$this->_request->setControllerName('index'); \r\n        \t$this->_request->setActionName('index');\r\n    \t} \r\n}\r\n\r\nThe problem is, that this works on my laptop's XAMPP (2.2.x), but doesn't work on a production apache server (2.0.x). No exception is thrown, it just keeps asking like the user\/pass is wrong.\r\nI have tried to debug a bit but with no luck. Any hints or ideas how to debug that?\r\n\r\nRequest headers:\r\nHost: www.test.com\r\nUser-Agent: Mozilla\/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2) Gecko\/20100115 Firefox\/3.6 FirePHP\/0.4\r\nAccept: text\/html,application\/xhtml+xml,application\/xml;q=0.9,*\/*;q=0.8\r\nAccept-Language: en,en-us;q=0.5\r\nAccept-Encoding: gzip,deflate\r\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\nKeep-Alive: 115\r\nConnection: keep-alive\r\nReferer: http:\/\/www.test.com\/%5C%22%5C%5C%5C%22\r\nCookie: PHPSESSID=dc6bc3697efc7b221595a4d61514bf48; __utmc=81293329; __utma=81293329.1786847239.1264344635.1264367643.1264381043.3; __utmz=81293329.1264344635.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)\r\nAuthorization: Basic a3JlZHl0b3dhOjEyMzQ1\r\n\r\nResponse headers:\r\nDate: Mon, 25 Jan 2010 09:59:09 GMT\r\nServer: Apache\/2.0.63 (Unix) mod_ssl\/2.0.63 OpenSSL\/0.9.8b PHP\/4.4.9 FrontPage\/5.0.2.2634 mod_perl\/2.0.3 Perl\/v5.8.8\r\nX-Powered-By: PHP\/5.2.6\r\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\r\nPragma: no-cache\r\nWWW-Authenticate: Basic realm=\"admin\"\r\nX-Wf-Protocol-1: http:\/\/meta.wildfirehq.org\/Protocol\/JsonStream\/0.2\r\nX-Wf-1-Structure-1: http:\/\/meta.firephp.org\/Wildfire\/Structure\/FirePHP\/FirebugConsole\/0.1\r\nX-Wf-1-Plugin-1: http:\/\/meta.firephp.org\/Wildfire\/Plugin\/ZendFramework\/FirePHP\/1.6.2\r\nX-Wf-1-1-1-1: 62|[{\"Type\":\"INFO\",\"File\":\"\",\"Line\":\"\"},\"This is a log message!\"]|\r\nKeep-Alive: timeout=15, max=99\r\nConnection: Keep-Alive\r\nTransfer-Encoding: chunked\r\nContent-Type: text\/html\r\n\r\nInteresting thing, I have tested on a different server, and it works perfectly.\r\nPlease note that the apache runs php4 in a module, but php5 via cgi. Can that cause problems?\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8924\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10084",
                    "id": 10084,
                    "name": "Zend_Auth",
                    "description": "A abstraction for various concrete web application authentication implementations.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38334",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=warden",
                        "name": "warden",
                        "displayName": "Radek Antoniuk",
                        "active": true
                    },
                    "body": "I have caught headers with Fiddler for the good auth (xampp) and wrong auth:\r\nGET \/admin HTTP\/1.1\r\nAccept: image\/gif, image\/jpeg, image\/pjpeg, image\/pjpeg, application\/x-shockwave-flash, application\/x-ms-application, application\/x-ms-xbap, application\/vnd.ms-xpsdocument, application\/xaml+xml, application\/vnd.ms-excel, application\/vnd.ms-powerpoint, application\/msword, *\/*\r\nAccept-Language: pl\r\nUser-Agent: Mozilla\/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident\/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; InfoPath.2; .NET CLR 1.1.4322; .NET CLR 3.5.30428; WWTClient2)\r\nAccept-Encoding: gzip, deflate\r\nConnection: Keep-Alive\r\nCookie: __utma=81293329.408808534.1262097989.1264382575.1265582094.6; __utmz=81293329.1262097989.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmb=81293329.1.10.1265582094; __utmc=81293329; PHPSESSID=76534cbe162505d3397a57ddaabd1d75\r\nAuthorization: Basic a3JlZHl0b3dhOndha2FjamUyMDEw\r\nHost: www.wakacje-kredytowa2.pl\r\n\r\nHTTP\/1.1 401 Unauthorized\r\nDate: Sun, 07 Feb 2010 22:36:12 GMT\r\nServer: Apache\/2.0.63 (Unix) mod_ssl\/2.0.63 OpenSSL\/0.9.8b PHP\/4.4.9 FrontPage\/5.0.2.2634 mod_perl\/2.0.3 Perl\/v5.8.8\r\nX-Powered-By: PHP\/5.2.6\r\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\r\nPragma: no-cache\r\nWww-Authenticate: Basic realm=\"admin\"\r\nKeep-Alive: timeout=15, max=100\r\nConnection: Keep-Alive\r\nTransfer-Encoding: chunked\r\nContent-Type: text\/html\r\n\r\n\r\n\r\nGET \/admin HTTP\/1.1\r\nAccept: image\/gif, image\/jpeg, image\/pjpeg, image\/pjpeg, application\/x-shockwave-flash, application\/x-ms-application, application\/x-ms-xbap, application\/vnd.ms-xpsdocument, application\/xaml+xml, application\/vnd.ms-excel, application\/vnd.ms-powerpoint, application\/msword, *\/*\r\nAccept-Language: pl\r\nUser-Agent: Mozilla\/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident\/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; InfoPath.2; .NET CLR 1.1.4322; .NET CLR 3.5.30428; WWTClient2)\r\nAccept-Encoding: gzip, deflate\r\nConnection: Keep-Alive\r\nHost: kredytowa\r\nCookie: PHPSESSID=6f9ccj7s55vahf5tilmuvdtc70\r\nAuthorization: Basic a3JlZHl0b3dhOndha2FjamUyMDEw\r\n\r\nHTTP\/1.1 200 OK\r\nDate: Sun, 07 Feb 2010 22:37:01 GMT\r\nServer: Apache\/2.2.14 (Win32) DAV\/2 mod_ssl\/2.2.14 OpenSSL\/0.9.8l mod_autoindex_color PHP\/5.3.1 mod_apreq2-20090110\/2.7.1 mod_perl\/2.0.4 Perl\/v5.10.1\r\nX-Powered-By: PHP\/5.3.1\r\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\r\nPragma: no-cache\r\nContent-Length: 6928\r\nKeep-Alive: timeout=5, max=100\r\nConnection: Keep-Alive\r\nContent-Type: text\/html\r\n\r\nStill no idea what is causing that. The password file is the same in both cases...\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=warden",
                        "name": "warden",
                        "displayName": "Radek Antoniuk",
                        "active": true
                    },
                    "created": "2010-02-07T14:43:59.000+0000",
                    "updated": "2010-02-07T14:43:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40976",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "body": "It sounds like you copied the authentication credentials file directly from your Windows laptop to the Unix\/Linux production server. If so, you're probably running into bug ZF-6831: The file resolver is picking up the carriage return at the end of the line on Unix\/Linux, and considering that part of the password. Hence, none of the passwords work. You could try converting the credentials file to a Unix text file as a work around.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gearhead",
                        "name": "gearhead",
                        "displayName": "Bryce Lohr",
                        "active": true
                    },
                    "created": "2010-06-12T08:08:31.000+0000",
                    "updated": "2010-06-12T08:08:31.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8924\/transitions"
}