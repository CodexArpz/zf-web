{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6421",
    "key": "ZF-6421",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "joinLeft overwrites value of the field to join on with NULL in case no matching right table entry is found"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6421\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=nogenius",
                "name": "nogenius",
                "displayName": "Christian Opitz",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-04-25T12:40:48.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-06-12T21:44:15.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Using a left join seems to overwrite the value of the field to join on in the left table with NULL in case  no matching right table entry is found.\n\nAssume you have the following tables for users and domains:\n\n{code:sql}\nCREATE TABLE IF NOT EXISTS `user` (\n  `id_user` tinyint(4) NOT NULL auto_increment,\n  `firstname` varchar(50) NOT NULL,\n  PRIMARY KEY  (`id_user`)\n) \n\nINSERT INTO `user` (`id_user`,  `firstname`) VALUES\n(1, 'Christian');\n\n\nCREATE TABLE IF NOT EXISTS `domain` (\n  `id_domain` tinyint(4) NOT NULL auto_increment,\n  `id_user` tinyint(4) NOT NULL,\n  `name_domain` varchar(50) NOT NULL,\n  PRIMARY KEY  (`id_domain`)\n) \n{code}\n\n\nNow you want to do a left join and get all users and the assigned domains with one of the following code examples. \n{code:java}$select = $db->select()\n             ->from('user')\n             ->joinLeftUsing('domain', 'id_user');\n$user = $db->fetchAll($select);{code}\n\n{code:java}$select = $db->select()\n             ->from('user')\n             ->joinLeft(('domain'),\n                    'user.id_user = domain.id_user');\n$user = $db->fetchAll($select);{code}\n\n{code:java}\n$user = $db->fetchAll(' SELECT `user` . * , `domain` . *\nFROM `user`\nLEFT JOIN `domain` ON `domain`.`id_user` = `user`.`id_user`');\n{code} \n\nThe generated SQL query is always correct:\n{code:sql}\nSELECT `user`.*, `domain`.* FROM `user` LEFT JOIN `domain` ON `domain`.id_user = `user`.id_user\n{code} \n\nBut the result is not correct:\nArray ( [0] => Array ( [id_user] => [firstname] => Christian [name_domain] => ) ) \n\nThe result should be:\n*Array ( [0] => Array ( [id_user] => 1 [firstname] => Christian [name_domain] => ) ) *\n\nThe correct result can from my point of view currently only be reached with the following workaround:\nExplicitly select the columns from your right table, and do not select the field used in the join clause-\n\nExample (*note the additional colunm selection 'name_domain' in contrast to the example above*):\n{code:java}$select = $db->select()\n             ->from('user')\n             ->joinLeftUsing('domain', 'id_user', 'name_domain');\n$user = $db->fetchAll($select);{code}\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6421\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10132",
                    "id": 10132,
                    "name": "Zend_Db_Select",
                    "description": "OO interface to building a SELECT SQL query.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51086",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vestigal",
                        "name": "vestigal",
                        "displayName": "Vestigal",
                        "active": true
                    },
                    "body": "I can confirm that this is an issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vestigal",
                        "name": "vestigal",
                        "displayName": "Vestigal",
                        "active": true
                    },
                    "created": "2012-06-12T21:44:14.000+0000",
                    "updated": "2012-06-12T21:44:14.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6421\/transitions"
}