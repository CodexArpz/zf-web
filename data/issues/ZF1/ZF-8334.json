{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8334",
    "key": "ZF-8334",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Dojo_Form_Element (tested with NumberSpinner) rendering in viewScript behaviour"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8334\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:53:14.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tridem",
                "name": "tridem",
                "displayName": "Webdevilopers",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-11-19T03:23:34.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:53:14.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "First of all several lines of code. I reduced it to the most important lines.\r\n\r\nForm init():\r\n{code}\r\n...\r\n$this->setDecorators(array(\r\n    'PrepareElements',\r\n    array(\r\n        'ViewScript', array(\r\n            'viewScript' => 'quote-request\/_dormer.phtml'\r\n        )\r\n    )\r\n));\r\n\r\n$this->addElement(\r\n    'NumberSpinner',\r\n    'dormer_quantity',\r\n    array(\r\n        'required' => true,\r\n        'label' => 'dormer_quantity_label',\r\n        'dijitParams' => array(\r\n            'min' => 1,\r\n            'max' => 20,\r\n            'places' => 0\r\n        )\r\n    )\r\n);\r\n\r\n$dormerInnerWidthElement = new Zend_Dojo_Form_Element_NumberSpinner(\r\n    'dormer_inner_width',\r\n    array(\r\n        'required' => true,\r\n        'label' => 'dormer_inner_width_label',\r\n        'dijitParams' => array(\r\n            'min' => 60,\r\n            'max' => 1000,\r\n            'places' => 0\r\n        )\r\n    )\r\n);\r\n$dormerInnerWidthElement->setDecorators(array(\r\n    'DijitElement', array(\r\n        'Label', array(\r\n            'tag' => 'dt',\r\n            'class' => 'required'\r\n        )\r\n    )\r\n));\r\n$this->addElement($dormerInnerWidthElement);\r\n\r\n$this->addElement(\r\n    'RadioButton',\r\n    'gutter',\r\n    array(\r\n        'required' => true,\r\n        'label' => 'dormer_gutter_label',\r\n        'multiOptions' => array(\r\n            0 => 'no',\r\n            1 => 'yes'\r\n        ),\r\n        'dijitParams' => array(\r\n            'foo' => 'bar'\r\n        )\r\n    )\r\n);\r\n...\r\n{code}\r\n\r\nViewScript quote-request\/_dormer.phtml\r\n{code}\r\n...\r\n<?= $this->element->dormer_quantity; ?>\r\n<dt>\r\n    <?= $this->translate($this->element->dormer_inner_width->getLabel()); ?>\r\n    <?= $this->formLabel($this->element->dormer_inner_width->getName(), $this->element->dormer_inner_width->getLabel(), $this->element->dormer_inner_width->getAttribs()) ?>\r\n<\/dt>\r\n<dd>\r\n    <?= $this->{$this->element->dormer_inner_width->helper}(\r\n        $this->element->dormer_inner_width->getName(),\r\n        $this->element->dormer_inner_width->getValue(),\r\n        $this->element->dormer_inner_width->getDijitParams(),\r\n        $this->element->dormer_inner_width->getAttribs()\r\n    ) ?>\r\n<\/dd>\r\n<?= $this->element->gutter; ?>\r\n...\r\n{code}\r\n\r\nGenerated HTML\r\n{code}\r\n<dt id=\"dormer_quantity-label\">\r\n    <label for=\"dormer-dormer_quantity\" class=\"required\">How many dormers?<\/label>\r\n<\/dt>\r\n<dd>\r\n    <input id=\"dormer-dormer_quantity\" name=\"dormer[dormer_quantity]\" value=\"\" type=\"text\" \/>\r\n<\/dd>\r\n<dt>\r\n    Inner width of dormer?\r\n    <label for=\"dormer_inner_width\" helper=\"NumberSpinner\" dijitParams=\"200 250 0\">dormer_inner_width_label<\/label>\r\n<\/dt>\r\n<dd>\r\n    <input helper=\"NumberSpinner\" dijitParams=\"200 250 0\" id=\"dormer_inner_width\" name=\"dormer_inner_width\" value=\"\" type=\"text\" \/>\r\n<\/dd>\r\n<dt id=\"gutter-label\">\r\n    <label for=\"dormer-gutter\" class=\"required\">Gutter?<\/label>\r\n<\/dt>\r\n<dd>\r\n    <label for=\"dormer-gutter-0\">\r\n    <input type=\"radio\" name=\"dormer[gutter]\" id=\"dormer-gutter-0\" value=\"0\" \/>no<\/label>\r\n    <br \/>\r\n    <label for=\"dormer-gutter-1\">\r\n    <input type=\"radio\" name=\"dormer[gutter]\" id=\"dormer-gutter-1\" value=\"1\" \/>yes<\/label>\r\n<\/dd>\r\n{code}\r\n\r\nDumps on each elements getAttribs() method:\r\n{code}\r\n\/\/ dormer_quantity\r\narray(3) {\r\n  [\"helper\"] => string(13) \"NumberSpinner\"\r\n  [\"dijitParams\"] => array(3) {\r\n    [\"min\"] => int(1)\r\n    [\"max\"] => int(20)\r\n    [\"places\"] => int(0)\r\n  }\r\n  [\"id\"] => string(22) \"dormer-dormer_quantity\"\r\n}\r\n\/\/ dormer_inner_width\r\narray(2) {\r\n  [\"helper\"] => string(13) \"NumberSpinner\"\r\n  [\"dijitParams\"] => array(3) {\r\n    [\"min\"] => int(200)\r\n    [\"max\"] => int(250)\r\n    [\"places\"] => int(0)\r\n  }\r\n}\r\n\/\/ gutter\r\narray(3) {\r\n  [\"helper\"] => string(11) \"RadioButton\"\r\n  [\"options\"] => array(2) {\r\n    [0] => string(4) \"nein\"\r\n    [1] => string(2) \"ja\"\r\n  }\r\n  [\"dijitParams\"] => array(1) {\r\n    [\"foo\"] => string(3) \"bar\"\r\n  }\r\n}\r\n{code}\r\n\r\nNow the behaviours I don't unserstand:\r\n\r\n1. Missing translation for `dormer_inner_width` label\r\nThe translation for `label for=\"dormer_inner_width\"` does not work. The translation is definitely there as you can see in the HTML code!\r\n\r\n2. Attributes in <label> tag\r\na) In order to parse the \"id\" attribute (see `dormer_quantity` example) I added the thrid parameter to the formLabel() method.\r\nBut the getAttribs() method does not return the \"id\". This maybe is a normal behaviour normal since I use a ViewScript Decorator.\r\nBut should the attribute not be generated anyway to be available by calling the method on the element?\r\n\r\nb) Same idea on the `class` attribute I set in the `dormer_inner_width` decorators. Should this be available by the getAttribs() method if desired to add to the formLabel ViewHelper?\r\nOr does a ViewScript always remove every original attribute?\r\n\r\nc) Instead the getAttribs() method returns dojo attribs allthough I use the `Zend_Dojo_View_Helper_Dojo::useProgrammatic()` method.\r\nShouldn't these attribs be filtered out?\r\nYou can compare the behaviour with the `RadioButton` element which does exactely this. No `foo` attribute appears in the HTML code.\r\n\r\n\r\nI suppose some of these behaviours are \"correct\" or at least bounded by the ViewScript Helper.\r\nBut some don't make sense to me.\r\n\r\nThanks in advance for your attention."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8334\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10380",
                    "id": 10380,
                    "description": "Mini Release",
                    "name": "1.9.5",
                    "userReleaseDate": "27\/Oct\/09",
                    "archived": false,
                    "releaseDate": "2009-10-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10311",
                    "id": 10311,
                    "name": "Zend_Dojo",
                    "description": "Dojo integration with Zend Framework",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36201",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Fixed component assignment",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-11-19T12:35:32.000+0000",
                    "updated": "2009-11-19T12:35:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52667",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:53:14.000+0000",
                    "updated": "2012-11-20T20:53:14.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8334\/transitions"
}