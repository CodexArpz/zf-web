{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5518",
    "key": "ZF-5518",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_View_Helper_Action tries to render wrong view script"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5518\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                "name": "psil",
                "displayName": "Carl Broberg Gunnarsson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-01-11T09:08:14.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-08-14T19:00:06.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have 3 modules in my project. Default, Forum and News. On my startpage (Which is IndexController and indexAction of the default module) in the view script file i have $this->action('list', 'index', 'news'), but it won't render the right list.phtml which is the one in my news module, it tries to render the list.phtml in my default module, but it don't have one so it returns an empty string. When i created list.phtml in my default module and put \"hello\" in it, then it will show the \"Hello\" string on my startpage.\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5518\/watchers",
                "isWatching": false,
                "watchCount": 6
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "View_Helper",
                "zf-crteam-padraic",
                "zf-crteam-priority"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=padraic",
                "name": "padraic",
                "displayName": "P\u00e1draic Brady",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11735",
                    "filename": "Abstract.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-02-06T17:26:02.000+0000",
                    "size": 30833,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11735\/Abstract.php"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11734",
                    "filename": "Action.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-02-06T17:18:41.000+0000",
                    "size": 4787,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11734\/Action.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10270",
                    "id": 10270,
                    "description": "Mini Release",
                    "name": "1.7.1",
                    "userReleaseDate": "01\/Dec\/08",
                    "archived": false,
                    "releaseDate": "2008-12-01",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10271",
                    "id": 10271,
                    "description": "Mini Release",
                    "name": "1.7.2",
                    "userReleaseDate": "23\/Dec\/08",
                    "archived": false,
                    "releaseDate": "2008-12-23",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10250",
                    "id": 10250,
                    "description": "Mini Release",
                    "name": "1.7.3",
                    "userReleaseDate": "19\/Jan\/09",
                    "archived": false,
                    "releaseDate": "2009-01-19",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10350",
                    "id": 10350,
                    "description": "Mini Release",
                    "name": "1.9.1",
                    "userReleaseDate": "11\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10026",
                    "id": 10026,
                    "name": "Zend_View",
                    "description": "View portion of the ZF MVC",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28054",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Assigning to Ralph.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-01-11T09:50:05.000+0000",
                    "updated": "2009-01-11T09:50:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28253",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "body": "I modified the _script method of the Zend_View_Abstract class into the following code\n\n    \/**\n     * Finds a view script from the available directories.\n     *\n     * @param $name string The base name of the script.\n     * @return void\n     *\/\n    protected function _script($name)\n    {\n        if (0 == count($this->_path['script'])) {\n            require_once 'Zend\/View\/Exception.php';\n            throw new Zend_View_Exception('no view script directory set; unable to determine location for view script',\n                $this);\n        }\n\n        \/\/ If the Zend_View_Helper_Action is called, then look through the requested modules view scripts first.\n        if (isset($this->_helper['Action']->request)) {\n            $request = $request = $this->_helper['Action']->request;\n            $actionModuleName = $request->getModuleName();\n            if ($moduleScriptDirectories = preg_grep(\"\/$moduleName\/i\", $this->_path['script'])) {\n                foreach ($moduleScriptDirectories as $dir) {\n                    if (is_readable($dir . $name)) {\n                        return $dir . $name;\n                    }\n                }\n            }\n        }\n\n        foreach ($this->_path['script'] as $dir) {\n            if (is_readable($dir . $name)) {\n                return $dir . $name;\n            }\n        }\n\n        require_once 'Zend\/View\/Exception.php';\n        $message = \"script '$name' not found in path (\"\n                 . implode(PATH_SEPARATOR, $this->_path['script'])\n                 . \")\";\n        throw new Zend_View_Exception($message, $this);\n    }\n\n\nMaybe not the most elegant code, but it does the trick.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-01-16T00:48:20.000+0000",
                    "updated": "2009-01-16T00:48:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28254",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "body": "Ignore my previous post \n\nThis is the working method\n\n{quote}\n    \/**\n     * Finds a view script from the available directories.\n     *\n     * @param $name string The base name of the script.\n     * @return void\n     *\/\n    protected function _script($name)\n    {\n        if (0 == count($this->_path['script'])) {\n            require_once 'Zend\/View\/Exception.php';\n            throw new Zend_View_Exception('no view script directory set; unable to determine location for view script',\n                $this);\n        }\n\n        \/\/ If the Zend_View_Helper_Action is called, then look through the requested modules view scripts first.\n        if (isset($this->_helper['Action']->request)) {\n            $request = $request = $this->_helper['Action']->request;\n            $actionModuleName = $request->getModuleName();\n            if ($moduleScriptDirectories = preg_grep(\"\/$actionModuleName\/i\", $this->_path['script'])) {\n                foreach ($moduleScriptDirectories as $dir) {\n                    if (is_readable($dir . $name)) {\n                        return $dir . $name;\n                    }\n                }\n            }\n        }\n\n        foreach ($this->_path['script'] as $dir) {\n            if (is_readable($dir . $name)) {\n                return $dir . $name;\n            }\n        }\n\n        require_once 'Zend\/View\/Exception.php';\n        $message = \"script '$name' not found in path (\"\n                 . implode(PATH_SEPARATOR, $this->_path['script'])\n                 . \")\";\n        throw new Zend_View_Exception($message, $this);\n    }\n{quote}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-01-16T01:12:46.000+0000",
                    "updated": "2009-01-16T01:12:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28676",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "body": "Calle,\n\nCan you post a patch file instead of the updated code. This can be fixed faster that way.\n\nThanks.\n\nJon",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sidhighwind",
                        "name": "sidhighwind",
                        "displayName": "Jon Whitcraft",
                        "active": true
                    },
                    "created": "2009-02-06T13:01:22.000+0000",
                    "updated": "2009-02-06T13:01:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28681",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "body": "Here is my patched Zend_View_Helper_Action",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-02-06T17:18:42.000+0000",
                    "updated": "2009-02-06T17:18:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/28682",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "body": "The former file i uploaded (Action.php) is wrong!\n\nThis is the correct patched file, im sorry for the wrong upload, im a bit tired at the moment. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=psil",
                        "name": "psil",
                        "displayName": "Carl Broberg Gunnarsson",
                        "active": true
                    },
                    "created": "2009-02-06T17:26:02.000+0000",
                    "updated": "2009-02-06T17:26:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33433",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "Same error on 1.9.1. I never had to explicitly set the view directory up to 1.7.8.\n\nStill trying to trace why this is the case. I'm using the modular structure.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2009-08-13T08:27:29.000+0000",
                    "updated": "2009-08-13T08:27:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33434",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "You're aware that using the action view helper is generally considered bad practice? http:\/\/www.rmauger.co.uk\/2009\/03\/why-the-zend-framework-actionstack-is-evil\/",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-08-13T08:52:08.000+0000",
                    "updated": "2009-08-13T08:52:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33437",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "This is my error messages. Unfortunately not related to the action helper. It doesn't look like it at least.\n\n{code}\n[13-Aug-2009 15:35:39] PHP Fatal error:  Uncaught exception 'Zend_View_Exception' with message 'no view script directory set; unable to determine location for view script' in \/foo\/library\/Zend\/View\/Abstract.php:912\nStack trace:\n#0 \/foo\/library\/Zend\/View\/Abstract.php(829): Zend_View_Abstract->_script('error\/error.pht...')\n#1 \/foo\/library\/Zend\/Controller\/Action\/Helper\/ViewRenderer.php(903): Zend_View_Abstract->render('error\/error.pht...')\n#2 \/foo\/library\/Zend\/Controller\/Action\/Helper\/ViewRenderer.php(924): Zend_Controller_Action_Helper_ViewRenderer->renderScript('error$\n#3 \/foo\/library\/Zend\/Controller\/Action\/Helper\/ViewRenderer.php(963): Zend_Controller_Action_Helper_ViewRenderer->render()\n#4 \/foo\/library\/Zend\/Controller\/Action\/HelperBroker.php(277): Zend_Controller_Action_Helper_ViewRenderer->postDispatch()\n#5 \/foo\/library\/Zend\/Controller\/Action.php(523): Zen in \/foo\/library\/Zend\/View\/Abstract.php on line 912\n{code}\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2009-08-13T10:13:17.000+0000",
                    "updated": "2009-08-13T10:13:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39392",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "body": "Ok, we switched to Zend_Layout.\r\n\r\nI used {{addBasePath()}} on {{Zend_View}} and that seems to have effectively fix it for me. I'm not sure why I needed that all of a sudden.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=till",
                        "name": "till",
                        "displayName": "Till Klampaeckel",
                        "active": true
                    },
                    "created": "2010-03-19T11:14:26.000+0000",
                    "updated": "2010-03-19T11:14:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39393",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Does that mean we can mark the issue as resolved now?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2010-03-19T11:43:07.000+0000",
                    "updated": "2010-03-19T11:43:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39394",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=padraic",
                        "name": "padraic",
                        "displayName": "P\u00e1draic Brady",
                        "active": true
                    },
                    "body": "Looks like it can be worked around, but the problem is still there. Give it a week or two, I assigned it to myself after exchanging emails with Till, so I'll investigate more thoroughly over the weekend. There's also several patched files attached claiming to resolve this without needing a workaround or change in practice.\r\n\r\nTill, can you explain more precisely what your resolution was for the record?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=padraic",
                        "name": "padraic",
                        "displayName": "P\u00e1draic Brady",
                        "active": true
                    },
                    "created": "2010-03-19T11:59:26.000+0000",
                    "updated": "2010-03-19T11:59:26.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/44506",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Any ideas or movement here?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2011-02-18T15:14:24.000+0000",
                    "updated": "2011-02-18T15:14:24.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5518\/transitions"
}