{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9557",
    "key": "ZF-9557",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Cannot turn off \"use numbers\" feature for captcha words (bug fix attached)"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9557\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-04-07T17:52:03.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                "name": "vfdev",
                "displayName": "Vaughn Draughon",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-03-28T09:20:33.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-04-07T17:52:03.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The {{$_useNumbers}} property of the {{Zend_Captcha_Word}} class cannot be disabled (set to false) because there are no getter or setter methods like {{setUseNumber()}} or {{getUseNumber()}}.\r\n\r\nThe Zend_Captcha_Word class contains a protected property called {{$_useNumbers}} (line {{81}}) and this property is used to determine whether or not to generate a word that is completely alphabetic with letters only or alphanumeric with letters and numbers (lines {{304}} and {{305}}). There is, however, no method for setting - or getting - this value and because it is a private property it cannot be set manually by the user of the class. \r\n\r\nThe {{$_useNumbers}} property has a default value of true and the property is tied into the word generation code, so is used for the word-type (alpha vs alphanumeric) decision process already, but the behavior cannot be changed because there is no way to set the property, so the {{Zend_Captcha}} classes are limited to alphanumeric words only - i.e. you cannot generate captchas with words that use letters only if you are using any of the {{Zend_Captcha}} components.\r\n\r\nThe fix for this is very simple, and until the ZF team implements this fix, users can simply extend the captcha class of their choice, as illustrated below, with the proper getter and setter methods and use that instead. This works successfully for me, but it would be nice to see this fixed in future versions so this workaround, and the extra time it takes, is not required. Perhaps the dev team thought it better not to allow people to use numberless captchas unless they knew what they were doing :)\r\n\r\n*The Fix:* add these two methods to the {{Zend_Captcha_Word}} class. The updated Zend_Captcha_Word class file is already attached to the bug.\r\n\r\n{noformat}\r\n    public function getUseNumbers()\r\n    {\r\n        return $this->_useNumbers;\r\n    }\r\n\r\n    public function setUseNumbers($useNumbers)\r\n    {\r\n        $this->_useNumbers = $useNumbers;\r\n        return $this;\r\n    }\r\n{noformat}\r\n\r\n*The Temporary Solution:* extend your own captcha class from the appropriate desired base class and add the above two methods\r\n\r\n{noformat}\r\n<?php\r\nrequire_once 'Zend\/Captcha\/Image.php';\r\n\r\nclass My_Captcha_Image extends Zend_Captcha_Image\r\n{\r\n    public function getUseNumbers()\r\n    {\r\n        return $this->_useNumbers;\r\n    }\r\n\r\n    public function setUseNumbers($useNumbers)\r\n    {\r\n        $this->_useNumbers = $useNumbers;\r\n        return $this;\r\n    }\r\n}\r\n?>\r\n{noformat}\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9557\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                "name": "stas",
                "displayName": "Stanislav Malyshev",
                "active": false
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12955",
                    "filename": "Word.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                        "name": "vfdev",
                        "displayName": "Vaughn Draughon",
                        "active": true
                    },
                    "created": "2010-03-28T09:23:10.000+0000",
                    "size": 9539,
                    "mimeType": "application\/x-httpd-php",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12955\/Word.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10430",
                    "id": 10430,
                    "description": "Mini Release",
                    "name": "1.10.2",
                    "userReleaseDate": "24\/Feb\/10",
                    "archived": false,
                    "releaseDate": "2010-02-24",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10340",
                    "id": 10340,
                    "name": "Zend_Captcha",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39617",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                        "name": "vfdev",
                        "displayName": "Vaughn Draughon",
                        "active": true
                    },
                    "body": "Here is the updated\/fixed Zend_Captcha_Class",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                        "name": "vfdev",
                        "displayName": "Vaughn Draughon",
                        "active": true
                    },
                    "created": "2010-03-28T09:23:10.000+0000",
                    "updated": "2010-03-28T09:23:10.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39618",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                        "name": "vfdev",
                        "displayName": "Vaughn Draughon",
                        "active": true
                    },
                    "body": "Attached the patched class file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=vfdev",
                        "name": "vfdev",
                        "displayName": "Vaughn Draughon",
                        "active": true
                    },
                    "created": "2010-03-28T09:26:23.000+0000",
                    "updated": "2010-03-28T09:26:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39843",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=purda",
                        "name": "purda",
                        "displayName": "Peter Urda",
                        "active": true
                    },
                    "body": "An easy fix, I was able to add this to my Zend library locally and it work perfectly. Should be an easy commit to trunk by someone with write access.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=purda",
                        "name": "purda",
                        "displayName": "Peter Urda",
                        "active": true
                    },
                    "created": "2010-04-06T06:36:29.000+0000",
                    "updated": "2010-04-06T06:36:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39844",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "body": "Could you please provide a .diff patch and unit tests for the setter\/getter? I can apply it to the trunk then.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dasprid",
                        "name": "dasprid",
                        "displayName": "Ben Scholzen",
                        "active": true
                    },
                    "created": "2010-04-06T06:59:28.000+0000",
                    "updated": "2010-04-06T06:59:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39880",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "body": "fixed, added getter\/setter in trunk",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stas",
                        "name": "stas",
                        "displayName": "Stanislav Malyshev",
                        "active": false
                    },
                    "created": "2010-04-07T17:52:03.000+0000",
                    "updated": "2010-04-07T17:52:03.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9557\/transitions"
}