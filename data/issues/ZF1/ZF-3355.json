{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3355",
    "key": "ZF-3355",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Implement fetchPairs()"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3355\/votes",
                "votes": 6,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10160",
                    "id": 10160,
                    "description": "Major Release",
                    "name": "Next Major Release",
                    "archived": false,
                    "released": false
                }
            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                "name": "alienbrain",
                "displayName": "Amr Mostafa",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-05-30T02:08:20.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-05-30T13:45:42.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Fetching key => value pairs is a common need for every one. Zend_Db_Adapter_Abstract has a convenient fetchPairs() method, and this issue aims to add even more convenient support for this in Zend_Db_Table."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/6",
                "name": "N\/A"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3355\/watchers",
                "isWatching": false,
                "watchCount": 7
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-2006",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2006",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11311",
                    "filename": "Zend_Db_Table_fetchPairs.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "created": "2008-05-30T02:11:21.000+0000",
                    "size": 2810,
                    "mimeType": "text\/x-diff",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11311\/Zend_Db_Table_fetchPairs.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11323",
                    "filename": "Zend_Db_Table_fetchPairs_SelectOnly.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "created": "2008-06-07T09:04:04.000+0000",
                    "size": 1617,
                    "mimeType": "text\/x-diff",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11323\/Zend_Db_Table_fetchPairs_SelectOnly.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10181",
                    "id": 10181,
                    "description": "Mini Release",
                    "name": " 1.5.2",
                    "userReleaseDate": "15\/May\/08",
                    "archived": true,
                    "releaseDate": "2008-05-15",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10133",
                    "id": 10133,
                    "name": "Zend_Db_Table",
                    "description": "Lightweight OO interface to database tables and rowsets.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22020",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "body": "A patch is attached. It works exactly the same as fetchAll(), but it accepts an extra parameter (the first) which has to be an array of the 2 column names.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "created": "2008-05-30T02:11:21.000+0000",
                    "updated": "2008-05-30T02:11:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22042",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin.mayer",
                        "name": "martin.mayer",
                        "displayName": "Martin Mayer",
                        "active": true
                    },
                    "body": "Usage of $where, $order, $count and $offset parameters to modify the query is depracated in fetchRow() and fetchAll() methods. Wouldn't it make sense for new method to allow passing only Zend_Db_Table_Select instance as no BC break can happen?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=martin.mayer",
                        "name": "martin.mayer",
                        "displayName": "Martin Mayer",
                        "active": true
                    },
                    "created": "2008-06-01T03:12:59.000+0000",
                    "updated": "2008-06-01T03:12:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22053",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Please assign and categorize as necessary. I've already targeted a release, but please update if that schedule is not realistic.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-06-01T13:00:16.000+0000",
                    "updated": "2008-06-01T13:00:16.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22172",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "body": "I totally agree with Martin, but that's in the case it will be scheduled for next Major release. (Which is how it's scheduled now).\n\nBut if it's going to be in the next minor release, then IMO it should try to be consistent with the rest of the usual fetch* API. Otherwise it would feel like PHP, have to go look up the manual every time... :P\n\nI've attached a patch which accepts Zend_Db_Table_Select instances only.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=alienbrain",
                        "name": "alienbrain",
                        "displayName": "Amr Mostafa",
                        "active": true
                    },
                    "created": "2008-06-07T09:04:04.000+0000",
                    "updated": "2008-06-07T09:04:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36874",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "body": "Working patch is ready for over a year, but not yet in upstream :-( ? This method is quite handy in many cases (e.g. adding multi options to zend_form_element_select), and current state force developers to apply this patch on their own extended classes, or break the zend_db_table paradigm and use directly zend_db->fetchPairs()... \r\n\r\nSo please, if this patch is ok, would be possible to merge it into zend_db_table?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "created": "2009-12-11T12:52:44.000+0000",
                    "updated": "2009-12-11T12:52:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50876",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "body": "BTW, instead of direct access to $this->_rowsetClass, the getter class should be used, like this:\r\n\r\nPatch for Zend_Db_Table_fetchPairs.patch:\r\n\r\n-        Zend_Loader::loadClass($this->_rowsetClass);\r\n-        return new $this->_rowsetClass($data);\r\n+        $rowsetClass = $this->getRowsetClass();\r\n+        if (!class_exists($rowsetClass)) {\r\n+            require_once 'Zend\/Loader.php';\r\n+            Zend_Loader::loadClass($rowsetClass);\r\n+        }\r\n+        return new $rowsetClass($data);",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "created": "2012-05-30T13:42:01.000+0000",
                    "updated": "2012-05-30T13:42:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50877",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "body": "Ehm, maybe this one gets better comments:\r\n\r\n{code}\r\n-        Zend_Loader::loadClass($this->_rowsetClass);\r\n-        return new $this->_rowsetClass($data);\r\n+        $rowsetClass = $this->getRowsetClass();\r\n+        if (!class_exists($rowsetClass)) {\r\n+            require_once 'Zend\/Loader.php';\r\n+            Zend_Loader::loadClass($rowsetClass);\r\n+        }\r\n+        return new $rowsetClass($data);\r\n{\/code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ondram",
                        "name": "ondram",
                        "displayName": "Ondrej Machulda",
                        "active": true
                    },
                    "created": "2012-05-30T13:45:42.000+0000",
                    "updated": "2012-05-30T13:45:42.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3355\/transitions"
}