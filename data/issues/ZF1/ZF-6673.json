{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6673",
    "key": "ZF-6673",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_View_Helper_Navigation_Menu::renderSubMenu() should use minDepth=1 per default"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6673\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/5",
                "name": "Cannot Reproduce"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-05-16T06:24:58.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                "name": "rockaut",
                "displayName": "Markus",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-15T05:32:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-03-10T00:01:59.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Zend_View_Helper_Navigation_Menu"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_View_Helper_Navigation_Menu::renderSubMenu() should use minDepth=1 per default, because logically the root menu doesn't belong in a \"sub menu\"."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6673\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                "name": "robinsk",
                "displayName": "Robin Skoglund",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-9379",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9379",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11929",
                    "filename": "navigation.xml",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T06:48:15.000+0000",
                    "size": 1709,
                    "mimeType": "text\/xml",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11929\/navigation.xml"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10026",
                    "id": 10026,
                    "name": "Zend_View",
                    "description": "View portion of the ZF MVC",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31005",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "It's kinda hard to understand exactly what this issue is about.\n\nCould you please provide the following:\n* Minimum code required to reproduce\/understand your issue\n* Expected results\n* Actual results\n\nHowever, if I understand you correctly, the issue is that renderSubMenu() will render the root pages if there are no deeper active pages. If that's the case, you may try this (instead of renderSubMenu()):\nrenderMenu(null, array('minDepth' => 1, 'onlyActiveBranch' => true, 'renderParents' => false));",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T05:57:52.000+0000",
                    "updated": "2009-05-15T05:57:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31008",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "I attached my navigation.xml (i only load <config><service> from xml-tree)...\n\nIf i use $this->navigation()->menu()->renderSubMenu() i get following results:\n\nModule Service, Controller Index results in empty submenu.\n\nModule Service, Controller Administration results in submenu:\n- Server Info\n- Users\n\nModule Service, Controller Assets results in submenu:\n- list Assets\n\nAll correct but if i go to Service\/News i get \n- Dashboard\n- Administration\n- Assets\n- News\n\nAnd this shouldn't happen if i call renderSubMenu(). I found that renderSubMenu() calls renderMenu() wich calls _renderDeepestMenu()  where following is done\nif (!$foundPage->hasPages()) {\n            \/\/ found pages has no children; render siblings\n            $foundPage = $foundPage->getParent();\n} else if ....\nIn some cases this could be correct but in renderSubMenu() i think it's wrong behaviour. If there aren't nested Pages\/Children then renderSubMenu() should return null or don't draw html.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T07:02:13.000+0000",
                    "updated": "2009-05-15T07:02:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31010",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "See my previous comment for a fix to your issue.\n\nRendering sibling pages is a useful feature, otherwise the renderSubMenu() call would often not render at all. I would argue that a user expects to see the active page highlighted in-between sibling pages.\n\nExample site: http:\/\/framework.zend.com\/docs\/api\n\nIf the sub menu didn't render siblings of the active page, there wouldn't be any sub menu when browsing documentation. \n\nOnce again, use minDepth=1 if you think it's \"weird\" that the root menu is rendered as a sub menu.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T08:25:23.000+0000",
                    "updated": "2009-05-15T08:25:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31011",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zocki",
                        "name": "zocki",
                        "displayName": "Alex",
                        "active": true
                    },
                    "body": "I have the same problem.\n\nmy navigations is:\nnews\n--news2\n--archive\nlogin\n\nif i want to have submenus of login, which should be nothing, i always get back \"news\" and \"login",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=zocki",
                        "name": "zocki",
                        "displayName": "Alex",
                        "active": true
                    },
                    "created": "2009-05-15T08:29:00.000+0000",
                    "updated": "2009-05-15T08:29:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31012",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Use minDepth=1 as in my first comment.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T08:34:03.000+0000",
                    "updated": "2009-05-15T08:34:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31013",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Closing because this is not an issue. Specify minDepth to avoid rendering the root menu as a sub menu.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T08:36:40.000+0000",
                    "updated": "2009-05-15T08:36:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31014",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Sorry but you should rethink your opinion or at least look at following:\nI already tried it with setMin\/setMax but there where more \"weird\" renderings!\n\nIf i use this\n<?=$this->navigation()->menu()->setOnlyActiveBranch(true)->setRenderParents(false)->setMinDepth(1)?>\nall i get is nothing... neither a <ul><\/ul> Tag.\n\nIt tried it with various cominations and i never received a result i suspected.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T08:57:55.000+0000",
                    "updated": "2009-05-15T08:57:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31015",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Earlier you said that _is_ what you expected?\n\n{quote}\n[...] if i use ->renderSubMenu() and there are no Pages in active Branch then it should render nothing or return null\n{quote}\n\n{quote}\nIf there aren't nested Pages\/Children then renderSubMenu() should return null or don't draw html\n{quote}\n\nIf you specify minDepth=1, and the deepest active page is on level 0; nothing will be rendered.\n\nIf the deepest active page is on level 1 or deeper, the call will render the deepest active sub menu (siblings of the active included) in the same fashion as renderSubMenu().\n\nAnd once again: you need to explicitly provide EXPECTED and ACTUAL results, along with minimum code\/setup required to reproduce\/understand the issue. Otherwise it's hard to point out what the issue is, and misunderstandings _will_ occur.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T09:21:42.000+0000",
                    "updated": "2009-05-15T09:21:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31016",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Ok first: i attached my navigation.xml -- i have nothing changed since -- and i provide the menu() call i use so i don't understand what more you need, sorry.\n\nSecond: with <?=$this->navigation()->menu()->setOnlyActiveBranch(true)->setRenderParents(false)->setMinDepth(1)?> and all other combinations i tried like...\n<?=$this->navigation()>menu()>setOnlyActiveBranch(true)>setRenderParents(false)>setMinDepth(1)->setMaxDepth(1)?>\nor\n<?=$this->navigation()>menu()>setOnlyActiveBranch(true)>setRenderParents(true)>setMinDepth(1)?>\ni don't get rendered a submenu even if there should be a submenu because there are nested pages -- like in administration.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T09:37:05.000+0000",
                    "updated": "2009-05-15T09:37:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31017",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Do you even read my replies?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T09:44:30.000+0000",
                    "updated": "2009-05-15T09:44:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31018",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "I don't think it is an error to render siblings per se, i just think that it's not the expected behaviour if renderParents = 1.\nI don't even have a problem if this is true with renderSubMenu() but then i think it should be documented. The problem i see is, that there seems to be no way too surpress the rendering of siblings.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T09:46:52.000+0000",
                    "updated": "2009-05-15T09:46:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31019",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "\"Do you even read my replies?\" What... sorry but i thought the same :)\n\nIf i miss something please give me hint -- if it's not again minDepth = 1.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T09:50:31.000+0000",
                    "updated": "2009-05-15T09:50:31.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31020",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Aha.\n\nSo what you refer to as \"wrong behaviour\" is that siblings are rendered even when renderParents is true?\n\nCould you file another issue, so we can start over with a clean slate? Remember to state explicitly what the issue is, and provide minimum code to reproduce, actual results, and expected results. The easiest way to do this is to give a nested bulleted list of your setup, with matching bulleted lists for each use case (expected+actual).\n\nWe'll then use the issue to gather feedback on what others think, and how we should address the potential problem.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T10:01:33.000+0000",
                    "updated": "2009-05-15T10:01:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31021",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "This might be of interest to you: http:\/\/pastie.org\/435249",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T10:04:08.000+0000",
                    "updated": "2009-05-15T10:04:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31032",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "\"So what you refer to as \"wrong behaviour\" is that siblings are rendered even when renderParents is true?\"\nI've never said that, in fact thats what i wanted to blame.\n\nNevermind, I think i shouldn't have postet this as Bug, Improvement would be better. Thank you for your time, maybe another user with the same problem could explain it so that you understand it. Maybe my english isn't good enough.\n\nI've written a plugin for my case and now i have what i want. That's wy i love PHP and ZF... if it's not what you want, make it yourself ;)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T11:45:17.000+0000",
                    "updated": "2009-05-15T11:45:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31039",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Dude, this is an exact quote from a comment of yours:\n\n{quote}\nI don't think it is an error to render siblings per se, i just think that it's not the expected behaviour if renderParents = 1.\n{quote}\n\nBut yeah, as long as you got whatever you're trying to do working, I guess we're all good :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T12:14:56.000+0000",
                    "updated": "2009-05-15T12:14:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31040",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "It's true that i've written this in ONE post but i thought, that this is an conversation an not a \"What you take with you\" game where we have to say each statement each time. I've accidently written = 1 instead of = 0 but in the previous postings i always said it right. Maybe my english isn't that good but if you read each of my postings and not only the one above your's or at the end of this site it should be clear.\n\nAgain in short:\nThe problem i see is the behaviour of renderSubMenu(). A submenu as i see it, is an menu UNDER the main-menu or top-menu or whatever you want to call it. So i thought i can call renderSubMenu() and if there are no nested pages in my topmost level (0) then nothing is rendered.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T12:30:37.000+0000",
                    "updated": "2009-05-15T12:30:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31044",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Ah, okay. I finally see the issue.\n\n\"renderSubMenu() should use minDepth=1 per default\".\n\nDo others feel the same way? If so, it's an easy fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T12:42:19.000+0000",
                    "updated": "2009-05-15T12:42:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31045",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "And to http:\/\/pastie.org\/435249 -- if i try this with the exact same code, i don't get the same results!\n\nwith UC-1: $options = array() i only get topmost:\nPage 1\nPage 2\nPage 3\n\nWith UC-3: array('minDepth' => 1)  i get nothing!\nWith most of the other cases i also don't get the same results.\n\nHave you tried it yourself with 1.8.1?\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-15T12:44:48.000+0000",
                    "updated": "2009-05-15T12:44:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "No, I haven't tried it with 1.8.1, but nothing has changed since 1.8, and this is tested in about 500 000 unit tests. UC-1 is _the_ most common use case in Zend_Navigation, and a bunch of people would have mentioned it if it didn't work.\n\nYou didn't copy-paste the code example from the bottom of that pastie, did you? You're calling renderSubMenu() instead of renderMenu(), right?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-15T13:50:44.000+0000",
                    "updated": "2009-05-15T13:50:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31066",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Ah\u00e4m ...if i try this with the exact same code, i don't...\n\nI used the array from the example, the options and naturally renderMenu($container, $options)... i don't use Zend for long now but i'm no freshman to coding so please don't point it to this direction.\n\nI've taken a look at the source. minDepth = 1 alone won't change anything because of the code snippet in _renderDeepestMenu i mentioned earlier.\n\nThat's my last post on this now. I have a bad feeling that you don't realy see it the same as i do so i quit it for now. As i posted earlier, maybe another user see it as i and brings up some of his time to convince you about this topic.\n\nAgain, thanks for your time.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-05-16T06:07:22.000+0000",
                    "updated": "2009-05-16T06:07:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31068",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "-.-",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-16T06:24:58.000+0000",
                    "updated": "2009-05-16T06:24:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31071",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "I'm sorry, what I meant to say was that I have now tested the code from pastie, and it works perfectly fine. And all unit tests run fine (no errors).\n\nClosing this issue because I'm unable to reproduce \/ it's not clear what the issue actually is.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-16T06:44:07.000+0000",
                    "updated": "2009-05-16T06:44:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32369",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "\nI hate to do this, but I've encountered the same or a similar issue and have read this all the way through. This is either expected behavior or a bug. If it's expected, it's certainly not intuative.\n\nI'll explain best I can, if I'm not understood in my first attempt I concede.\n\nOk, consider the following:\n\nOur container, keep it simple:\n\n$container = new Zend_Navigation(array(\n    array(\n        'label' => 'Page 1',\n        'uri'   => '#',\n        'pages' => array(\n            array(\n                'label' => 'Page 1.1',\n                'uri'   => '#'\n            ),\n            array(\n                'label' => 'Page 1.2',\n                'uri'   => '#',\n                'pages' => array(\n\n                    array(\n                        'label' => 'Page 1.2.1',\n                        'uri'   => '#'\n                    ),\n                    array(\n                        'label' => 'Page 1.2.2',\n                        'uri'   => '#'\n                    )\n))))));\n\necho $this->navigation()->menu($container);\n\noutput:\n\nPage 1\n    Page 1.1\n    Page 1.2\n        Page 1.2.1\n        Page 1.2.2\n\n\nNo worries there.\n\n\nNow lets display sub menu (UC-1):\n\n$active = $container->findByLabel('Page 1.1');\n$active->active = true;\necho $this->navigation()->menu()->renderSubMenu($container);\necho '---';\necho $this->navigation()->menu()->renderMenu($container, array('onlyActiveBranch' => true, 'minDepth' => 1));\n\noutput:\n\n    Page 1.1\n    Page 1.2\n\n---\n\n    Page 1.1\n    Page 1.2\n\n\n\n???? Not what I expected, but we'll soldier on.\n\n\nLet's render Page 1.2 (UC-2):\n\n\n$active = $container->findByLabel('Page 1.2');\n$active->active = true;\necho $this->navigation()->menu()->renderSubMenu($container);\necho '---';\n\necho $this->navigation()->menu()->renderMenu($container, array('onlyActiveBranch' => true, 'minDepth' => 1));\n\n\noutput:\n\n    Page 1.2.1\n    Page 1.2.2\n\n---\n\n    Page 1.2.1\n    Page 1.2.2\n\nNo worries with that.\n\n\n\n\n\nNow, why didn't I expect the output of UC-1. I didn't expect it because I expected NO menu items to be displayed, why? Because is has no \"child\" or \"sub\" links, whereas UC-2 does.\n\nWhat is happening? When a rendered sub menu does not have any \"child\" links the \"sibling\" or \"all the adjacent\" links are being rendered. And as you see above  minDepth is set to 1.\n\n\n\nAm I doing something wrong in the above?\n\nIs this intended behaviour? If so, am I just stupid in thinking there should be no links rendered for UC-1?\n\n\n\n@Markus Is what I explain the same query you have.\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-07-02T20:04:44.000+0000",
                    "updated": "2009-07-02T20:04:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32371",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Ahoi Gerard,\n\nnot exactly the same issue but it points in the same direction.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2009-07-02T23:53:31.000+0000",
                    "updated": "2009-07-02T23:53:31.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6673\/transitions"
}