{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-797",
    "key": "ZF-797",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Incubator version of Zend_Uri_Http to match incubator Zend_Filter"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-797\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10022",
                    "id": 10022,
                    "description": "Beta Release; all components feature complete for 1.0",
                    "name": "0.9.0",
                    "userReleaseDate": "17\/Mar\/07",
                    "archived": true,
                    "releaseDate": "2007-03-17",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-06-28T16:01:47.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                "name": "peptolab",
                "displayName": "Simon Mundy",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-01-25T04:48:09.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:41.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Since Zend_Filter has received a major rewrite, components like Zend_Uri will need a companion component in the incubator, since the static calls to Zend_Filter have been obsoleted. In particular, the Zend_Uri_Http::isHostName() will need to be upgraded to match the new API.\n\nSuggested change is from:-\n\n{code}\n    public function validateHost($host = null)\n    {\n        if ($host === null) {\n            $host = $this->_host;\n        }\n        \/**\n         * If the host is empty, then it is considered invalid\n         *\/\n        if (strlen($host) == 0) {\n            return false;\n        }\n        \/**\n         * Check the host against the allowed values; delegated to Zend_Filter.\n         *\/\n        return Zend_Filter::isHostname($host) !== FALSE;\n    }\n{code}\n\nto\n\n{code}\n    public function validateHost($host = null)\n    {\n        if ($host === null) {\n            $host = $this->_host;\n        }\n        \/**\n         * If the host is empty, then it is considered invalid\n         *\/\n        if (strlen($host) == 0) {\n            return false;\n        }\n        \/**\n         * Check the host against the allowed values; delegated to Zend_Filter.\n         *\/\n        $validator = new Zend_Validate();\n        $validator->addValidator(new Zend_Validate_Hostname());\n        return $validator->isValid($host);\n    }\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-797\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                "name": "shahar",
                "displayName": "Shahar Evron",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10025",
                    "id": 10025,
                    "name": "Zend_Uri",
                    "description": "URI parsing, creation, and validation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12364",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Another temporary solution might be to add static methods to the incubator Zend_Filter class, to mimic the methods in the core Zend_Filter class, at least for the methods that are employed in other ZF components.  \n\nThese methods are for temporarily compatibility only, and they are deprecated as soon as they are created.  :-)\n\nI grepped the ZF components and I find the following usage of Zend_Filter methods:\n\n{code}\nlibrary\/Zend\/Service\/Amazon.php:1025:        \tif (!Zend_Filter::isBetween($options['ItemPage'],0, 2500, true)) {\nlibrary\/Zend\/Service\/Amazon.php:1093:        \tif (!Zend_Filter::isBetween($options['ItemPage'],0, 2500, true)) {\nlibrary\/Zend\/Service\/Flickr.php:219:        if (!Zend_Filter::isBetween($options['per_page'], 1, 500, true)) {\nlibrary\/Zend\/Service\/Flickr.php:223:        if (!Zend_Filter::isInt($options['page'])) {\nlibrary\/Zend\/Service\/Flickr.php:257:        if (!Zend_Filter::isBetween($options['per_page'], 1, 500, true)) {\nlibrary\/Zend\/Service\/Flickr.php:261:        if (!Zend_Filter::isInt($options['page'])) {\nlibrary\/Zend\/Service\/Yahoo.php:335:            if (!Zend_Filter::isBetween($options['results'], 1, 20, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:341:            if (!Zend_Filter::isBetween($options['start'], 1, 1000, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:347:            if (!Zend_Filter::isBetween($options['longitude'], -90, 90, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:352:            if (!Zend_Filter::isBetween($options['latitude'], -180, 180, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:358:            if (!Zend_Filter::isZip($options['zip'])) {\nlibrary\/Zend\/Service\/Yahoo.php:405:            if (!Zend_Filter::isBetween($options['results'], 1, 50, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:411:            if (!Zend_Filter::isBetween($options['start'], 1, 1000, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:456:            if (!Zend_Filter::isBetween($options['results'], 1, 20, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:461:            if (!Zend_Filter::isBetween($options['start'], 1, 1000, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:492:            if (!Zend_Filter::isBetween($options['results'], 1, 20, true)) {\nlibrary\/Zend\/Service\/Yahoo.php:497:            if (!Zend_Filter::isBetween($options['start'], 1, 1000, true)) {\nlibrary\/Zend\/Uri\/Http.php:338:        return Zend_Filter::isHostname($host) !== FALSE;\n{code}\n\nSo the incubator Zend_Filter needs methods for at least the following four methods:\n\n* isBetween()\n* isZip()\n* isHostname()\n* isInt()",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-01-25T09:02:40.000+0000",
                    "updated": "2007-01-25T09:02:40.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12365",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Assign to Darby.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-01-25T09:03:41.000+0000",
                    "updated": "2007-01-25T09:03:41.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13122",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "body": "I updated the incubator copy of Zend_Uri_Http to use the new Zend_Validate API instead of Zend_Filter. \n\nI set it to use Zend_Valite_Hostname with ALLOW_ALL - if someone expects \"real\" URIs only (or IP addresses only, etc.) they can use \n{code}Zend_Validate_Hostname($uri->getHost(), Zend_Validate_Hostname::ALLOW_DNS);{code}\nor something like that. \n\nOther framework components should be handled separately. ",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=shahar",
                        "name": "shahar",
                        "displayName": "Shahar Evron",
                        "active": true
                    },
                    "created": "2007-03-04T08:37:38.000+0000",
                    "updated": "2007-03-04T08:37:38.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13123",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=arikon",
                        "name": "arikon",
                        "displayName": "Sergey Belov",
                        "active": true
                    },
                    "body": "Why only incubator Zend_Uri_Http updated?\nZend_Filter without static methods already in core. Zend_Uri_Http in core must be updated too, because it doesn't work at all now.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=arikon",
                        "name": "arikon",
                        "displayName": "Sergey Belov",
                        "active": true
                    },
                    "created": "2007-03-04T14:08:08.000+0000",
                    "updated": "2007-03-04T14:08:08.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/15571",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "This was resolved in revision 3721, which means it was fixed in ZF 0.9.0.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-28T16:01:47.000+0000",
                    "updated": "2007-06-28T16:01:47.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-797\/transitions"
}