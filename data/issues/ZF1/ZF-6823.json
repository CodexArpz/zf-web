{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6823",
    "key": "ZF-6823",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Navigation not compatable with wildcard routes"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6823\/votes",
                "votes": 3,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/11380",
                    "id": 11380,
                    "description": "Mini Release",
                    "name": "Next Mini Release",
                    "archived": false,
                    "released": false
                }
            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jshpro2",
                "name": "jshpro2",
                "displayName": "Josh Ribakoff",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-27T05:32:12.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-03-13T20:55:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend navigation is not compatible with wild card based routes. If a route has variable params ( ie contains \"*\" ), then in order to specify the module on the mvc_page object it passes the module as a user parameter in that route, defeating the purpose of routes.\r\n\r\nIt would be better to open up some observation points from the route class so the page class could decide not when to pass a redundant \/module\/foo\/controller\/bar in the URL when the user has specified custom routes with wildcards in them"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6823\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-11545",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11545",
                    "type": {
                        "name": "Related",
                        "direction": "OUTBOUND",
                        "description": "is related to"
                    }
                },
                {
                    "issueKey": "ZF-11443",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11443",
                    "type": {
                        "name": "Dependency",
                        "direction": "OUTBOUND",
                        "description": "depends on"
                    }
                },
                {
                    "issueKey": "ZF-6824",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6824",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/12302",
                    "filename": "Mvc.php",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jboehr",
                        "name": "jboehr",
                        "displayName": "John Boehr",
                        "active": true
                    },
                    "created": "2009-10-12T15:59:17.000+0000",
                    "size": 12567,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/12302\/Mvc.php"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31377",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Yes, pages introspecting route(r)s would be great.\n\nThe routing subsystem needs to be partially rewritten, and requires changes that break backwards compatibility. This is scheduled for ZF 2.0, and at the same time, Zend_Navigation_Page_Mvc will be refactored to reflect changes in route(r)s.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-27T05:49:55.000+0000",
                    "updated": "2009-05-27T05:49:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31378",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jshpro2",
                        "name": "jshpro2",
                        "displayName": "Josh Ribakoff",
                        "active": true
                    },
                    "body": "Another improvement would be making it easier for users to get their dynamic content into the breadcrumbs view helper. Something like an action helper that does something like:\n\nprotected function setBreadcrumbOptions( $id, $options )\n    {\n        $menu = Ne8::getInstance()->getMenu()->findBy( 'id', $id ); \/\/ would probably check the registry or allow menu to be injected by paramater\n        $menu->setOptions( $options );\n    }",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jshpro2",
                        "name": "jshpro2",
                        "displayName": "Josh Ribakoff",
                        "active": true
                    },
                    "created": "2009-05-27T05:58:36.000+0000",
                    "updated": "2009-05-27T05:58:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31381",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "The breadcrumbs thing sounds interesting. I would appreciate it if you could create a separate issue (improvement) for this, and elaborate on some of your thoughts.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-05-27T06:04:02.000+0000",
                    "updated": "2009-05-27T06:04:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35172",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jboehr",
                        "name": "jboehr",
                        "displayName": "John Boehr",
                        "active": true
                    },
                    "body": "This is not fully tested, however this seems to fix the problem for the moment, in my use cases. It simply removes any specified params that match the default params set in the route.\n\nZend\/Navigation\/Page\/Mvc.php (from Zend 1.9.2) : 202\n\nafter:\n{quote}\n        $params = $this->getParams();\n\n        if ($param = $this->getModule()) {\n            $params['module'] = $param;\n        }\n\n        if ($param = $this->getController()) {\n            $params['controller'] = $param;\n        }\n\n        if ($param = $this->getAction()) {\n            $params['action'] = $param;\n        }\n{\/quote}\n\nadd:\n{quote}\n        $router = self::$_urlHelper->getFrontController()->getRouter();\n        $routeName = $this->getRoute();\n        if( $router->hasRoute($routeName) )\n        {\n          $route = $router->getRoute($routeName);\n          if( method_exists($route, 'getDefaults') )\n          {\n            $defaults = $route->getDefaults();\n            foreach( $params as $key => $value )\n            {\n              if( isset($defaults[$key]) && $defaults[$key] == $value )\n              {\n                unset($params[$key]);\n              }\n            }\n          }\n        }\n{\/quote}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jboehr",
                        "name": "jboehr",
                        "displayName": "John Boehr",
                        "active": true
                    },
                    "created": "2009-10-12T15:57:43.000+0000",
                    "updated": "2009-10-12T15:57:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35173",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jboehr",
                        "name": "jboehr",
                        "displayName": "John Boehr",
                        "active": true
                    },
                    "body": "Ok sorry, looks like JIRA fubar'ed my post, here is the current modified file (as of 1.9.2).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jboehr",
                        "name": "jboehr",
                        "displayName": "John Boehr",
                        "active": true
                    },
                    "created": "2009-10-12T15:59:20.000+0000",
                    "updated": "2009-10-12T15:59:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47075",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "body": "The issue is similar to ZF-11359, but we have to change the method \"getHref\".\r\n\r\nLook at [Revision 24119|http:\/\/framework.zend.com\/code\/diff.php?repname=Zend+Framework&path=%2Fbranches%2Frelease-1.11%2Flibrary%2FZend%2FNavigation%2FPage%2FMvc.php&rev=24119&peg=24119]",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=kaiuwe",
                        "name": "kaiuwe",
                        "displayName": "Kai Uwe",
                        "active": true
                    },
                    "created": "2011-06-09T08:22:47.000+0000",
                    "updated": "2011-06-09T08:22:47.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6823\/transitions"
}