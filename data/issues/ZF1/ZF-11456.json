{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11456",
    "key": "ZF-11456",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Add returnsReference support to Zend_CodeGenerator_Php_Method"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/11",
                "name": "Patch",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11456\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bugslayer",
                "name": "bugslayer",
                "displayName": "John Crenshaw",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-06-08T16:08:53.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-10-13T03:32:04.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Here's a small patch that adds returnsReference() support to Zend_CodeGenerator_Php_Method. Without this, methods with reference returning signatures cannot be properly generated (potentially creating bugs in code that depends on the correct operation of code generated from reflected methods).\r\n\r\n{code}\r\nIndex: Method.php\r\n===================================================================\r\n--- Method.php\t(revision 1098)\r\n+++ Method.php\t(working copy)\r\n@@ -54,6 +54,11 @@\r\n     protected $_isFinal = false;\r\n \r\n     \/**\r\n+     * @var bool\r\n+     *\/\r\n+    protected $_returnsReference = false;\r\n+    \r\n+    \/**\r\n      * @var array\r\n      *\/\r\n     protected $_parameters = array();\r\n@@ -90,6 +95,8 @@\r\n             $method->setVisibility(self::VISIBILITY_PUBLIC);\r\n         }\r\n \r\n+        $method->setReturnsReference($reflectionMethod->returnsReference());\r\n+\r\n         $method->setStatic($reflectionMethod->isStatic());\r\n \r\n         $method->setName($reflectionMethod->getName());\r\n@@ -114,6 +121,24 @@\r\n     }\r\n \r\n     \/**\r\n+     * setReturnsReference()\r\n+     *\r\n+     * @param bool $returnsReference\r\n+     *\/\r\n+    public function setReturnsReference($returnsReference)\r\n+    {\r\n+        $this->_returnsReference = ($returnsReference) ? true : false;\r\n+    }\r\n+\r\n+    \/**\r\n+     * returnsReference()\r\n+     *\/\r\n+    public function returnsReference()\r\n+    {\r\n+        return $this->_returnsReference;\r\n+    }\r\n+    \r\n+    \/**\r\n      * setParameters()\r\n      *\r\n      * @param array $parameters\r\n@@ -207,7 +232,9 @@\r\n \r\n         $output .= $this->getVisibility()\r\n             . (($this->isStatic()) ? ' static' : '')\r\n-            . ' function ' . $this->getName() . '(';\r\n+            . ' function '\r\n+            . (($this->returnsReference()) ? ' & ' : '')\r\n+            . $this->getName() . '(';\r\n \r\n         $parameters = $this->getParameters();\r\n         if (!empty($parameters)) {\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11456\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10407",
                    "id": 10407,
                    "name": "Zend_CodeGenerator",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47054",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "body": "Hi John,\r\n\r\nThanks for the patch to contribute to ZF, but I notice that you don't appear to have a CLA on file, if you do, you should get in touch with Ralph Schindler and ask him to assign you the correct groups so that you can attach patches as an attachment rather than inline, otherwise, you should sign the cla (http:\/\/framework.zend.com\/wiki\/display\/ZFPROP\/Contributor+License+Agreement) and return it before contributing code, otherwise your contributions may go unused!\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "created": "2011-06-08T16:13:27.000+0000",
                    "updated": "2011-06-08T16:13:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47067",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bugslayer",
                        "name": "bugslayer",
                        "displayName": "John Crenshaw",
                        "active": true
                    },
                    "body": "Bleh. Are there any alternate methods that don't require me to dig up archaic equipment like scanners, fax machines, and\/or stamps? There are plenty of legally binding ways to get the same protection entirely digitally.\r\n\r\nIf you can't accept the patch without this, I'll see what I can do.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bugslayer",
                        "name": "bugslayer",
                        "displayName": "John Crenshaw",
                        "active": true
                    },
                    "created": "2011-06-09T00:15:11.000+0000",
                    "updated": "2011-06-09T00:15:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48683",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bugslayer",
                        "name": "bugslayer",
                        "displayName": "John Crenshaw",
                        "active": true
                    },
                    "body": "Signed agreement is in the mail.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bugslayer",
                        "name": "bugslayer",
                        "displayName": "John Crenshaw",
                        "active": true
                    },
                    "created": "2011-10-13T03:32:04.000+0000",
                    "updated": "2011-10-13T03:32:04.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11456\/transitions"
}