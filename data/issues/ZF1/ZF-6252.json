{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6252",
    "key": "ZF-6252",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "ErrorController.php 404 header triggers browser's own 404 page"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6252\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-04-09T08:09:45.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karim",
                "name": "karim",
                "displayName": "Karim Ahmed",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-04-09T07:51:48.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-04-09T08:16:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "404",
                "browser",
                "override"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Problem: When Firefox or Explorer (as possibly other browsers) receive a 404 header in a page, they do not display the page but display their own 404 page instead.\n\nReason: When Zend_Controller_Plugin_ErrorHandler is EXCEPTION_NO_CONTROLLER or EXCEPTION_NO_ACTION the class creates a page header of 'HTTP\/1.1 404 Not Found'\n\nSolution: remove following line so that the returned page does not contain the 404 header\n\n$this->getResponse()->setRawHeader('HTTP\/1.1 404 Not Found');"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6252\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10300",
                    "id": 10300,
                    "description": "Mini Release",
                    "name": "1.7.8",
                    "userReleaseDate": "30\/Mar\/09",
                    "archived": false,
                    "releaseDate": "2009-03-30",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30055",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "{code}\n10.4.5 404 Not Found\n\nThe server has not found anything matching the Request-URI. No indication is\ngiven of whether the condition is temporary or permanent. The 410 (Gone) status\ncode SHOULD be used if the server knows, through some internally configurable\nmechanism, that an old resource is permanently unavailable and has no forwarding\naddress. This status code is commonly used when the server does not wish to\nreveal exactly why the request has been refused, or when no other response is\napplicable.\n{code}\n\nI disagree with the fact that we shouldn't send out a 404 header. A 404 header is meant to specify that a certain page couldn't be found acc. to the http RFC ( http:\/\/www.w3.org\/Protocols\/rfc2616\/rfc2616-sec10.html#sec10 ). If FireFox ignores that by default, that is the responsibility of its developers\/users, not of us.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-04-09T07:57:42.000+0000",
                    "updated": "2009-04-09T08:07:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30058",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "First off, how you handle 404s is entirely up to you. While Zend_Tool generates an ErrorController for you that by default emits a 404 header, you can edit it.\n\nSecond, I have never once experienced the behavior you report. I use both FF and IE regularly to test ZF sites that utilize this functionality. I suspect that you have user-specific settings that are doing this.\n\nRegardless, as Dolf points out, 404's are the correct status to return in the event of a page-not-found condition per RFC2616.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-04-09T08:09:33.000+0000",
                    "updated": "2009-04-09T08:09:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30059",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karim",
                        "name": "karim",
                        "displayName": "Karim Ahmed",
                        "active": true
                    },
                    "body": "Dolf, after reading your comment I agree with you that it is appropriate to set the 404 header where EXCEPTION_NO_CONTROLLER has been raised.\n\nI still think however, it would be more appropriate not to set a 404 where EXCEPTION_NO_ACTION has been raised as the controller (AKA page) was not missing; On a development server it is essential to see that level of error detail. i.e.\n\n    public function errorAction()\n    {\n        $errors = $this->_getParam('error_handler');\n        switch ($errors->type) {\n            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_CONTROLLER:\n            \t\/\/ 404 error -- controller not found                \n            \t$this->getResponse()->setRawHeader('HTTP\/1.1 404 Not Found');\n \t        $this->view->title = 'Page Not Found';\n                break;\n            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ACTION:\n\t        $this->view->title = 'Action Not Found';\n            \tbreak;\n            default:\n                \/\/ application error; display error page, but don't change                \n                \/\/ status code\n                $this->view->title = 'Application Error';\n                break;\n        }\n        \n        $this->view->message = $errors->exception;\n    }\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=karim",
                        "name": "karim",
                        "displayName": "Karim Ahmed",
                        "active": true
                    },
                    "created": "2009-04-09T08:16:45.000+0000",
                    "updated": "2009-04-09T08:16:45.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6252\/transitions"
}