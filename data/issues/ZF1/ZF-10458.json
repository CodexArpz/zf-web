{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10458",
    "key": "ZF-10458",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Ability to register custom navigation helpers outside of Zend Library to interact with proxy found in navigation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10458\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10510",
                    "id": 10510,
                    "description": "Minor Release",
                    "name": "1.12.0",
                    "userReleaseDate": "27\/Aug\/12",
                    "archived": false,
                    "releaseDate": "2012-08-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-06-19T20:30:55.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matt.cockayne",
                "name": "matt.cockayne",
                "displayName": "Matt Cockayne",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-09-15T05:59:23.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-09-03T07:36:17.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When Attempting to create a custom navigation view helper I found if difficult to register it with the navigation view helper.\r\n\r\ni.e. App_View_Helper_Navigation_Context should be accessible through $this->navigation->context()\r\n\r\nIn order to provide this functionality I had to subclass the navigation helper but as its quite a straight forward improvement I have included a patch for Zend_View_Helper_Navigation\r\n\r\n{code}\r\n--- library\/Zend\/View\/Helper\/Navigation.php\t(revision 22945)\r\n+++ library\/Zend\/View\/Helper\/Navigation.php\t(working copy)\r\n@@ -156,10 +156,13 @@\r\n             return $this->_helpers[$proxy];\r\n         }\r\n \r\n-        if (!$this->view->getPluginLoader('helper')->getPaths(self::NS)) {\r\n-            $this->view->addHelperPath(\r\n-                    str_replace('_', '\/', self::NS),\r\n-                    self::NS);\r\n+        $paths = $this->view->getPluginLoader('helper')->getPaths();\r\n+        foreach($paths AS $ns => $path) {\r\n+            if (!$this->view->getPluginLoader('helper')->getPaths($ns . 'Navigation_')) {\r\n+                $this->view->addHelperPath(\r\n+                        str_replace('_', '\/', $ns . 'Navigation_'),\r\n+                        $ns . 'Navigation');\r\n+            }\r\n         }\r\n \r\n         if ($strict) {\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10458\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "FixForZF1.12.1",
                "state:patch-ready-for-review",
                "zf-crteam-padraic",
                "zf-crteam-priority"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/14742",
                    "filename": "Navigation.php.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-11-15T21:59:47.000+0000",
                    "size": 817,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/14742\/Navigation.php.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/15139",
                    "filename": "Navigation.test.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-06-19T19:59:50.000+0000",
                    "size": 3384,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/15139\/Navigation.test.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13309",
                    "filename": "Zend_View_Helper_Navigation.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matt.cockayne",
                        "name": "matt.cockayne",
                        "displayName": "Matt Cockayne",
                        "active": true
                    },
                    "created": "2010-09-15T06:00:37.000+0000",
                    "size": 819,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13309\/Zend_View_Helper_Navigation.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42257",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matt.cockayne",
                        "name": "matt.cockayne",
                        "displayName": "Matt Cockayne",
                        "active": true
                    },
                    "body": "Patch file for mentioned change",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matt.cockayne",
                        "name": "matt.cockayne",
                        "displayName": "Matt Cockayne",
                        "active": true
                    },
                    "created": "2010-09-15T06:00:40.000+0000",
                    "updated": "2010-09-15T06:00:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48999",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Hi Matt,\r\nI see no problem!\r\n\r\nAdd your path for the helper and the prefix for the class to {{Zend_View}}.\r\n\r\nSet view helper path:\r\n{code:title=in application.ini}resources.view.helperPath.My_View_Helper = \"My\/View\/Helper\"{code}\r\nor\r\n{code:title=in Bootstrap.php}$view->addHelperPath('My\/View\/Helper', 'My_View_Helper_');{code}\r\n\r\nAnd you can use your own navigation helper by proxy:\r\n{code}echo $view->navigation()->foo();{code}\r\n\r\nMy unit test for this issue runs without any failures.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-11-05T20:56:32.000+0000",
                    "updated": "2011-11-05T20:56:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49103",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "I found a problem:\r\n\r\nA helper with the name \"My_View_Helper_Navigation_Menu\" can not be used, because the proxy helper returns always the standard view helper \"Zend_View_Helper_Navigation_Menu\".",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-11-15T21:57:21.000+0000",
                    "updated": "2011-11-15T21:57:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49104",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Patch and unit tests added.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2011-11-15T21:59:47.000+0000",
                    "updated": "2011-11-15T21:59:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51151",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "tests fail:\r\n\r\n{code}\r\n$ phpunit34 Zend\/View\/Helper\/Navigation\/AllTests.php \r\nPHPUnit 3.4.15 by Sebastian Bergmann.\r\n\r\n............................................................  60 \/ 165\r\n............................................................ 120 \/ 165\r\n.......................PHP Fatal error:  Call to undefined method Zend_View_Helper_Navigation_NavigationTest::assertInstanceOf() in \/www\/zend-framework\/zf1\/standard-trunk\/tests\/Zend\/View\/Helper\/Navigation\/NavigationTest.php on line 393\r\n\r\nFatal error: Call to undefined method Zend_View_Helper_Navigation_NavigationTest::assertInstanceOf() in \/www\/zend-framework\/zf1\/standard-trunk\/tests\/Zend\/View\/Helper\/Navigation\/NavigationTest.php on line 393\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-06-19T19:00:38.000+0000",
                    "updated": "2012-06-19T19:00:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51154",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "Updated unit tests.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-06-19T19:59:50.000+0000",
                    "updated": "2012-06-19T19:59:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51155",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Resolved in svn r24986(trunk) and r24987(release-1.12)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-06-19T20:30:55.000+0000",
                    "updated": "2012-06-19T20:30:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51770",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "Hi Rob,\r\n\r\nThe fix doesn't seems to work on 1.12.0 as far as I see.\r\n\r\nBasically I don't need to add another view helper path right? Or should I add:\r\n\r\nresources.view.helperPath.My_View_Helper_Navigation = \"My\/View\/Helper\/Navigation\"\r\n\r\n?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2012-08-31T16:37:49.000+0000",
                    "updated": "2012-08-31T16:37:49.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51781",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "@[~avantis]\r\n\r\nYou *must* add the helper path! Look at the unit tests for examples.\r\n\r\nThe problem was:\r\n{quote}A helper with the name \"My_View_Helper_Navigation_Menu\" can not be used, because the proxy helper returns always the standard view helper \"Zend_View_Helper_Navigation_Menu\".{quote}\r\n\r\nIf you have more questions please write me an e-mail.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-09-03T07:36:17.000+0000",
                    "updated": "2012-09-03T07:36:17.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10458\/transitions"
}