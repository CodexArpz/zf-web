{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11273",
    "key": "ZF-11273",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Soap_Client via HTTPS does not work, cannot load WSDL"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11273\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-06-28T16:29:53.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas.rauers",
                "name": "thomas.rauers",
                "displayName": "Thomas Rauers",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2011-04-08T06:31:39.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-06-28T16:29:53.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "https",
                "zend_soap_client,"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Reference to Zend support case 00035125, \"Zend_Soap_Client via HTTPS\" [ ref:00D2FyX.5007GD4q4:ref ]\r\nSupervised by Mr Shlomo Vanunu, Zend Global Support\r\n\r\n\r\nThere is no problem to access webservices via http, but it seems to be impossible via httpS. We always get the error message\r\n\r\nFatal error: Uncaught SoapFault exception: [WSDL] SOAP-ERROR: Parsing\r\nWSDL: Couldn't load from 'https:\/\/[soapurl]?wsdl' : failed to load\r\nexternal entity \"https:\/\/[soapurl]?wsdl\" in\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client\/Common.php:51\r\nStack trace: #0\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client\/Common.php(51):\r\nSoapClient->SoapClient('https:\/\/integra...', Array) #1\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client.php(1024):\r\nZend_Soap_Client_Common->__construct(Array, 'https:\/\/integra...', Array)\r\n#2\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client.php(1180):\r\nZend_Soap_Client->_initSoapClientObject() #3\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client.php(1104):\r\nZend_Soap_Client->getSoapClient() #4\r\n\/www\/zendsvr\/htdocs\/test\/g210_test_zendsoap.php(204):\r\nZend_Soap_Client->__call('AnfragePerson', Array) #5 \/www\/ze in\r\n\/usr\/local\/zendsvr\/share\/ZendFramework\/library\/Zend\/Soap\/Client\/Common.php\r\non line 51\r\n\r\n\r\nThe weird thing is that it works perfectly with the external package \"nuSOAP\"!\r\n\r\nUnfortunately, nuSOAP seems to be quite slow, so we wanted to compare it with the standard PHP soapClient and Zend_Soap_Client.\r\n\r\nFinally, we found this comment:\r\n\r\n\"BTW, PHP 5.3 version of Zend Server 5.0.2 on iSeries does not support\r\nZend_Soap_Client to access web service over the SSL.\"\r\n\r\nhttp:\/\/yiyujia.blogspot.com\/2010\/10\/zendsoapclient-and-php-http-client-do.html\r\n\r\nIs this true? What about PHP 5.3.3 and Zend Server 5.0.4?\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11273\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10420",
                    "id": 10420,
                    "description": "Minor Release",
                    "name": "1.11.0",
                    "userReleaseDate": "02\/Nov\/10",
                    "archived": false,
                    "releaseDate": "2010-11-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10292",
                    "id": 10292,
                    "name": "Zend_Soap_Client",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46219",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "At my workplace our development and production platforms run PHP v5.3.3 and Zend Framework v1.11.5 on Apache v2.2.16 (not Zend Server) and we've had no issues using Zend_Soap_Client to access SOAP web services over HTTPS.\r\n\r\nCould you provide the code sample from your application which triggers this error?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-04-29T18:37:21.000+0000",
                    "updated": "2011-04-29T18:37:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46276",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomasrauers",
                        "name": "thomasrauers",
                        "displayName": "Thomas Rauers",
                        "active": true
                    },
                    "body": "Hello,\r\n\r\nhere is the code sample:\r\n\r\n\r\n\r\n<?php\r\n\r\nerror_reporting(E_ALL & ~E_WARNING);\r\nini_set('display_errors', TRUE);\r\nini_set(\"soap.wsdl_cache_enabled\", \"0\"); \/\/ disabling WSDL cache...\r\n\r\ninclude('array2xml.php');\r\n\r\n$wsdl = 'https:\/\/integration-sync.his-connect.de\/services\/anfrage_person_antragsbearbeitung?wsdl';\r\n\r\ntry {\r\n    $SoapClient = new Zend_Soap_Client($wsdl, array('encoding' => 'UTF-8', 'soap_version' => SOAP_1_1)); \r\n    \/\/ Standard PHP would look like\r\n    \/\/ $SoapClient = new soapclient($wsdl);\r\n    \/\/ nuSoap would like\r\n    \/\/ $SoapClient = new nusoap_client($wsdl, 'wsdl'); $SoapClient->soap_defencoding = 'UTF-8';\r\n} catch (Exception $e) {\r\n    echo 'Exception ',$e->getCode(),' caught: ',  $e->getMessage(), \"\\n\";\r\n}\r\n\r\n$element_name = 'Anfrage_Person_A_Anfrage';\r\n$operation_name = 'AnfragePerson';\r\n\r\n$header = \"<wsdl:\".$element_name.\" xmlns:wsdl=\\\"http:\/\/his-connect.de\/his-v1.0\\\" xmlns=\\\"http:\/\/his-connect.de\/xsd\/2010\/03\/31\\\">\";\r\n$footer = \"<\/wsdl:\".$element_name.\">\";\r\n\r\n\/\/ $param = array(...)\r\n\r\n$xml = new arr2xml($param);\r\n$xmlstring=$xml->get_xml();\r\n\r\n$result = $SoapClient->AnfragePerson(utf8_encode(str_replace('&', '&amp;', $header.$xmlstring.$footer))); \r\n\r\n\/\/ Standard PHP does not work either\r\n\/\/ $result = $SoapClient->__call($operation_name, utf8_encode(str_replace('&', '&amp;', $header.$xmlstring.$footer)), $soapoptions); \r\n\r\n\/\/ nuSoap will work:\r\n\/\/ $result = $SoapClient->call($operation_name, utf8_encode(str_replace('&', '&amp;', $header.$xmlstring.$footer)), '', '', false, true, 'rpc');\r\n\r\n\r\n?>\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomasrauers",
                        "name": "thomasrauers",
                        "displayName": "Thomas Rauers",
                        "active": true
                    },
                    "created": "2011-05-02T07:53:51.000+0000",
                    "updated": "2011-05-02T07:53:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47288",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shlomov",
                        "name": "shlomov",
                        "displayName": "Shlomo Vanunu",
                        "active": true
                    },
                    "body": "Any news on this issue?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=shlomov",
                        "name": "shlomov",
                        "displayName": "Shlomo Vanunu",
                        "active": true
                    },
                    "created": "2011-06-28T14:54:19.000+0000",
                    "updated": "2011-06-28T14:54:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47292",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "I'm fairly certain this has nothing to do with {{Zend_Soap}}.  The stacktrace shows that the error originates in {{Zend_Soap_Client_Common}}, but since it merely extends PHP's built-in {{SoapClient}} class, there isn't much that can be done for you from the Zend Framework side.\r\n\r\nThat said, my totally awesome googling skills have revealed a number of posts on the Zend Forums in which users of Zend Server complain about the same issue (ie: works with nuSOAP but not with SoapClient\/Zend_Soap).  None of them appear to be resolved:\r\n\r\nhttp:\/\/forums.zend.com\/viewtopic.php?f=8&t=399\r\nhttp:\/\/forums.zend.com\/viewtopic.php?f=77&t=9451\r\nhttp:\/\/forums.zend.com\/viewtopic.php?f=77&t=7458\r\n\r\nThat last one backs up what the OP mentioned at the end of their post: PHP 5.3 version of Zend Server 5.0.2 on iSeries does not support Zend_Soap_Client to access web service over SSL.  Apparently it was supposed to be fixed in 5.0.3, but I don't use Zend Server and so can't comment on that. \r\n\r\nMy summation: This is an issue with Zend Server and not Zend Framework.  Please contact Zend Support, or ask the Zend Server CE community for help. \r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-06-28T16:28:53.000+0000",
                    "updated": "2011-06-28T16:28:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47293",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Closing ticket. Not a Zend Framework issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-06-28T16:29:53.000+0000",
                    "updated": "2011-06-28T16:29:53.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-11273\/transitions"
}