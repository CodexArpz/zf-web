{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8308",
    "key": "ZF-8308",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Date comparison functions (compare, isEarlier, isLater)"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8308\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10360",
                    "id": 10360,
                    "description": "Minor Release",
                    "name": "1.10.0",
                    "userReleaseDate": "27\/Jan\/10",
                    "archived": false,
                    "releaseDate": "2010-01-27",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-11-16T13:01:40.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=snefit",
                "name": "snefit",
                "displayName": "Sven Franke",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-11-16T02:03:22.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-11-16T13:57:29.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using the comparison functions of Zend_Date, it does not look at timezone when comparing date datepart.\r\n\r\n\r\n{code:title=An example}\r\n\/\/ Get FROM date.\r\n$from = new Zend_Date();\r\n\/\/ Start with 'Europe\/Amsterdam' timezone\r\n$from->setTimezone('Europe\/Amsterdam');\r\n\/\/ Set datetime.\r\n$from->set('16-11-2009 00:00', Zend_Date::DATETIME);\r\n        \r\n\/\/ Get TO date.\r\n$to = new Zend_Date();\r\n\/\/ Start with 'Europe\/Amsterdam' timezone\r\n$to->setTimezone('Europe\/Amsterdam');\r\n\/\/ Set datetime.\r\n$to->set('16-11-2009 00:00', Zend_Date::DATETIME);\r\n\/\/ Change timezone to GMT.\r\n$to->setTimezone('GMT');\r\n        \r\n        \r\nZend_Debug::dump($from->getIso(), 'FROM');\r\nZend_Debug::dump($to->getIso(), 'TO');\r\nZend_Debug::dump($to->isEarlier($from, Zend_Date::DATES), 'EARLIER');\r\nZend_Debug::dump($to->equals($from, Zend_Date::DATES), 'EQUALS');\r\nZend_Debug::dump($to->isLater($from, Zend_Date::DATES), 'LATER');\r\n\r\n\/\/ Result in:\r\n\/\/ FROM string(25) \"2009-11-16T00:00:00+01:00\"\r\n\/\/ TO string(25) \"2009-11-15T23:00:00+00:00\"\r\n\/\/ EARLIER bool(true)\r\n\/\/ EQUALS bool(false)\r\n\/\/ LATER bool(false)\r\n\r\n{code}\r\n\r\nIMHO is should be equal. We are talking about the same date, only different in timezone.\r\n\r\nI think it should be aware of timezone. (i know, we can do it before using the function but I think it should be in the functions self!)\r\n\r\nSven."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8308\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10380",
                    "id": 10380,
                    "description": "Mini Release",
                    "name": "1.9.5",
                    "userReleaseDate": "27\/Oct\/09",
                    "archived": false,
                    "releaseDate": "2009-10-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36037",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Closing as non-issue.\r\n\r\nThe used constant \"DATES\" is the localized date, without time.\r\nIn this case wether the time nor the timezone, which is part of the time, is taken into account by the check.\r\n\r\nWhen you need to validate by taking timezone into account you should use TIMESTAMP as timestamps are equal in different timezones because they are calculated according to UTC.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-11-16T13:01:41.000+0000",
                    "updated": "2009-11-16T13:01:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36038",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=snefit",
                        "name": "snefit",
                        "displayName": "Sven Franke",
                        "active": true
                    },
                    "body": "But with \"TIMESTAMP\" it'll be only equal when the time-past is also equal and that is not what i tried\/wanted.\r\n\r\nI wanted to check if the date-part of a datetime was equal (taking timezone into account), but that isn't possible in this way? The only way is to set the timezones before using the compare-functions?\r\n\r\nI thought that i was comparing the DATES-part from two given datetime (including time and timezone).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=snefit",
                        "name": "snefit",
                        "displayName": "Sven Franke",
                        "active": true
                    },
                    "created": "2009-11-16T13:16:53.000+0000",
                    "updated": "2009-11-16T13:16:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36043",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "I did not say that it's not possible.\r\n\r\nBut what you want to do is unlogic.\r\n\r\nDATES can be for example \"10.Jan.08\".\r\nOr it could be \"Nov.2009 10\"\r\n\r\nHowever DATES is specified, according to the manual, CLDR and any other documentation a DATE without time has no timestring or timezone available.\r\n\r\nJust by looking at \"10.Jan.08\" you can't say if it's in GMT-1 or GMT+1.\r\n\r\nSo how should isLater() or any other comparison method take a timezone into account when there is no in the defined format.\r\n\r\nTo take a time into account, the time must be available within the format.\r\nYou can not say \"compare only date\" and then ask \"why did you not also compare time?\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-11-16T13:57:29.000+0000",
                    "updated": "2009-11-16T13:57:29.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-8308\/transitions"
}