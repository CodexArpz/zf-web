{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-940",
    "key": "ZF-940",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "setBaseUrl contains script name"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-940\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-02-21T19:22:39.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-02-21T18:59:36.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-12-19T12:52:10.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "In Zend_Controller_Request_Http::setBaseUrl(), on the ZF community server, \n\n{code}\n.\n.\n            \/\/ Does the baseUrl have anything in common with the request_uri?\n            $requestUri = $this->getRequestUri();\n\n            if (0 === strpos($requestUri, $baseUrl)) {\n                \/\/ full $baseUrl matches\n                $this->_baseUrl = $baseUrl;\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ndoes not remove the script name\n                return $this;\n            }\n\n            if (0 === strpos($requestUri, dirname($baseUrl))) {\n                \/\/ directory portion of $baseUrl matches\n                $this->_baseUrl = rtrim(dirname($baseUrl), '\/');\n                return $this;\n            }\n{code}\n\nTo reproduce, use the following for $_SERVER[]:\n\n    [DOCUMENT_ROOT] => \/var\/www\/html\n    [GATEWAY_INTERFACE] => CGI\/1.1\n    [HTTP_ACCEPT] => text\/xml,application\/xml,application\/xhtml+xml,text\/html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5\n    [HTTP_ACCEPT_CHARSET] => ISO-8859-1,utf-8;q=0.7,*;q=0.7\n    [HTTP_ACCEPT_ENCODING] => gzip,deflate\n    [HTTP_ACCEPT_LANGUAGE] => en-us,en;q=0.5\n    [HTTP_CACHE_CONTROL] => max-age=0\n    [HTTP_CONNECTION] => keep-alive\n    [HTTP_COOKIE] => PHPSESSID=l6ap95tmc87k7u5opf5gcaesg1\n    [HTTP_HOST] => gavin.zfdev.com\n    [HTTP_KEEP_ALIVE] => 300\n    [HTTP_USER_AGENT] => Mozilla\/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.9) Gecko\/20061206 Firefox\/1.5.0.9\n    [ORIG_PATH_INFO] => \/demo\/src\/www\/cities.php\n    [ORIG_PATH_TRANSLATED] => \/var\/www\/html\/demo\/src\/www\/cities.php\n    [ORIG_SCRIPT_FILENAME] => \/var\/www\/html\/demo\/src\/www\/cities.php\n    [ORIG_SCRIPT_NAME] => \/demo\/src\/www\/cities.php\n    [PATH] => \/usr\/local\/bin:\/usr\/bin:\/bin\n    [PHP_SELF] => \/demo\/src\/www\/cities.php\n    [PWD] => \/var\/www\/interpreters\n    [QUERY_STRING] => distance=1000\n    [REDIRECT_QUERY_STRING] => distance=1000\n    [REDIRECT_STATUS] => 200\n    [REDIRECT_URL] => \/demo\/src\/www\/cities.php\n    [REMOTE_ADDR] => 63.205.162.114\n    [REMOTE_PORT] => 61068\n    [REQUEST_METHOD] => GET\n    [REQUEST_TIME] => 1172104791\n    [REQUEST_URI] => \/demo\/src\/www\/cities.php?distance=1000\n    [SCRIPT_FILENAME] => \/var\/www\/html\/demo\/src\/www\/cities.php\n    [SCRIPT_NAME] => \/demo\/src\/www\/cities.php\n    [SCRIPT_URI] => http:\/\/gavin.zfdev.com\/demo\/src\/www\/cities.php\n    [SCRIPT_URL] => \/demo\/src\/www\/cities.php\n    [SERVER_ADDR] => 67.15.10.100\n    [SERVER_ADMIN] => gavin@zend.com\n    [SERVER_NAME] => gavin.zfdev.com\n    [SERVER_PORT] => 80\n    [SERVER_PROTOCOL] => HTTP\/1.1\n    [SERVER_SOFTWARE] => Apache\/2.0.52 (Red Hat)\n    [SHLVL] => 1\n    [SITE_CGIROOT] => \/var\/www\/cgi-bin\n    [SITE_HTMLROOT] => \/var\/www\/html\n    [SITE_ROOT] => \/\n    [_] => \/usr\/bin\/php"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-940\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10020",
                    "id": 10020,
                    "description": "Preview Release; I18N, Acl, Auth, Session",
                    "name": "0.7.0",
                    "userReleaseDate": "18\/Jan\/07",
                    "archived": true,
                    "releaseDate": "2007-01-18",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12877",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "For this particular case, the base URL should include the script name.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-02-21T19:22:39.000+0000",
                    "updated": "2007-02-21T19:22:39.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/27508",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Bookkeeping. Closing old issues and assigning them to the person who ultimately resolved the issue.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-12-19T12:52:10.000+0000",
                    "updated": "2008-12-19T12:52:10.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-940\/transitions"
}