{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3242",
    "key": "ZF-3242",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Add functionality to set form-level errors"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 120,
                "timeestimate": 120
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3242\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10260",
                    "id": 10260,
                    "description": "Minor Release",
                    "name": "1.7.0",
                    "userReleaseDate": "17\/Nov\/08",
                    "archived": false,
                    "releaseDate": "2008-11-17",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-06T11:10:07.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=neilg",
                "name": "neilg",
                "displayName": "Neil Garb",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-05-12T08:15:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-01-19T12:45:57.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "As discussed on fw-mvc, it would be nice to be able to set form-level errors that apply to a form submission as a whole and not to any particular element.  This could be useful for, e.g., 'Invalid login credentials' or 'there was an error submitting your form'.\n\nI have outlined a possible solution at http:\/\/codecaine.co.za\/blog\/posts\/form-level-errors-with-zend-form\/.\n\nI think that the code should operate at the Zend_Form level and not at the Zend_Form_Element level."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3242\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-6269",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6269",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10050",
                    "id": 10050,
                    "description": "Minor Release Candidate",
                    "name": "1.6.0RC2",
                    "userReleaseDate": "11\/Aug\/08",
                    "archived": true,
                    "releaseDate": "2008-08-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/21714",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Scheduling for next minor release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-05-12T08:43:40.000+0000",
                    "updated": "2008-05-12T08:43:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/23842",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "version 1.6.0RC3\n\nif you set the decorator \"Errors\" at form level\n\ne.g.. $form->setDecorators(array(\n            'Description',\n            'Errors',\n            'FormElements',\n            'Form'\n        ));\n\nand then set a form level error $form->addError('Error message') it will produce a form level error\n\nBUT, if you don't set a form level error i.e. $form->addError('Error message') an error occurs on post back:\n\nWarning: htmlspecialchars() expects parameter 1 to be string, array given in \\path\\zend\\1.6.0RC3\\library\\Zend\\View\\Abstract.php on line 804\n\nWarning: htmlspecialchars() expects parameter 1 to be string, array given in \\path\\to\\zend1.6.0RC3\\library\\Zend\\View\\Abstract.php on line 804",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2008-08-30T07:55:27.000+0000",
                    "updated": "2008-08-30T07:55:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25719",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Functionality released with 1.6.0",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-11-05T12:51:12.000+0000",
                    "updated": "2008-11-05T12:51:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/26175",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Changing issues in preparation for the 1.7.0 release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-11-13T14:10:07.000+0000",
                    "updated": "2008-11-13T14:10:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30083",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cosmo87rg",
                        "name": "cosmo87rg",
                        "displayName": "Giuliano Riccio",
                        "active": true
                    },
                    "body": "I still get an error adding the Errors decorator to the form.\n\nThis is the code that reproduces the issue using Zend 1.7.8:\n\n{code:none}\n<?php\nrequire_once 'Zend\/Loader.php';\nZend_Loader::registerAutoload();\n\n$oEmail = new Zend_Form_Element_Text('email');\n$oEmail\n\t->addValidator('EmailAddress', true)\n\t->clearDecorators()\n\t->addDecorator('ViewHelper')\n\t->addDecorator('Errors')\n\t->setRequired(true);\n\n$oForm = new Zend_Form();\n$oForm\n\t->addElement($oEmail)\n\t->clearDecorators()\n\t->addDecorator('FormElements')\n\t->addDecorator('Errors', array('placement' => Zend_Form_Decorator_Abstract::PREPEND))\n\t->addDecorator('Form');\n\n$oForm->isValid(array('email' => 'foo'));\n$oForm->addErrors(array('Sign up failed')); \/\/ Without this throws an error\n\necho $oForm->render(new Zend_View());\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cosmo87rg",
                        "name": "cosmo87rg",
                        "displayName": "Giuliano Riccio",
                        "active": true
                    },
                    "created": "2009-04-10T17:17:18.000+0000",
                    "updated": "2009-04-10T17:17:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33194",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "body": "I'm particularly keen to see this one resolved, too.\nWhole of form error messages is just too common a function to not be properly catered for in Zend.\n\nSeems to me that this issue would be solved with a sanitisation filter on the {{$errors}} parameter of the {{formErrors}} function in the {{FormErrors}} view helper.\n\nThe function expects the parameter {{$errors}} to be either a string or an array of strings.\nWhen the \"Errors\" decorator is used at the form level and element level errors are created an *array of arrays of strings* is passed in.\nThese sub arrays may then be passed to {{$this->view->escape}} which causes the above error or are output as empty strings in the html output (undesirable to have empty errors showing up).\n\nRemoving any non-string values from the {{$errors}} parameter would solve this.\nThe filter could be akin to:\n\n{quote}\nforeach ($errors as $key => $error) {\n\tif (!is_string($error)) {\n\t\tunset($errors[$key]);\n\t}\n}\nif (count($errors) == 0) {\n\treturn '';\n}\n{quote}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "created": "2009-08-04T20:03:46.000+0000",
                    "updated": "2009-08-04T20:03:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33195",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "body": "Oops. Wiki markup-fail. : (\n\n{code}\nforeach ($errors as $key => $error) {\n\tif (!is_string($error)) {\n\t\tunset($errors[$key]);\n\t}\n}\n\nif (count($errors) == 0) {\n\treturn '';\n} \n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "created": "2009-08-04T20:14:42.000+0000",
                    "updated": "2009-08-04T20:14:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33215",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Apparent errors in current functionality.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-08-05T04:39:07.000+0000",
                    "updated": "2009-08-05T04:39:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33272",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Closing again. The functionality added was the FormErrors decorator. If you wish to report form-level errors, or report all errors on a given form at once, use the FormErrors decorator. The Errors decorator is intended for individual form elements *only*.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-08-06T11:09:40.000+0000",
                    "updated": "2009-08-06T11:09:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33275",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "body": "But the FormErrors decorator doesn't support form-level errors:\n\n{code}\n<? require_once 'Zend\/Loader.php';\nZend_Loader::registerAutoload();\n\n$form = new Zend_Form();\n$form\n\t->setDecorators(\n\t\tarray(\n\t\t\t'FormErrors',\n\t\t\t'FormElements',\n\t\t\t'Form'\n\t\t)\n\t)\n\t->addError('Form level error');\n\necho($form->render(new Zend_View())); ?>\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "created": "2009-08-06T16:45:47.000+0000",
                    "updated": "2009-08-06T16:45:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35731",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=orefice.matteo",
                        "name": "orefice.matteo",
                        "displayName": "Matteo Orefice",
                        "active": true
                    },
                    "body": "I cannot get it working. I watch in the FormErrors decorator , method _recurseForm() , I noticed $errors should be indexed by element name, but when you attach errors with $form->addError(\"...\") error messages are indexed by int value 0,1,2....",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=orefice.matteo",
                        "name": "orefice.matteo",
                        "displayName": "Matteo Orefice",
                        "active": true
                    },
                    "created": "2009-11-02T09:31:32.000+0000",
                    "updated": "2009-11-02T09:31:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36076",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "body": "You can't get it to work because Zend doesn't natively support form-level errors.\r\n\r\nHere's a quick plugin that I use:\r\n\r\n*_<<plugin directory>>_\\Zend\\Form\\Decorator\\FormLevelErrors.php*\r\n{code} \r\n<? require_once 'Zend\/Form\/Decorator\/Errors.php';\r\n\r\nclass Zend_Form_Decorator_FormLevelErrors extends Zend_Form_Decorator_Errors {\r\n\t\/\/ Standard Zend_Form_Decorator_Errors render function (Zend v1.9)\r\n\tpublic function render($content) {\r\n\t\t$element = $this->getElement();\r\n\t\t$view\t= $element->getView();\r\n\t\tif (null === $view) {\r\n\t\t\treturn $content;\r\n\t\t}\r\n\r\n\t\t$errors = $element->getMessages();\r\n\t\t\r\n\t\t\/\/ Remove errors deeper than one level (errors associated with an element)\r\n\t\tforeach ($errors as $key => $error) {\r\n\t\t\tif (!is_string($error)) {\r\n\t\t\t\tunset($errors[$key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (empty($errors)) {\r\n\t\t\treturn $content;\r\n\t\t}\r\n\r\n\t\t$separator = $this->getSeparator();\r\n\t\t$placement = $this->getPlacement();\r\n\t\t$errors\t= $view->formErrors($errors, $this->getOptions()); \r\n\r\n\t\tswitch ($placement) {\r\n\t\t\tcase self::APPEND:\r\n\t\t\t\treturn $content . $separator . $errors;\r\n\t\t\tcase self::PREPEND:\r\n\t\t\t\treturn $errors . $separator . $content;\r\n\t\t}\r\n\t}\r\n} ?>\r\n{code}\r\n\r\n*Usage example*\r\n{code} \r\n<? require_once 'Zend\/Loader.php';\r\nZend_Loader::registerAutoload();\r\n\r\n$form = new Zend_Form();\r\n$form\r\n\t->setDecorators(\r\n\t\tarray(\r\n\t\t\t'FormLevelErrors',\r\n\t\t\t'FormElements',\r\n\t\t\t'Form'\r\n\t\t)\r\n\t)\r\n\t->addError('Form level error');\r\n\r\necho($form->render(new Zend_View())); ?>\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "created": "2009-11-17T21:26:46.000+0000",
                    "updated": "2009-11-17T21:26:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49526",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "body": "I know this a two year old issue, but it's still not resolved IMO. Only the code from Casey works as expected:\r\n\r\n* The Errors decorator shows only the element-level errors\r\n* The FormErrors decorator shows all errors, but displays element-level errors twice (at the top + next to each element)\r\n\r\nWhereas the behavior of Casey's code is to display:\r\n- Form-level errors at the top of the form\r\n- Element-level errors next to the elements\r\n\r\nAnd I think this is what most users expect.\r\nCould it be possible to have this feature built-in ZF?\r\n\r\nAnyone to reopen the issue, or should we create a new one as a feature request?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "created": "2012-01-18T12:42:13.000+0000",
                    "updated": "2012-01-18T12:42:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49528",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I'm confused as to what you want, to be honest. \r\n\r\n* FormErrors is used to show all errors from all elements at once, as well as any attached directly to the form.\r\n* Errors is used to show errors specific to a given element.\r\n* If your elements all compose the Errors decorator, and you also have the FormErrors decorator attached, you'll end up displaying the errors from each element both at the top as well as with each element.\r\n\r\nDo I understand correctly that what you would like to do is have a form-level decorator that displays only errors attached directly to the form? (That appears to be what Casey is suggesting.)\r\n\r\nIf so, we can re-open. However, this would be a target for 1.12 (next minor release) as opposed to the next 1.11 bugfix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-01-18T14:15:02.000+0000",
                    "updated": "2012-01-18T14:15:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49529",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "body": "I'll try to summarize the issue with screenshots. For all examples, unless otherwise specified, this code is applied to the form:\r\n\r\n{code}\r\n$form->addError('This is a form level error');\r\n{code}\r\n\r\n1) If no specific decorator is used, the form-level errors are not displayed:\r\n\r\n!http:\/\/i.imgur.com\/prHiv.png!\r\n\r\n2) If the *FormErrors* decorator is used, the form-level errors are shown, but the element-level errors are shown twice:\r\n\r\n!http:\/\/i.imgur.com\/UldKB.png!\r\n\r\n3) If the *Errors* decorator is used, that looks perfect:\r\n\r\n!http:\/\/i.imgur.com\/dusJp.png!\r\n\r\nBut here is what happens if you remove the call to addError():\r\n\r\n!http:\/\/i.imgur.com\/Jwk0O.png!\r\n\r\nSo I'm not sure whether Zend_Form needs a new decorator, or if something just needs to be fixed.\r\nCasey highlighted a possible fix in [his comment above|#comment-33194], but that doesn't completely solve the problem: if the form is posted with *only* form-level errors, these are not displayed.\r\n\r\nIn my opinion, the default behavior for Zend_Form (which shouldn't break backward compatibility) should be to unconditionally display both kind of errors with default decorators, as highlighted again in this screenshot:\r\n\r\n!http:\/\/i.imgur.com\/dusJp.png!\r\n\r\nThat won't break any code relying on the default decorators, as they'll have no form-level errors set.\r\nI don't know what is the best way to achieve this goal, but I can work on a patch on my own if you agree with this behavior.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "created": "2012-01-18T15:32:11.000+0000",
                    "updated": "2012-01-18T15:32:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49530",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cosmo87rg",
                        "name": "cosmo87rg",
                        "displayName": "Giuliano Riccio",
                        "active": true
                    },
                    "body": "You can set the onlyCustomFormErrors option to true for the FormErrors decorator so that it will return only custom errors and ignore any error returned by the form elements. The code below (line 433 in FormErrors.php) is the part that retrieves the messages.\r\n\r\n{code}\u00a0\r\n    protected function _recurseForm(Zend_Form $form, Zend_View_Interface $view)\r\n    {\r\n        $content = '';\r\n\r\n        $custom = $form->getCustomMessages();\r\n        if ($this->getShowCustomFormErrors() && count($custom)) {\r\n            $content .= $this->getMarkupListItemStart()\r\n                     .  $view->formErrors($custom, $this->getOptions())\r\n                     .  $this->getMarkupListItemEnd();\r\n        }\r\n        foreach ($form->getElementsAndSubFormsOrdered() as $subitem) {\r\n            if ($subitem instanceof Zend_Form_Element && !$this->getOnlyCustomFormErrors()) {\r\n                $messages = $subitem->getMessages();\r\n                if (count($messages)) {\r\n                    $subitem->setView($view);\r\n                    $content .= $this->getMarkupListItemStart()\r\n                             .  $this->renderLabel($subitem, $view)\r\n                             .  $view->formErrors($messages, $this->getOptions())\r\n                             .  $this->getMarkupListItemEnd();\r\n                }\r\n            } else if ($subitem instanceof Zend_Form && !$this->ignoreSubForms()) {\r\n                $markup = $this->_recurseForm($subitem, $view);\r\n\r\n                if (!empty($markup)) {\r\n                    $content .= $this->getMarkupListStart()\r\n                              . $markup\r\n                              . $this->getMarkupListEnd();\r\n                }\r\n            }\r\n        }\r\n        return $content;\r\n    }{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cosmo87rg",
                        "name": "cosmo87rg",
                        "displayName": "Giuliano Riccio",
                        "active": true
                    },
                    "created": "2012-01-18T15:35:13.000+0000",
                    "updated": "2012-01-18T15:35:13.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49531",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "body": "Actually, after reading through everything again I think that all this behavior is consistent with what you've just said in your post, Matthew.\r\n*What's missing is indeed a form-level-errors-only decorator*, and Casey's [FormLevelErrors|#comment-36076] fits the bill perfectly.\r\nIt could even be part of the default Zend_Form decorators.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "created": "2012-01-18T15:42:23.000+0000",
                    "updated": "2012-01-18T15:42:23.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49532",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "body": "Thanks for picking up the baton on this one, Strict Coding. ;)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=casey@solid.net.au",
                        "name": "casey@solid.net.au",
                        "displayName": "Casey",
                        "active": true
                    },
                    "created": "2012-01-18T21:58:14.000+0000",
                    "updated": "2012-01-18T21:58:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49533",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "body": "@Giuliano: sorry, I hadn't taken the time to look at your post closely.\r\nYou're right, this solution, poorly documented, actually works perfectly, no need for modifications in Zend_Form!\r\n\r\n{code}\r\n$this->addDecorator('FormErrors', array('onlyCustomFormErrors' => true))\r\n     ->addDecorator('FormElements')\r\n     ->addDecorator('HtmlTag', array('tag' => 'dl', 'class' => 'zend_form'))\r\n     ->addDecorator('Form');\r\n{code}\r\n\r\nIt could be helpful to document carefully this feature on the website.\r\nOr wouldn't it be interesting, once again, to make this decorator *part of the default decorators*?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=strictcoding",
                        "name": "strictcoding",
                        "displayName": "Strict Coding",
                        "active": true
                    },
                    "created": "2012-01-19T12:45:57.000+0000",
                    "updated": "2012-01-19T12:45:57.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3242\/transitions"
}