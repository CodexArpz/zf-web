{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6791",
    "key": "ZF-6791",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "big logical mistake, resource path gets replaced even if they are already existent"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6791\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-09-17T10:39:16.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cbq",
                "name": "cbq",
                "displayName": "Alex. Hannel",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-05-24T21:26:33.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-09-17T10:39:16.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "autoloader",
                "overwrite",
                "path",
                "resource"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "{code}\n    public function addResourceType($type, $path, $namespace = null)\n    {\n        $type = strtolower($type);\n        if (!isset($this->_resourceTypes[$type])) {\n            if (null === $namespace) {\n                require_once 'Zend\/Loader\/Exception.php';\n                throw new Zend_Loader_Exception('Initial definition of a resource type must include a namespace');\n            }\n            $namespaceTopLevel = $this->getNamespace();\n            $namespace = ucfirst(trim($namespace, '_'));\n            $this->_resourceTypes[$type] = array(\n                'namespace' => empty($namespaceTopLevel) ? $namespace : $namespaceTopLevel . '_' . $namespace,\n            );            \n        }\n\n\t        if (!is_string($path)) {\n\t            require_once 'Zend\/Loader\/Exception.php';\n\t            throw new Zend_Loader_Exception('Invalid path specification provided; must be string');\n\t        }\n\t        $this->_resourceTypes[$type]['path'] = $this->getBasePath() . '\/' . $path;            \n\n        $component = $this->_resourceTypes[$type]['namespace'];\n        $this->_components[$component] = $this->_resourceTypes[$type]['path'];\n        return $this;\n    }\n{code}\n\nshould be changed to\n\n{code}\n    public function addResourceType($type, $path, $namespace = null)\n    {\n        $type = strtolower($type);\n        if (!isset($this->_resourceTypes[$type])) {\n            if (null === $namespace) {\n                require_once 'Zend\/Loader\/Exception.php';\n                throw new Zend_Loader_Exception('Initial definition of a resource type must include a namespace');\n            }\n\n \t        if (!is_string($path)) {\n\t            require_once 'Zend\/Loader\/Exception.php';\n\t            throw new Zend_Loader_Exception('Invalid path specification provided; must be string');\n\t        }\n            \n            $namespaceTopLevel = $this->getNamespace();\n            $namespace = ucfirst(trim($namespace, '_'));\n            $this->_resourceTypes[$type] = array(\n                'namespace' => empty($namespaceTopLevel) ? $namespace : $namespaceTopLevel . '_' . $namespace,\n            );\n            \n\t        $this->_resourceTypes[$type]['path'] = $this->getBasePath() . '\/' . $path;            \n        }\n\n        $component = $this->_resourceTypes[$type]['namespace'];\n        $this->_components[$component] = $this->_resourceTypes[$type]['path'];\n        return $this;\n    }\n{code}\n\nbecause this function is supposed to add a resource if it isn't existent.\n\nthe problem with it is, it checks the param. path later as it should and even more critical it overwrites the resource PATH even if the resource is already is existent!\n\nbest regards\n\nenalog\nAlex. Hannel"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/1",
                "name": "Blocker"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6791\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10241",
                    "id": 10241,
                    "description": "Minor Release",
                    "name": "1.8.0",
                    "userReleaseDate": "30\/Apr\/09",
                    "archived": false,
                    "releaseDate": "2009-04-30",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10310",
                    "id": 10310,
                    "description": "Mini Release",
                    "name": "1.8.1",
                    "userReleaseDate": "12\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-12",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10001",
                    "id": 10001,
                    "name": "Zend_Loader",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34523",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brenton",
                        "name": "brenton",
                        "displayName": "Brenton Alker",
                        "active": true
                    },
                    "body": "The requested behaviour seems to be in direct opposition to expected (and current) behaviour as documented in the test case testAutoloaderShouldAllowAddingResettingResourcePaths(Zend_Loader_Autoloader_ResourceTest).\n\nThe test case asserts that \"re-adding\" a resource type with a different path should overwrite the existing path set in the autoloader, the requested behaviour would prevent that use-case.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brenton",
                        "name": "brenton",
                        "displayName": "Brenton Alker",
                        "active": true
                    },
                    "created": "2009-09-17T09:04:24.000+0000",
                    "updated": "2009-09-17T09:04:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34524",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I need the following before I can move forward on this:\n* Reproduce case that displays the issue\n* Expected result (I'm assuming \"lack of an error condition\")\n* Actual result (the error condition that occurs)\n\nAs I'm not sure what error occurs, nor what conditions trigger it, I can't write a unit test for it at this point. Please update with the above information, and I'll start work on it.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-09-17T09:15:06.000+0000",
                    "updated": "2009-09-17T09:15:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34525",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Brenton -- You evidently posted sometime after I'd loaded the page originally, so I missed your bit about the test case in question.\n\nCan you detail *why* you want to change the behavior? What benefit does this have?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-09-17T09:21:38.000+0000",
                    "updated": "2009-09-17T09:21:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34526",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brenton",
                        "name": "brenton",
                        "displayName": "Brenton Alker",
                        "active": true
                    },
                    "body": "Matthew,\n\nI was saying that I don't believe this is an issue.\n\nUsing the code suggested in the initial report causes a failure in the current test suite (testAutoloaderShouldAllowAddingResettingResourcePaths). Which indicates the behaviour that the initial report is trying to \"fix\" is expected, and thus this is not a bug.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brenton",
                        "name": "brenton",
                        "displayName": "Brenton Alker",
                        "active": true
                    },
                    "created": "2009-09-17T09:26:00.000+0000",
                    "updated": "2009-09-17T09:26:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34536",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Aha! Excellent -- I'll close as \"not an issue\" then. Thanks for the clarifications!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-09-17T10:39:01.000+0000",
                    "updated": "2009-09-17T10:39:01.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6791\/transitions"
}