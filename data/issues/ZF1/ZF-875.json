{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-875",
    "key": "ZF-875",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Produce a RSS\/Atom feed with Zend_Feed"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-875\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10022",
                    "id": 10022,
                    "description": "Beta Release; all components feature complete for 1.0",
                    "name": "0.9.0",
                    "userReleaseDate": "17\/Mar\/07",
                    "archived": true,
                    "releaseDate": "2007-03-17",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-03-14T16:39:16.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                "name": "slaanesh",
                "displayName": "Olivier Sirven",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-02-08T09:28:27.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:45.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Zend_Feed can consume rss\/atom feeds but is lacking the ability to produce them from a custom data source."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-875\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                "name": "slaanesh",
                "displayName": "Olivier Sirven",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/10287",
                    "filename": "zend_feed.patch",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-02-27T03:57:57.000+0000",
                    "size": 24401,
                    "mimeType": "text\/x-diff",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/10287\/zend_feed.patch"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/10250",
                    "filename": "zend_feed.patch",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-02-08T09:38:07.000+0000",
                    "size": 21584,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/10250\/zend_feed.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10020",
                    "id": 10020,
                    "description": "Preview Release; I18N, Acl, Auth, Session",
                    "name": "0.7.0",
                    "userReleaseDate": "18\/Jan\/07",
                    "archived": true,
                    "releaseDate": "2007-01-18",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10000",
                    "id": 10000,
                    "name": "Zend_Feed",
                    "description": "Zend_Feed including Atom, RSS, and other concrete implementations",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12588",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "Here is the patch to add this ability to Zend_Feed.\n\nThen it is very easy to use. You just have to implement Zend_Feed_Interface or to give an appropriate array to Zend_Feed::factory method.\n\n{code}require_once 'Zend\/Feed.php';\nrequire_once 'Zend\/Feed\/Interface.php';\n\nclass MyInterface implements Zend_Feed_Interface\n{\n    public function getFeedData()\n    {\n        $array = array('title' => 'A feed produced by the Zend_Feed_Interface',\n                       'link' => 'http:\/\/www.example.com',\n                       'description' => 'Description of the feed',\n                       'author' => 'Olivier Sirven',\n                       'email' => 'olivier@elma.fr',\n                       'charset' => 'iso-8859-15',\n                       'lastUpdate' => time(),\n                       'entries' => array(array('title' => 'First article',\n                                                'link' => 'http:\/\/www.example.com',\n                                                'description' => 'First article description',\n                                                'content' => 'First article <strong>content<\/strong>',\n                                                'lastUpdate' => time())));\n\n        return $array;\n    }\n}\n\n\/\/ create the input array describing the feed to create\n$array = array('title' => 'Title of the feed',\n               'link' => 'http:\/\/www.example.com',\n               'description' => 'Description of the feed',\n               'author' => 'Olivier Sirven',\n               'email' => 'olivier@elma.fr',\n               'charset' => 'iso-8859-15',\n               'lastUpdate' => time(),\n               'entries' => array(array('title' => 'First article',\n                                        'link' => 'http:\/\/www.example.com',\n                                        'description' => 'First article description',\n                                        'content' => 'First article <strong>content<\/strong>',\n                                        'lastUpdate' => time())));\n\n\/\/ create a Zend_Feed_Atom instance from the array\n$feed = Zend_Feed::factory('atom', null, $array);\n\n\/\/ create a Zend_Feed_Rss instance from it\n\/\/ $feed = Zend_Feed::factory('rss', null, $array);\n\n\/\/ create a Zend_Feed_Rss instance with Zend_Feed_Interface\n\/\/ $feed = Zend_Feed::factory('rss', new MyInterface());\n\n\/\/ dump the feed to standard output\n\/\/ print $feed->saveXML();\n\n\/\/ send http headers and dump the feed\n$feed->send();\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-02-08T09:38:07.000+0000",
                    "updated": "2007-02-08T09:38:07.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12984",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Comments:\n\nThe Zend_Feed class already has importUri(), importString(), and importFile().  What about using two new static methods:  importArray() and importBuilder() instead of the factory() method you propose.  \n\nThe importArray() method uses the $data value as you have it above.  The importBuilder() method uses the object of type Zend_Feed_Interface.\n\nI would suggest making the format be the optional second argument, and it defaults to 'atom'.\n\n{code}\n$feed = Zend_Feed::importArray($data, 'atom');\n{code}\n\nI would suggest changing Zend_Feed_Interface to Zend_Feed_Builder_Interface, and provide a simple reference implementation Zend_Feed_Builder, which takes an array in its constructor, performs some minor validation, and then can be used in the importBuilder() method.\n\n{code}\n$builder = new Zend_Feed_Builder($data);\n$feed = Zend_Feed::importBuilder($builder, 'atom');\n{code}\n\nThis plain Builder class is not very interesting, but serves as a concrete implementation to demonstrate the usage.  Users are encouraged to make their own classes to implement Zend_Feed_Builder_Interface.\n\nWhy would $data or $builder be optional?  That is, why do you default them to null?  Wouldn't it be better to make them required arguments?\n\nI don't understand the patch to Zend\/Http\/Client\/Adapter\/Socket.  Doesn't it duplicate code that exists just a few lines later?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-02-26T12:00:40.000+0000",
                    "updated": "2007-02-26T12:00:40.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12985",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "I meant Zend_Feed has a method import(), which takes a URI argument.  It's not called importUri().",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-02-26T12:01:34.000+0000",
                    "updated": "2007-02-26T12:01:34.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13014",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "Here is a new version of the patch taking into account your suggestions.\nThe new usage is now\n{code}\n\/* create a Zend_Feed_Atom instance from the array *\/\n$feed = Zend_Feed::importArray($array);\n\n\/* create a Zend_Feed_Rss instance from it *\/\n$feed = Zend_Feed::importArray($array, 'rss');\n\n\/* create a Zend_Feed_Atom instance with Zend_Feed_Builder *\/\n$feed = Zend_Feed::importBuilder(new Zend_Feed_Builder($array));\n{code}\n\nSorry about the patch to Zend\/Http\/Client\/Adapter\/Socket. It was an older patch I submited and I forgot the revert the code ;)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-02-27T03:57:57.000+0000",
                    "updated": "2007-02-27T03:57:57.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13152",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "body": "Thanks for the patch Olivier. I have tried this in an application of mine and it works a treat.\n\nI did have a couple of thoughts\/suggestions - this mostly applies to the RSS implementation, as I haven't tried Atom:-\n\n- Currently the feed builder assumes 'rss' or 'atom' with a switch statement. For future compatibility, wouldn't it be better to use Zend::loadClass and throw an exception of the class is non-existent rather than limiting it to the switch?\n- Perhaps some defaults would be good here for building, rather than throwing an exception if feed elements are missing (e.g. lastUpdate defaults to time() if not explicitly mentioned).\n- The element names don't always correspond to the specifications. For example 'entries'  should be 'items' in the RSS version. An exception should be thrown if 'items' is not set.\n- 'charset' doesn't really belong in the feed element entries. Perhaps the signature of Zend_Feed_Builder could instead be __construct function(array $array, $charset = 'iso-8859-1') so the charset is specified there instead?\n- The RSS feed didn't allow for enclosures (I was making a podcast so I did miss it a lot!). Perhaps the value for an enclosure can be an array, so we can specify the length, mimetype and url?\n- The 'guid' element is optional, so shouldn't be created by default.\n- 'source', 'category', 'author' and 'comments' are missing from the items definitions\n- There are also elements missing from the channel definition (see http:\/\/blogs.law.harvard.edu\/tech\/rss)\n\nLook forward to seeing this implementation included (hopefully) by 0.9.\n\nCheers!",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=peptolab",
                        "name": "peptolab",
                        "displayName": "Simon Mundy",
                        "active": true
                    },
                    "created": "2007-03-05T17:02:22.000+0000",
                    "updated": "2007-03-05T17:02:22.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13158",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "Thanks for your comment Simon.\n\n* I have changed Zend_Feed::importArray and Zend_Feed::importBuilder to use Zend::loadClass instead of a switch statement.\n* The support of rss and atom format is now (I hope so) complete so you can add your podcast to your rss feed ;)\n* I have added support for the WFW api too so one can link a rss\/atom entry to an associated rss\/atom feed\n* The guid node of a rss item is now only created if an id is specified\n* About the element names of the builder array, I tried to pick the most speaking word from rss or atom format as this array represent as well a rss feed or an atom feed. That's why the charset value is a key of the array: the array should contains all values needed to generate a feed, whatever the output format is.\n\nPlease give a try to the current version located here http:\/\/framework.zend.com\/svn\/framework\/branch\/Zend_Feed and tell me what you think.\n\nRegards,\n\nOlivier",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-03-06T09:26:41.000+0000",
                    "updated": "2007-03-06T09:26:41.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13189",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "I think I am almost done...I have added support for the itunes extension (rss only) and the unit tests have been completed to support the new features\nAs far as I know I just have to complete the existing Zeed_Feed documentation and I will be done!\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-03-07T06:06:05.000+0000",
                    "updated": "2007-03-07T06:06:05.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13283",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Before these changes may be merged to core, the unit tests must pass.\n\nI received the following fatal error on PHP 5.1.4 on WinXP. I also have a confirmed report of the same results on PHP 5.1.5 on WinXP:\n\n{code}\nFatal error: Objects used as arrays in post\/pre increment\/decrement must return values by reference in\n...\\branch\\Zend_Feed\\library\\Zend\\Feed\\Rss.php on line 214\n{code}\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-03-13T13:29:13.000+0000",
                    "updated": "2007-03-13T13:29:13.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13288",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "Oup's I did not test with php 5.1.x, only with with php 5.2.x :(\nI have made some changes in order to make the thing work so I'd like you to test it again ;)\nOr maybe you can tell me where I could do it myself without removing my current php installation ?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-03-13T14:15:41.000+0000",
                    "updated": "2007-03-13T14:15:41.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13335",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Sorry for the delay; I see that the tests pass now, and I'll continue review pursuant to merging it to core. Thanks, Olivier, for these great new features! :)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-03-14T12:58:40.000+0000",
                    "updated": "2007-03-14T12:58:40.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13336",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "body": "My pleasure ;)\nLet me know if you need me to do something else",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=slaanesh",
                        "name": "slaanesh",
                        "displayName": "Olivier Sirven",
                        "active": true
                    },
                    "created": "2007-03-14T13:03:25.000+0000",
                    "updated": "2007-03-14T13:03:25.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13338",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Branch merged to core with SVN [r3941|http:\/\/framework.zend.com\/fisheye\/changelog\/Zend_Framework\/?cs=3941]. Thanks, Olivier! :)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2007-03-14T16:39:16.000+0000",
                    "updated": "2007-03-14T16:39:16.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-875\/transitions"
}