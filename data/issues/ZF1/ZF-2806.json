{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2806",
    "key": "ZF-2806",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form_Element NotEmpy validation when required is set to true"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2806\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-03-05T06:49:13.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hedonism",
                "name": "hedonism",
                "displayName": "Hristo Angelov",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-03-05T02:08:22.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-03-05T07:00:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I add to Zend_Form_Element_Text Alnum validation and set this field as required. Then automatically is applied NotEmpty validation. There is two problems i found. \nFirst you are not able to change the default message for NotEmpty validation. \nSecond Alnum validation has  himself check for empty string but this is not applied until i add NotEmpty validation.\n\n{code}\n$form = new Zend_Form();\n\n$form->addElement('text', 'username', array('label'=>'\u041f\u043e\u0442\u0435\u0440\u0431\u0438\u0442\u0435\u043b'));\n\n$userAlnum = new Zend_Validate_Alnum();\n$userAlnum->setMessage(\n    '\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435!',\n    Zend_Validate_Alnum::STRING_EMPTY\n);\n$userAlnum->setMessage(\n    '\u041f\u043e\u0442\u0435\u0431\u0438\u0442\u0435\u043b\u043a\u043e\u0442\u043e \u0412\u0438 \u0438\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u044a\u0434\u044a\u0440\u0436\u0430 \u0441\u0430\u043c\u043e \u0431\u0443\u043a\u0432\u0438 \u0438 \u0447\u0438\u0441\u043b\u0430',\n    Zend_Validate_Alnum::NOT_ALNUM\n);\n        \n$userNotEmpty = new Zend_Validate_NotEmpty();\n$userNotEmpty->setMessage(\n    '\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435!',\n    Zend_Validate_NotEmpty::IS_EMPTY\n);\n        \n$form->username->addValidator($userNotEmpty);\n$form->username->addValidator($userAlnum);\n        \n$form->username->setRequired(true);\n{code}\n\nSee screen shot 1.\n\n{code}\n$form = new Zend_Form();\n\n$form->addElement('text', 'username', array('label'=>'\u041f\u043e\u0442\u0435\u0440\u0431\u0438\u0442\u0435\u043b'));\n\n$userAlnum = new Zend_Validate_Alnum();\n$userAlnum->setMessage(\n    '\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435!',\n    Zend_Validate_Alnum::STRING_EMPTY\n);\n$userAlnum->setMessage(\n    '\u041f\u043e\u0442\u0435\u0431\u0438\u0442\u0435\u043b\u043a\u043e\u0442\u043e \u0412\u0438 \u0438\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u044a\u0434\u044a\u0440\u0436\u0430 \u0441\u0430\u043c\u043e \u0431\u0443\u043a\u0432\u0438 \u0438 \u0447\u0438\u0441\u043b\u0430',\n    Zend_Validate_Alnum::NOT_ALNUM\n);\n        \n$userNotEmpty = new Zend_Validate_NotEmpty();\n$userNotEmpty->setMessage(\n    '\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435!',\n    Zend_Validate_NotEmpty::IS_EMPTY\n);\n        \n\/\/$form->username->addValidator($userNotEmpty);\n$form->username->addValidator($userAlnum);\n        \n$form->username->setRequired(true);\n{code}\n\nSee screen shot 2."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10037",
                "value": "   Must Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2806\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11168",
                    "filename": "screenshot-1.jpg",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hedonism",
                        "name": "hedonism",
                        "displayName": "Hristo Angelov",
                        "active": true
                    },
                    "created": "2008-03-05T02:25:43.000+0000",
                    "size": 132565,
                    "mimeType": "image\/jpeg",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11168\/screenshot-1.jpg",
                    "thumbnail": "http:\/\/fw02.zend.com\/issues\/secure\/thumbnail\/11168\/_thumb_11168.png"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11169",
                    "filename": "screenshot-2.jpg",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hedonism",
                        "name": "hedonism",
                        "displayName": "Hristo Angelov",
                        "active": true
                    },
                    "created": "2008-03-05T02:26:17.000+0000",
                    "size": 129202,
                    "mimeType": "image\/jpeg",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11169\/screenshot-2.jpg",
                    "thumbnail": "http:\/\/fw02.zend.com\/issues\/secure\/thumbnail\/11169\/_thumb_11169.png"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10171",
                    "id": 10171,
                    "description": "Minor Release Candidate",
                    "name": "1.5.0RC1",
                    "userReleaseDate": "26\/Feb\/08",
                    "archived": true,
                    "releaseDate": "2008-02-26",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19583",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "First, in your second example you never associated your custom NotEmpty validator with the form -- you only added the $userAlnum validator. If you add your own NotEmpty validator to the element, then Zend_Form_Element will not attempt to add one itself.\n\nSecond, you can actually disable having required autoload a NotEmpty validator by calling:\n{code}\n$element->setAutoInsertNotEmptyValidator(false);\n{code}\n\n(this can be called from a configuration key as well as the key 'autoInsertNotEmptyValidator')\n\nFinally, I'd recommend that you use translation files to set your messages instead of setting them manually. This will work globally and not require changes to your code.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-03-05T06:49:02.000+0000",
                    "updated": "2008-03-05T06:49:02.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19584",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hedonism",
                        "name": "hedonism",
                        "displayName": "Hristo Angelov",
                        "active": true
                    },
                    "body": "Yes i don't add NotEmpty validation second time to show that i cant costume the message for empty string. And i want to show that when i don't have NotEmpty validation Zend_Validate_Alnum::STRING_EMPTY message is not shown. But when i have it is shown. I think it is kind of mess there. When i insert Alnum validation this means that the string in field cannot be empty and when is empty Zend_Validate_Alnum::STRING_EMPTY message sholud be shown instead of non costuming NotEmpty validation message .",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=hedonism",
                        "name": "hedonism",
                        "displayName": "Hristo Angelov",
                        "active": true
                    },
                    "created": "2008-03-05T07:00:46.000+0000",
                    "updated": "2008-03-05T07:00:46.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2806\/transitions"
}