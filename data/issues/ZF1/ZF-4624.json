{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4624",
    "key": "ZF-4624",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Conditions with Zend_Form"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4624\/votes",
                "votes": 7,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2013-02-12T17:02:31.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=milchbazi",
                "name": "milchbazi",
                "displayName": "Tobias Schifftner",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-10-17T06:14:50.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2013-02-12T17:02:31.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "!http:\/\/www.nabble.com\/file\/p19177733\/example_form.png|width=300,height=158!\r\n\r\nWhile trying to do some conditions with Zend_Form I figured out that this is actually not possible.  The idea was to have two different Subforms. The main form containing only one element, two radio buttons. When the first radio button is selected, only the first Subform should be validated and the second ignored. When the second radio button is selected, it should be just the other way around. The major reason why this was not possible is that you cannot display the radio buttons between Subforms (as they are one element).  The only way I see you can achieve this is by doing it hardcoded in a ViewScript but then it cannot be validated.\r\n\r\nRadio buttons containing none Subform should also be allowed and it should work with other elements as well, for example a dropdown list. Later on dojo could be used to display only the selected Subform.\r\n\r\nForum thread for this issue: http:\/\/www.nabble.com\/-Zend-Form--Conditional-SubForms-td19177733.html\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4624\/watchers",
                "isWatching": false,
                "watchCount": 9
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                "name": "frosch",
                "displayName": "Frank Br\u00fcckner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10252",
                    "id": 10252,
                    "description": "Minor Preview Release",
                    "name": "1.7 Preview Release",
                    "userReleaseDate": "13\/Oct\/08",
                    "archived": true,
                    "releaseDate": "2008-10-13",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50766",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "body": "{quote}The major reason why this was not possible is that you cannot display the radio buttons between Subforms (as they are one element). The only way I see you can achieve this is by doing it hardcoded in a ViewScript but then it cannot be validated.{quote}\r\nYou can:\r\n{code:title=Example}\r\nclass Foo extends Zend_Form\r\n{\r\n    public function init()\r\n    {\r\n        \/\/ Radio button\r\n        $this->addElement(\r\n            'radio',\r\n            'first',\r\n            array(\r\n                'name'         => 'switch',\r\n                'multiOptions' => array(\r\n                    1 => 'First',\r\n                ),\r\n            )\r\n        );\r\n        \r\n        \/\/ First subform\r\n        $subform1 = new Zend_Form_SubForm();\r\n        $subform1->addElement(\r\n            'text',\r\n            'qux',\r\n            array(\r\n                'label'    => 'Qux',\r\n                'required' => true,\r\n            )\r\n        );\r\n        $this->addSubForm($subform1, 'subform1');\r\n        \r\n        \/\/ Radio button\r\n        $this->addElement(\r\n            'radio',\r\n            'second',\r\n            array(\r\n                'name'         => 'switch',\r\n                'multiOptions' => array(\r\n                    2 => 'Second',\r\n                ),\r\n            )\r\n        );      \r\n        \r\n        \/\/ Second subform\r\n        $subform2 = new Zend_Form_SubForm();\r\n        $subform2->addElement(\r\n            'text',\r\n            'qux',\r\n            array(\r\n                'label'    => 'Qux',\r\n                'required' => true,\r\n            )\r\n        );\r\n        $this->addSubForm($subform2, 'subform2');\r\n        \r\n        \/\/ Submit button\r\n        $this->addElement(\r\n            'submit',\r\n            'submit',\r\n            array(\r\n                'label'   => 'Send',\r\n                'irgnore' => true,\r\n            )\r\n        );\r\n    }\r\n    \r\n    public function isValid($data)\r\n    {\r\n        if (isset($data['switch']) && 1 == $data['switch']) {\r\n            foreach ($this->getSubForm('subform2') as $element) {\r\n                if ($element instanceof Zend_Form_Element) {\r\n                    $element->setRequired(false);\r\n                }\r\n            }\r\n        }\r\n        if (isset($data['switch']) && 2 == $data['switch']) {\r\n            foreach ($this->getSubForm('subform1') as $element) {\r\n                if ($element instanceof Zend_Form_Element) {\r\n                    $element->setRequired(false);\r\n                }\r\n            }\r\n            $this->getElement('second')->setValue('1');\r\n        }\r\n        \r\n        $result = parent::isValid($data);\r\n        \r\n        \/\/ Workaround to set values for the checkboxes (element name != name attribute)\r\n        if (isset($data['switch']) && 1 == $data['switch']) {\r\n            $this->getElement('first')->setValue('1');\r\n        }\r\n        if (isset($data['switch']) && 2 == $data['switch']) {\r\n            $this->getElement('second')->setValue('2');\r\n        }\r\n        \r\n        return $result;\r\n    }\r\n}\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=frosch",
                        "name": "frosch",
                        "displayName": "Frank Br\u00fcckner",
                        "active": true
                    },
                    "created": "2012-05-25T15:54:00.000+0000",
                    "updated": "2012-05-25T15:54:00.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4624\/transitions"
}