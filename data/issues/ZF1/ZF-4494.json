{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4494",
    "key": "ZF-4494",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "propose AutoCompleteDojoExt  id=table id for example and label=name"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4494\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:53:28.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                "name": "lupus",
                "displayName": "Kristof Vansant",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-10-05T13:44:58.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:53:28.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "if you have data from a DB table groepen\n\ngroepen [id,name]\n\nname is what you want to show the user, id is what you need \n\nI have a table offices\noffices [id, name, groepen_id]\n\ngroepen_id is a FK tot groepen\n\nwith my function you can place a filterselect for offices that shows all the groepen by name.\nwhen I save to the offices table I just use the id instead of the group name.\n\n        <select dojoType=\"dijit.form.FilteringSelect\"\n        name=\"state3\"\n        autocomplete=\"false\"\n        value=\"CA\">\n                <option value=\"1\" selected=\"selected\">California<\/option>\n                <option value=\"2\" >Illinois<\/option>\n                <option value=\"3\" >New York<\/option>\n                <option value=\"4\" >Texas<\/option>\n        <\/select>\n\nid is the value in this case, name is the text the user sees.\nWhen the user clicks submit we can get the value (id) of the record the user selected.\n\nsolutions:\n\nGroepen is a Zend_Db_Table and has id and name column\n\n$groepen = new Groepen();\n$this->_helper->autoCompleteDojoExt($groepen->fetchAll()->toArray());\n\n<?php\n\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Controller\n * @subpackage Zend_Controller_Action_Helper\n * @copyright  Copyright (c) 2005-2008 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id: AutoCompleteDojo.php 9098 2008-03-30 19:29:10Z thomas $\n *\/\n\n\/**\n * @see Zend_Controller_Action_Helper_AutoComplete_Abstract\n *\/\nrequire_once 'Zend\/Controller\/Action\/Helper\/AutoComplete\/Abstract.php';\n\n\/**\n * Create and send Dojo-compatible autocompletion lists\n *\n * @uses       Zend_Controller_Action_Helper_AutoComplete_Abstract\n * @category   Zend\n * @package    Zend_Controller\n * @subpackage Zend_Controller_Action_Helper\n * @copyright  Copyright (c) 2005-2008 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/\nclass Zend_Controller_Action_Helper_AutoCompleteDojoExt extends Zend_Controller_Action_Helper_AutoComplete_Abstract\n{\n    \/**\n     * Validate data for autocompletion\n     * \n     * @param  mixed $data \n     * @return boolean\n     *\/\n    public function validateData($data)\n    {\n        if (is_array($data) && isset($data['items']) && is_array($data['items'])) {\n            return true;\n        }\n\n        return false;\n    }\n\n    \/**\n     * Prepare data for autocompletion\n     * \n     * @param  mixed   $data \n     * @param  boolean $keepLayouts \n     * @return string\n     *\/\n    public function prepareAutoCompletion($data, $keepLayouts = false)\n    {\n        $items = array();\n        foreach ($data as $value) {\n            $items[] = array('label' => array_pop($value), 'name' => array_pop($value));\n        }\n        $final = array(\n            'identifier' => 'name',\n            'items'      => $items,\n        );\n        return $this->encodeJson($final, $keepLayouts);\n    }\n}\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4494\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24842",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "How is this different than the current Dojo AutoComplete action helper? Can you summarize? I'd rather modify that to be more general than to add additional helpers that muddy the waters with more variants.\n\nFor the record, we plan to update the Dojo autocomplete action helper to utilize Zend_Dojo_Data, which will also give more flexibility. I'm also thinking that a flag and\/or setters for specifying either FilteringSelect or ComboBox would help make it more useful.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-10-07T07:47:00.000+0000",
                    "updated": "2008-10-07T07:47:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24843",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "body": "controller:\n\nSchoolgemeenschappen table [id, name]\n\n\tpublic function schoolgemeenschapAction() {\n\n\t\t$schoolgemeenschappen = new Schoolgemeenschappen();\n\n\t\t$this->_helper->autoCompleteDojoExt($schoolgemeenschappen->fetchAll()->toArray());\n\t\t\n\t}\n\nin form:\n\n        $this->addElement(\n        'FilteringSelect',\n        'scholengemeenschap_id',\n\t\tarray(\n\t\t\t'label'=> 'Scholengemeenschap',\n\t\t\t'storeId'=> 'stateStore1',\n\t\t\t'storeType'=>'dojo.data.ItemFileReadStore',\n\t\t\t'storeParams'=> array('url' => '\/studiegids\/school\/schoolgemeenschap'),\n\t\t\t'dijitParams' => array('searchAttr' => 'label',\n\t\t\t'required' => 'true', ),)\n\t\t);\n\nin add and change record\n\n$row->scholengemeenschap_id = $form->getValue('scholengemeenschap_id');\n\ndo you understand now?\n\nwith my new function you get:\n\n{\"identifier\":\"name\",\"items\":[{\"label\":\"CLB-Kempen\",\"name\":\"1\"},{\"label\":\"CLB-1 AMI\",\"name\":\"2\"}]}\n\nwith the current you get\n\n{\"identifier\":\"name\",\"items\":[{\"label\":\"CLB-Kempen\",\"name\":\"CLB-Kempen\"},{\"label\":\"CLB-1 AMI\",\"name\":\"CLB-1 AMI\"}]}\n\nbecause of this code:\n\n        foreach ($data as $key => $value) {\n            $items[] = array('label' => $value, 'name' => $value);\n        }\n        $final = array(\n            'identifier' => 'name',\n            'items'      => $items,\n        );\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "created": "2008-10-07T08:15:34.000+0000",
                    "updated": "2008-10-07T08:15:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24845",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "body": "this function keeps the old one working\nif one array is given id and name are the same (the old functionality)\nwhen you use a multidimensional array it will use my code.\n\n\n<?php\n\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Controller\n * @subpackage Zend_Controller_Action_Helper\n * @copyright  Copyright (c) 2005-2008 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id: AutoCompleteDojo.php 9098 2008-03-30 19:29:10Z thomas $\n *\/\n\n\/**\n * @see Zend_Controller_Action_Helper_AutoComplete_Abstract\n *\/\nrequire_once 'Zend\/Controller\/Action\/Helper\/AutoComplete\/Abstract.php';\n\n\/**\n * Create and send Dojo-compatible autocompletion lists\n *\n * @uses       Zend_Controller_Action_Helper_AutoComplete_Abstract\n * @category   Zend\n * @package    Zend_Controller\n * @subpackage Zend_Controller_Action_Helper\n * @copyright  Copyright (c) 2005-2008 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/\nclass Zend_Controller_Action_Helper_AutoCompleteDojo extends Zend_Controller_Action_Helper_AutoComplete_Abstract\n{\n    \/**\n     * Validate data for autocompletion\n     * \n     * @param  mixed $data \n     * @return boolean\n     *\/\n    public function validateData($data)\n    {\n        if (is_array($data) && isset($data['items']) && is_array($data['items'])) {\n            return true;\n        }\n\n        return false;\n    }\n\n    \/**\n     * Prepare data for autocompletion\n     * \n     * @param  mixed   $data \n     * @param  boolean $keepLayouts \n     * @return string\n     *\/\n    public function prepareAutoCompletion($data, $keepLayouts = false)\n    {\n    \t\n   \t\t$items = array();\n\t\tif(count($data)===count($data, COUNT_RECURSIVE)){\n        \n        \tforeach ($data as $key => $value) {\n            \t$items[] = array('label' => $value, 'name' => $value);\n        \t}\n        \n\t\t}else{\n\n\t\t\tforeach ($data as $value) {\n            \t$items[] = array('label' => array_pop($value), 'name' => array_pop($value));\n        \t}\t\n   \t\t\t\n\t\t}\n        \n\t\t$final = array(\n            'identifier' => 'name',\n            'items'      => $items,\n        );\n\t\t\n        return $this->encodeJson($final, $keepLayouts);\n    }\n    \n}\n?>",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "created": "2008-10-07T09:00:54.000+0000",
                    "updated": "2008-10-07T09:00:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24846",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "body": "old json output:\n\n{\"identifier\":\"name\",\"items\":[{\"label\":{\"id\":\"1\",\"vestigingnaam\":\"Geel\"},\"name\":{\"id\":\"1\",\"vestigingnaam\":\"Geel\"}},{\"label\":{\"id\":\"2\",\"vestigingnaam\":\"Mol\"},\"name\":{\"id\":\"2\",\"vestigingnaam\":\"Mol\"}},{\"label\":{\"id\":\"3\",\"vestigingnaam\":\"Westerlo\"},\"name\":{\"id\":\"3\",\"vestigingnaam\":\"Westerlo\"}},{\"label\":{\"id\":\"4\",\"vestigingnaam\":\"Vorselaar\"},\"name\":{\"id\":\"4\",\"vestigingnaam\":\"Vorselaar\"}},{\"label\":{\"id\":\"5\",\"vestigingnaam\":\"Turnhout\"},\"name\":{\"id\":\"5\",\"vestigingnaam\":\"Turnhout\"}},{\"label\":{\"id\":\"6\",\"vestigingnaam\":\"Zoersel\"},\"name\":{\"id\":\"6\",\"vestigingnaam\":\"Zoersel\"}},{\"label\":{\"id\":\"7\",\"vestigingnaam\":\"Hoogstraten\"},\"name\":{\"id\":\"7\",\"vestigingnaam\":\"Hoogstraten\"}},{\"label\":{\"id\":\"8\",\"vestigingnaam\":\"Herentals\"},\"name\":{\"id\":\"8\",\"vestigingnaam\":\"Herentals\"}}]}\n\nmine json output:\n\n{\"identifier\":\"name\",\"items\":[{\"label\":\"Geel\",\"name\":\"1\"},{\"label\":\"Mol\",\"name\":\"2\"},{\"label\":\"Westerlo\",\"name\":\"3\"},{\"label\":\"Vorselaar\",\"name\":\"4\"},{\"label\":\"Turnhout\",\"name\":\"5\"},{\"label\":\"Zoersel\",\"name\":\"6\"},{\"label\":\"Hoogstraten\",\"name\":\"7\"},{\"label\":\"Herentals\",\"name\":\"8\"}]}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "created": "2008-10-07T09:19:29.000+0000",
                    "updated": "2008-10-07T09:19:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25384",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "body": "There is an issue with my multi column detection\nwhen only one row is given the detection uses the old dojo generation code even if it should use mine.\n\nSo don't use the code which I proposed.\n\nMatthew if you need a tester for your code, let me know I'm happy to beta test it.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "created": "2008-10-24T00:33:11.000+0000",
                    "updated": "2008-10-24T00:33:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25418",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "body": "Personnally I just changed 2 few things to get this autocompleteDojo working:\n\n{quote}\n    public function prepareAutoCompletion($data, $keepLayouts = false)\n    {   \n        $items = array();\n        foreach ($data as $key => $value) {\n            $items[] = array('label' => $value, 'name' => $value{color:red}, 'key' => $key{color});\n        }\n        $final = array( \n            'identifier' => {color:red}'key',{color}\n            'items'      => $items,\n        );\n        return $this->encodeJson($final, $keepLayouts);\n    }\n{quote}\n--> added key in the line and changed the 'identifier from 'name' to 'key'\n\nThen with this HTML code I get my autocomplete working, showing names and using Id on my form destination:\n{quote}\n <form id=\"Find_Form\" action=\"\/ce\/fiche\/edit\" method=\"get\" dojoType=\"dijit.form.Form\">\n <div dojoType=\"custom.FindAutoCompleteReadStore\" jsId=\"NameStore\"  url=\"\/ce\/fiche\/find\/format\/json\" requestMethod=\"get\"><\/div>\n<label for=\"id\" class=\"optional\">Recherchez un nom:<\/label>\n<span class=\"formelement\">\n<select name=\"id\" id=\"FindByName\" hasDownArrow=\"\" store=\"NameStore\" size=\"25\" tabindex=\"99\" autocomplete=\"1\" dojoType=\"dijit.form.FilteringSelect\" pageSize=\"10\" >\n<\/select><\/span>\n<span class=\"actionbuttons\"><input id=\"Find_go\" name=\"Find_go\" value=\"Go:\" type=\"submit\" label=\"go:\"dojoType=\"dijit.form.Button\" \/><\/span>\n<\/form>\n{quote}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "created": "2008-10-25T14:49:59.000+0000",
                    "updated": "2008-10-25T14:49:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25419",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "body": "one more point, for your sub-array detection why don't you use is_array($value) ?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "created": "2008-10-25T14:51:38.000+0000",
                    "updated": "2008-10-25T14:51:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25421",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "body": "your probably right :)\n\nhow would you do following code?\n\n'onChange'=> \"stateStore2 = new dojo.data.ItemFileReadStore({url: '\/studiegids\/overzichtschool\/studierichting\/onderwijsvormid\/'+ dijit.byId('onderwijsvorm_id').getValue() }); dijit.byId('studierichting_id').store = stateStore2; dijit.byId('studierichting_id').setDisplayedValue('');\",\nb\nadding this will requery statestore2. Because it passes an id, the query will give other results. Because of this the dojo datastore gets other values.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lupus",
                        "name": "lupus",
                        "displayName": "Kristof Vansant",
                        "active": true
                    },
                    "created": "2008-10-25T19:12:25.000+0000",
                    "updated": "2008-10-25T19:12:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/25435",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "body": "I'm not sure of what you're asking for. But I think that if you want to re-query your store you should use soething based on QueryReadStore instead. I wrote an example here:\nhttp:\/\/www.makina-corpus.org\/2008\/10\/26\/autocomplete-ajax-search-with-dojo-and-zend-framework\/",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=regilero",
                        "name": "regilero",
                        "displayName": "Regis Leroy",
                        "active": true
                    },
                    "created": "2008-10-27T00:36:29.000+0000",
                    "updated": "2008-10-27T00:36:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29483",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=neraath",
                        "name": "neraath",
                        "displayName": "Christopher Weldon",
                        "active": true
                    },
                    "body": "What's the status of this? This gets to be particularly problematic for things such as trying to do State Code => State name mapping with either a ComboBox or FilteringSelect and the only thing being outputted to the screen is just the State name...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=neraath",
                        "name": "neraath",
                        "displayName": "Christopher Weldon",
                        "active": true
                    },
                    "created": "2009-03-14T16:39:11.000+0000",
                    "updated": "2009-03-14T16:39:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29486",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "The Dojo autocomplete action helper was converted to Zend_Dojo_Data in 1.7.0, released in November 2008. It can either create a Zend_Dojo_Data object, or consume one. If you need to specify different keys for the identifier and\/or label, pass your data to a new instance of Zend_Dojo_Data, and then pass that to the helper:\n\n{code}\n\/\/ Use \"id\" as the identifier, \"name\" as the label:\n$data = new Zend_Dojo_Data('id', $items, \"name\");\n$this->_helper->autoCompleteDojo($data);\n{code}\n\nIf I do not hear any feedback one way or the other on whether or not the above solution addresses this issue (at this point, I'm not even entirely certain what issue is actually being reported), I will close the bug.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-03-15T04:32:25.000+0000",
                    "updated": "2009-03-15T04:32:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52796",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:53:28.000+0000",
                    "updated": "2012-11-20T20:53:28.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4494\/transitions"
}