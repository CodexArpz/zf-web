{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10103",
    "key": "ZF-10103",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Validate_Float validates the int 7 as a float"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10103\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10480",
                    "id": 10480,
                    "description": "Mini Release",
                    "name": "1.10.7",
                    "userReleaseDate": "28\/Jul\/10",
                    "archived": false,
                    "releaseDate": "2010-07-28",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-07-04T11:54:21.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                "name": "fwrmedia",
                "displayName": "Robert Fisher",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-07-04T10:42:30.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-11-22T11:42:41.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Windows XP running as localhost\r\nApache\/2.0.59 (Win32) PHP\/5.2.8 DAV\/2\r\n\r\nClass: Zend_Validate_Float \r\n\r\n\r\n    if ( Zend_validate::is( 7, 'float' ) ) {\r\n      echo 'Validated';\r\n    } else echo 'NOT Validated';\r\n\r\nResult = Validated\r\n\r\nNote: is_float() correctly shows as invalid."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10103\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10451",
                    "id": 10451,
                    "description": "Mini Release",
                    "name": "1.10.4",
                    "userReleaseDate": "28\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41321",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "7 equals 7.00 and therefore it imho makes sense that it is validated.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-07-04T10:43:44.000+0000",
                    "updated": "2010-07-04T10:43:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41328",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The value 7 can be used as float.\r\n\r\nIt can be degraded to the decimal 7 with the precision 0 which makes it a perfect float.\r\n\r\nNote that Zend_Validate_Float and Zend_Validate_Int do not check if the type is float or int, but if the contained value is a float or integer value representation.\r\n\r\nTherefor closing as non-issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-07-04T11:54:21.000+0000",
                    "updated": "2010-07-04T11:54:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41333",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "body": "Thanks for replying Thomas, I am new to Zend Framework ( if not Zend and PHP5 ) and let me say as a disclaimer that I think it is great. \r\n\r\nI find your answer \"interesting\" however. ( and the fact that you graciously tag is as a \"non issue\" ).\r\n\r\n    $vals = array( 1, 11, 2566, '34', 0.07, 1.01, 77.777 );\r\n    foreach( $vals as $index => $val ) {\r\n      if ( Zend_Validate::is( $val, 'float' ) ) {\r\n        echo $val . ' is a valid float<br \/>';\r\n      }\r\n    }\r\n\r\nEvery single one is \"it states\" a valid float .. whether it is an int, a string or a float ( double ) with a floating point, where's the value? it does no more than is_numeric() ( with a hell of a lot more confusion and overhead ). It is therefore in my opinion misleading if not just substandard to the already existing is_float().\r\n\r\nIf not a bug then surely it's at least irrelevant as a validator. \r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "created": "2010-07-04T13:53:53.000+0000",
                    "updated": "2010-07-04T13:53:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41334",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "It does have value; after all \"foobar\" definitely will be marked as invalid ;)\r\n\r\nThe fact that this validator doesn't work the way you want it to, you probably need another validator (which you may or may not have to write yourself). It doesn't mean this validator \"doesn't work\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2010-07-04T13:56:35.000+0000",
                    "updated": "2010-07-04T13:56:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41336",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Again and replying the manual:\r\n\r\nZend_Validate_Float does not check the type of the given variable. It checks if the content is a floating value, or otherwise said: If the content of the variable can be used as float.\r\n\r\nExample:\r\nYour user enters \"34\" into your form. You want to save it into your database but the field is defined as float. By using Zend_Validate_Float this would work.\r\n\r\nBut your expectation is that any input is denied when it's not a float type. A value of \"1,234.56\" is also a valid float. It uses a localized representation.\r\n\r\nis_float only checks the type of a variable, not the content.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-07-04T14:17:55.000+0000",
                    "updated": "2010-07-04T14:17:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41337",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "body": "LOL @ foobar! :)\r\n\r\nYeah I'm perfectly capable of adding a simple validator. I posted here only because I saw it as a bug, and I like to help where I can where I have been given freebies, especially freebies of the quality of Zend Framework.\r\n\r\nI will no doubt see you Thomas at my next bug which will probably be PostCodes :)\r\n\r\nThanks again for taking the time to reply and discuss. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "created": "2010-07-04T14:20:29.000+0000",
                    "updated": "2010-07-04T14:20:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41338",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "body": "Hi Thomas and sorry that I misread the last post I was responding to Dolf not yourself.\r\n\r\nI do see the complexity of locale and why therefore is_float() is not up to the task. Which I confess I hadn't seen before your reply .. thanks.\r\n\r\nEqually though I can see Zend_Validate_Float being used incorrectly, perhaps a \"locale_aware\" flag?\r\n\r\nIn your forum example, in my opinion \"34\" should NOT work if I am expecting a float .. it is user input and should be type cast ... usually one would (float)$forum_value .. should we accept it verbatim?  ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "created": "2010-07-04T14:34:56.000+0000",
                    "updated": "2010-07-04T14:34:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41339",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "But before doing a typecast you need to check if the input can be typecast to a float... otherwise it would throw an exception or an invalid output. Therefor you can use Zend_Validate_Float. \r\n\r\nAnd you can do \"(float) 34\"... it can be typecasted to a float... therefor Zend_Validate_Float return true for \"34\".",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-07-04T14:51:00.000+0000",
                    "updated": "2010-07-04T14:51:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41340",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "body": "Maybe Thomas, but to take your example in a locale aware environment.\r\n\r\nen_GB\r\n\r\n1,234.56 is validated and when being inserted into a MySQL table with TYPE FLOAT it will fail with a \"#1265 - Data truncated\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fwrmedia",
                        "name": "fwrmedia",
                        "displayName": "Robert Fisher",
                        "active": true
                    },
                    "created": "2010-07-04T15:37:11.000+0000",
                    "updated": "2010-07-04T15:37:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41448",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "When you want to work with localized input you have to be aware of localization.\r\n\r\nWhen your database uses another locale than your user you MUST OF COURSE use a filter to change the locale.\r\n\r\nI did not know that things which are obvious have to be discussed.\r\nYour problem was that 7 is accepted as float and not that your database uses another locale than your user.\r\n\r\nPlease keep on the issue.\r\n\r\nI will not add further discussions to this topic.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-07-12T12:52:19.000+0000",
                    "updated": "2010-07-12T12:52:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43252",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Correct fix version as it has been deleted unintentionally by another user",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-11-22T11:42:41.000+0000",
                    "updated": "2010-11-22T11:42:41.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10103\/transitions"
}