{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7020",
    "key": "ZF-7020",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Paginator_ScrollingStyle_Elastic is only \"elastic\" near first pages, but not near last pages"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7020\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-10-15T10:56:20.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                "name": "enigmatic_user",
                "displayName": "Jan-Christoph Ihrens",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-06-15T10:14:14.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-10-15T10:56:20.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Elastic",
                "ScrollingStyle",
                "Zend_Paginator"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using Zend_Paginator_ScrollingStyle_Elastic e. g. with a pageRange of 3 and a number of 10 pages, the following page links are generated:\n\npage 1:\n[1] 2 3\n\npage 2:\n1 [2] 3 4\n\npage 3:\n1 2 [3] 4 5\n\n[...]\n\npage 8:\n6 7 [8] 9 10\n\npage 9:\n6 7 8 [9] 10\n(should be 7 8 [9] 10)\n\npage 10:\n6 7 8 9 [10]\n(should be 8 9 [10])\n\n\nThis is easy to fix:\n\n{code}\n    public function getPages(Zend_Paginator $paginator, $pageRange = null)\n    {\n        $pageRange  = $paginator->getPageRange();\n        $pageNumber = $paginator->getCurrentPageNumber();\n\n        $originalPageRange = $pageRange;\n        $pageRange         = $pageRange * 2 - 1;\n\n        if ($originalPageRange + $pageNumber - 1 < $pageRange) {\n            $pageRange = $originalPageRange + $pageNumber - 1;\n        }\n\n        \/\/ start bugfix\n        elseif ($originalPageRange + $pageNumber - 1 > count($paginator)) {\n            $pageRange = $originalPageRange + count($paginator) - $pageNumber;\n        }\n        \/\/ end bugfix\n\n        return parent::getPages($paginator, $pageRange);\n    }\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/5",
                "name": "Trivial"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7020\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                "name": "norm2782",
                "displayName": "Jurrien Stutterheim",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10330",
                    "id": 10330,
                    "description": "Mini Release",
                    "name": "1.8.2",
                    "userReleaseDate": "27\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10315",
                    "id": 10315,
                    "name": "Zend_Paginator",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31858",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "body": "Set Issue Type from \"Improvement\" to \"Bug\"",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "created": "2009-06-15T10:15:34.000+0000",
                    "updated": "2009-06-15T10:15:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32044",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "body": "Closing this issue as not an issue. For an example of an elastic scrollingstyle, see Google's pagination.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "created": "2009-06-21T14:25:42.000+0000",
                    "updated": "2009-06-21T14:25:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32045",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "body": "Yes, I know Google's pagination. And it works just the way I'd like Zend_Paginator_ScrollingStyle_Elastic to work - but it doesn't.\n\nGoogle shows you 10 items before the actual page and 9 behind it when being in the middle of the result set. At the end of the result set it shows 10 items before the actual (last) page. Zend_Paginator_ScrollingStyle_Elastic shows 18 items before the actual page when being at the end of the result set at a PageRange of 10 (or 20 at a PageRange of 11 - unlike Google it always shows the same number of items before and after the actual page when being in the middle of the result set).\n\nMaybe you'd like to test it yourself...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "created": "2009-06-21T14:48:33.000+0000",
                    "updated": "2009-06-21T14:48:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32046",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "body": "Also, maybe you'd like to ask yourself why there is a correction algorithm for the first pages:\n\n{code}\n        if ($originalPageRange + $pageNumber - 1 < $pageRange) {\n            $pageRange = $originalPageRange + $pageNumber - 1;\n        }\n{code}\n\nbut not for the last pages...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "created": "2009-06-21T14:54:00.000+0000",
                    "updated": "2009-06-21T14:54:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32047",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "body": "I asked myself... the answer was that either Matthew or myself put it there _in our free time_ while we contributed to this framework _for free_.\n\nI double checked Google's behavior. It does some weird things with larger resultsets, so it doesn't completely act like your example does. On smaller resultsets it does do what you describe. Reopening issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "created": "2009-06-21T15:17:57.000+0000",
                    "updated": "2009-06-21T15:17:57.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32048",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "body": "{quote}\nI asked myself... the answer was that either Matthew or myself put it there _in our free time_ while we contributed to this framework _for free_.\n{quote}\n\nWell, I respect what you are doing, but what has this to do with the issue I described? I reported a bug - this is what the issue tracker is for. You implicitly told me that I was too dumb to recognize an elastic scrolling style when I see one, and I just asked you to take a closer look at it. No need to be huffy...\n\n{quote}\nIt does some weird things with larger resultsets\n{quote}\n\nThat's indeed true. :-)  But if you somehow manage to get to the end of the result set, the number of items before the actual page is correct (at least during my tests).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=enigmatic_user",
                        "name": "enigmatic_user",
                        "displayName": "Jan-Christoph Ihrens",
                        "active": true
                    },
                    "created": "2009-06-21T15:40:14.000+0000",
                    "updated": "2009-06-21T15:40:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33442",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mratzloff",
                        "name": "mratzloff",
                        "displayName": "Matthew Ratzloff",
                        "active": true
                    },
                    "body": "The scrolling behavior mimicked Google for my test set of queries when the component was released.  It may be that my test set was not complete, however.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mratzloff",
                        "name": "mratzloff",
                        "displayName": "Matthew Ratzloff",
                        "active": true
                    },
                    "created": "2009-08-13T13:07:30.000+0000",
                    "updated": "2009-08-13T13:07:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35238",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "body": "Resolved in r18552. Merged to release-1.9 in r18553",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=norm2782",
                        "name": "norm2782",
                        "displayName": "Jurrien Stutterheim",
                        "active": true
                    },
                    "created": "2009-10-15T10:56:20.000+0000",
                    "updated": "2009-10-15T10:56:20.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7020\/transitions"
}