{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10204",
    "key": "ZF-10204",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Captcha in Zend_Form is never valid with cookies disabled"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10204\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-11-22T08:37:27.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tridem",
                "name": "tridem",
                "displayName": "Webdevilopers",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-07-22T03:52:25.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-11-22T08:37:27.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I try to post a form with a Captcha_Image with cookies disabled.\r\n\r\nThough I enter the correct word the captcha stays invalid.\r\nBut shouldn't this work anyway since PHP handles the session with cookies disabled?\r\n\r\nCaptcha Config Ini:\r\n{code}\r\ncaptcha.captcha        = \"Image\"\r\ncaptcha.font           = \"XXX\/arial.ttf\"\r\ncaptcha.imgDir         = \"XXX\/images\/captcha\/\"\r\ncaptcha.imgUrl         = \"XXX\/images\/captcha\/\"\r\ncaptcha.dotNoiseLevel  = 0\r\ncaptcha.lineNoiseLevel = 0\r\n{code}\r\n\r\nSession Controller\r\n{code}\r\n<?php\r\nclass Issues_SessionController extends Zend_Controller_Action\r\n{\r\n    public function indexAction()\r\n    {\r\n        $form = new Zend_Form();\r\n        $form->setAction('')\r\n             ->setMethod(Zend_Form::METHOD_POST);\r\n\r\n        $captchaElement = new Zend_Form_Element_Captcha('captcha', $this->_getCaptchaConfigOptions());\r\n        #$captchaElement->setRequired(true);\r\n        $captchaElement->setLabel('Captcha');\r\n        $captchaElement->setDecorators(array(\r\n            'Captcha',\r\n            array('Description', array(\r\n                'tag' => 'div'\r\n            )),\r\n            'Errors'\r\n        ));\r\n        $form->addElement($captchaElement);\r\n\r\n        $sendElement = new Zend_Form_Element_Submit('send');\r\n        $sendElement->setLabel('Send form with PHPSESSID ' . Zend_Session::getId());\r\n        $form->addElement($sendElement);\r\n\r\n        if ($this->getRequest()->isPost()) {\r\n            echo \"Posted<br>\";\r\n\r\n            Zend_Debug::dump($this->getRequest()->getPost());\r\n\r\n            if (!$form->isValid($this->getRequest()->getPost())) {\r\n            \techo \"Not valid<br>\";\r\n            } else if (!$form->isValidPartial($this->getRequest()->getPost())) {\r\n            \techo \"Not even partially valid<br>\";\r\n            } else {\r\n                echo \"Valid<br>\";\r\n            }\r\n        }\r\n\r\n        $this->view->form = $form;\r\n    }\r\n\r\n    protected function _getCaptchaConfigOptions()\r\n    {\r\n        return new Zend_Config_Ini(APPLICATION_PATH . '\/configs\/captcha.ini');\r\n    }\r\n}\r\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10204\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                "name": "bittarman",
                "displayName": "Ryan Mauger",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10470",
                    "id": 10470,
                    "description": "Mini Release",
                    "name": "1.10.6",
                    "userReleaseDate": "22\/Jun\/10",
                    "archived": false,
                    "releaseDate": "2010-06-22",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10340",
                    "id": 10340,
                    "name": "Zend_Captcha",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41671",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tridem",
                        "name": "tridem",
                        "displayName": "Webdevilopers",
                        "active": true
                    },
                    "body": "Removed {code}$captchaElement->getValidator('Captcha_Image')->getSession()->getNameSpace(){code} since the captcha is always invalid when requesting the namespace. The edited code correctely shows the described behaviour \/ bug.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tridem",
                        "name": "tridem",
                        "displayName": "Webdevilopers",
                        "active": true
                    },
                    "created": "2010-07-22T04:03:33.000+0000",
                    "updated": "2010-07-22T04:03:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43247",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "body": "PHP requires that a Session ID be sent by some mechanism, which is defaulted to be the cookie, and the cookie alone.\r\n\r\nChanging this to use the GET or POST methods, is generally not recommended, but would still be possible, though you would have to implement the solution (passing the sessionid via get or post in every request) in your own application, and is outside the remit of ZF.\r\n\r\nyou can solve this without having to change how the captcha element works, but there is nothing ZF can do internally to resolve this for the above reasons, so I can closing this issue as wont fix.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "created": "2010-11-22T08:37:27.000+0000",
                    "updated": "2010-11-22T08:37:27.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10204\/transitions"
}