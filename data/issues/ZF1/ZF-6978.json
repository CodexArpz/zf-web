{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6978",
    "key": "ZF-6978",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "renderSubMenu malfunctions when no submenu exists"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 0,
                "timeestimate": 0
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6978\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-10-16T13:41:24.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                "name": "ghola",
                "displayName": "Alex Farcas",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-06-10T15:16:51.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-10-18T13:26:23.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "navigation",
                "submenu"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Assume you have a menu with the following tree like structure (as defined in some xml or array):\n* A\n* B\n** D\n* C\n\nSo there are 3 root entries and entry B has D as a child entry.\nIf the currently active menu entry is B, the following piece of code {{<?= $this->navigation()->menu()->renderSubMenu(); ?>}} will display menu entry D\nIf the currently active menu entry is A or C, the same code will display menu entries A, B and C ( the same as you would use {{<?= $this->navigation()->menu()->setMaxDepth( 0 ); ?>}} )\n\nIn the second situation, there should be nothing displayed, because menu entries A and C don't have any child entries. This makes the navigation control unusable for displaying multiple menu levels separately."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/2",
                "name": "Critical"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6978\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                "name": "robinsk",
                "displayName": "Robin Skoglund",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10330",
                    "id": 10330,
                    "description": "Mini Release",
                    "name": "1.8.2",
                    "userReleaseDate": "27\/May\/09",
                    "archived": false,
                    "releaseDate": "2009-05-27",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10406",
                    "id": 10406,
                    "name": "Zend_Navigation",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31727",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "I guess you should just use renderMenu(). ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-06-10T15:20:25.000+0000",
                    "updated": "2009-06-10T15:20:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31728",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "body": "Corrected some wiki markup",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "created": "2009-06-10T15:30:08.000+0000",
                    "updated": "2009-06-10T15:30:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31729",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "body": "renderMenu() does the same thing. To obtain the same effect i would need to use:\n{{<? $this->navigation()->menu()->renderMenu( null, array( 'minDepth' => 0, 'maxDepth' => null,'renderParents' => false, 'onlyActiveBranch' => true ) ); ?>}}\nand this behaves in the same way renderSubMenu does (which may be normal because renderSubMenu calls renderMenu with these settings....as stated in the documentation).\n\nSo the fault is not with renderSubMenu only.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "created": "2009-06-10T15:33:40.000+0000",
                    "updated": "2009-06-10T15:33:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31730",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "body": "To complete the previous comment:\n\nThe issue was described as a renderSubMenu issue, because it refers to the type of functionality renderSubMenu represents, namely being able to render subentries of the currently active branch for a certain depth level (or an interval ... using minDepth and maxDepth). This makes possible independent renderization for each level in the menu (assume you level 1 menu is horizontal at the top of the apge, and your level 2 is vertical at the left of the page)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ghola",
                        "name": "ghola",
                        "displayName": "Alex Farcas",
                        "active": true
                    },
                    "created": "2009-06-10T15:39:43.000+0000",
                    "updated": "2009-06-10T15:39:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35264",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "possibly related http:\/\/framework.zend.com\/issues\/browse\/ZF-6673",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-10-16T02:53:08.000+0000",
                    "updated": "2009-10-16T02:53:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35296",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "This is not a bug. It's the intended functionality.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-10-16T13:41:22.000+0000",
                    "updated": "2009-10-16T13:41:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35357",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "I don't understand why it is intended behaviour, \"'renderParents' => false\", yet it renders the parents.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-10-17T07:47:44.000+0000",
                    "updated": "2009-10-17T07:47:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35368",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "In the second case, A, B, and C are rendered because they are siblings of the active page.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-10-17T13:27:08.000+0000",
                    "updated": "2009-10-17T13:27:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35383",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "That's incorrect, they are parents of the menu (submenu) you are displaying which has no entries. \r\n\r\ni.e. You are rendering a menu with no items which has parents A, B & C and you declare that the parents, A, B & C not be rendered \"'renderParents' => false\".\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-10-18T10:29:40.000+0000",
                    "updated": "2009-10-18T10:29:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35384",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "A, B, and C are on the same level, level 0, thus they will all be rendered as siblings if one of them are active.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-10-18T11:29:24.000+0000",
                    "updated": "2009-10-18T11:29:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35385",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "I disagree, while this might be intended behaviour it's incorrect behaviour because they are not siblings they are parents of empty menu entries (the submenu). It's very clear when you display the menu, i.e. create the menu above as one main menu with just A,B & C shown, then create a submenu which only displays the child entries of A,B &C (in a sidebar menu, the submenu of A, B or C (the parent entries)).\r\n\r\nWhen you select B D will shown in the sidebar, but when select A or C A,B&C are shown when none should be because A,B & C are the parents, why should they be repeated if you declare render no parents?\r\n\r\nIf you display a main menu with a submenu and render no parents no menu item should be displayed twice.\r\n\r\n ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-10-18T12:04:12.000+0000",
                    "updated": "2009-10-18T12:04:12.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35386",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "body": "Do you know what 'sibling' means?\r\n\r\n{code}\r\n         [root]\r\n        \/  |  \\\r\n       A   B   C\r\n           |\r\n           D\r\n{code}\r\n\r\nA, B and C are on the same level, they are siblings. The renderParents flag has nothing to do with it.\r\n\r\nFYI, there have been talk about adding a renderSiblings flag. Unless someone else steps up, it probably won't be in there before zf 2.0",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=robinsk",
                        "name": "robinsk",
                        "displayName": "Robin Skoglund",
                        "active": true
                    },
                    "created": "2009-10-18T12:21:47.000+0000",
                    "updated": "2009-10-18T12:21:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35388",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "body": "Yes A, B & C are siblings. B is a parent of D and D is a child of B. A & C have no children.\r\n\r\nBut assume A is active.\r\n\r\nWhat should renderSubmenu() (the children) of A display?\r\n\r\n$this->navigation()>menu()>renderMenu( null, array( 'minDepth' => 0, 'maxDepth' => null,'renderParents' => false, 'onlyActiveBranch' => true ) );\r\n\r\nNone. A has no children. A, B & C are not siblings of _none but A is the *parent* of the _none in this case.\r\n\r\n\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=gerardroche",
                        "name": "gerardroche",
                        "displayName": "bullfrogblues",
                        "active": true
                    },
                    "created": "2009-10-18T13:26:23.000+0000",
                    "updated": "2009-10-18T13:26:23.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6978\/transitions"
}