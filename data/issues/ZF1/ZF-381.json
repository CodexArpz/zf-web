{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-381",
    "key": "ZF-381",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": " MySQLi: Zend_Db adapter implementation"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-381\/votes",
                "votes": 3,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10022",
                    "id": 10022,
                    "description": "Beta Release; all components feature complete for 1.0",
                    "name": "0.9.0",
                    "userReleaseDate": "17\/Mar\/07",
                    "archived": true,
                    "releaseDate": "2007-03-17",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-02-25T17:04:50.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                "name": "eugenep",
                "displayName": "Eugene Panaitov",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2006-09-16T06:40:20.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-05T14:43:20.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hi everyone.\nI'm new here, maybe someone has reported allready such an improvement.\nThere is a possibility to make ZF work on PHP 5.0.4 (and I suppose on all 5.0.x versions) without PDO extension. \n\nAll we need for it is:\n\n1. Countalbe class definition (somewhere in Zend.php)\n2. A DB MySQLi Adpater.\n\nI am succeed with 1) and most part of 2). I can show a working version of my project on PHP 5.0.4.\n\nI estimate my version of MySQLi Adapter is 70% ready. Some methods are to be finished there.\n\n{code}\n<?\n\nZend::loadClass(\"Zend_Db_Adapter_Abstract\");\n\nclass MySQL_Adapter extends Zend_Db_Adapter_Abstract {\n\t\n\t\/**\n     * Quotes an identifier.\n     *\n     * @param string $ident The identifier.\n     * @return string The quoted identifier.\n     *\/\n    public function quoteIdentifier($string) {\n    \t\n    \t$ident = str_replace('`', '``', $ident);\n        return \"`$ident`\"; \n    \t\n    }\n\n\n    \/**\n     * Returns a list of the tables in the database.\n     *\n     * @return array\n     *\/\n    public function listTables() {\n    \t\n    \treturn $this->fetchCol('SHOW TABLES'); \n    \t\n    }\n\n\n    \/**\n     * Returns the column descriptions for a table.\n     *\n     * @return array\n     *\/\n    public function describeTable($table) {\n    \t\n    \t$sql = \"DESCRIBE $table\";\n    \t\n    \t$this->_connect();\n    \t\n    \t$_result = $this->_connection->query($sql);\n    \t\n    \t$result = array();\n    \t\n    \twhile ($_row = $_result->fetch_assoc()) {\n    \t\t\n    \t\t$row = array();\n    \t\t\n    \t\tforeach ($_row as $key => $value) {\n    \t\t\t\n    \t\t\t$row[strtolower($key)] = $value;\n    \t\t\t\n    \t\t}\n    \t\t\n    \t\t$result[] = $row;\n    \t\t\n    \t}\n    \t\n    \t$descr = array();\n        foreach ($result as $key => $val) {\n            $descr[$val['field']] = array(\n                'name'    => $val['field'],\n                'type'    => $val['type'],\n                'notnull' => (bool) ($val['null'] != 'YES'), \/\/ not null is NO or empty, null is YES\n                'default' => $val['default'],\n                'primary' => (strtolower($val['key']) == 'pri'),\n            );\n        }\n        \n        return $descr; \n    \t\n    }\n    \n    public function query($sql, $bind = array()) {\n    \t\n    \t$this->_connect();\n    \t\n    \t\/\/ is the $sql a Zend_Db_Select object?\n        if ($sql instanceof Zend_Db_Select) {\n            $sql = $sql->__toString();\n        }\n    \t\n    \t$_result = $this->_connection->query($sql);\n    \t\n    \tprint $this->_connection->error;\n    \t\n    \treturn $_result;\n    \t\n    }\n    \n    public function fetchRow($sql, $bind = null)\n    {\n        $result = $this->query($sql, $bind);\n        \n        return $result->fetch_object();\n    }\n\n\n    \/**\n     * Quote a raw string.\n     *\n     * @param string $value     Raw string\n     * @return string           Quoted string\n     *\/\n    protected function _quote($value) {\n    \t\n    \treturn \"'\".str_replace(\"'\", \"''\", $value).\"'\"; \n    \t\n    }\n\n\n    \/**\n     * Creates a connection to the database.\n     *\n     * @return void\n     *\/\n    protected function _connect() {\n    \t\n    \tif ($this->_connection) {\n    \t\treturn ;\n    \t}\n    \t\n    \t$this->_connection =& new mysqli($this->_config['host'], $this->_config['username'], $this->_config['password'], $this->_config['dbname']);\n    \t\n    }\n\n\n    \/**\n     * Prepare a statement and return a PDOStatement-like object.\n     *\n     * @param  string  $sql  SQL query\n     * @return Zend_Db_Statment|PDOStatement\n     *\/\n    public function prepare($sql) {\n    \t\n    \t$this->_connect();\n        return $this->_connection->prepare($sql);\n    \t\n    }\n\n\n    \/**\n     * Gets the last inserted ID.\n     *\n     * @param  string $tableName   name of table (or sequence) associated with sequence\n     * @param  string $primaryKey  primary key in $tableName\n     * @return integer\n     *\/\n    public function lastInsertId($tableName = null, $primaryKey = null) {\n    \t\n    \t$this->_connect();\n        return $this->_connection->lastInsertId(); \n    \t\n    }\n\n\n    \/**\n     * Begin a transaction.\n     *\/\n    protected function _beginTransaction() {\n    \t\n    \t$this->_connection->beginTransaction(); \n    \t\n    }\n\n\n    \/**\n     * Commit a transaction.\n     *\/\n    protected function _commit() {\n    \t\n    \t$this->_connection->commit(); \n    \t\n    }\n\n\n    \/**\n     * Roll-back a transaction.\n     *\/\n    protected function _rollBack() {\n    \t\n    \t$this->_connection->rollBack(); \n    \t\n    }\n\n\n    \/**\n     * Set the fetch mode.\n     *\n     * @param integer $mode\n     *\/\n    public function setFetchMode($mode) {\n    \t\n    \tswitch ($mode) {\n            case PDO::FETCH_LAZY:\n            case PDO::FETCH_ASSOC:\n            case PDO::FETCH_NUM:\n            case PDO::FETCH_BOTH:\n            case PDO::FETCH_NAMED:\n            case PDO::FETCH_OBJ:\n                $this->_fetchMode = $mode;\n                break;\n            default:\n                throw new Zend_Db_Adapter_Exception('Invalid fetch mode specified');\n                break;\n        } \n    \t\n    }\n\n\n\n    \/**\n     * Adds an adapter-specific LIMIT clause to the SELECT statement.\n     *\n     * @return string\n     *\/\n    public function limit($sql, $count, $offset) {\n    \t\n    \tif ($count > 0) {\n            $offset = ($offset > 0) ? $offset : 0;\n            $sql .= \"LIMIT $offset, $count\";\n        }\n        return $sql; \n    \t\n    }\n    \n}\n\n?>\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-381\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                "name": "bkarwin",
                "displayName": "Bill Karwin",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-431",
                    "issue": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-431",
                    "type": {
                        "name": "Dependency",
                        "direction": "INBOUND",
                        "description": "is dependecy of"
                    }
                },
                {
                    "issueKey": "ZF-48",
                    "issue": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-48",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/attachment\/10184",
                    "filename": "ZF_Db_Mysqli.tbz",
                    "created": "2006-12-04T17:57:01.000+0000",
                    "size": 4205,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/framework.zend.com\/issues\/secure\/attachment\/10184\/ZF_Db_Mysqli.tbz"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10001",
                    "id": 10001,
                    "description": "Preview Release",
                    "name": "0.1.5",
                    "userReleaseDate": "11\/Jul\/06",
                    "archived": true,
                    "releaseDate": "2006-07-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10131",
                    "id": 10131,
                    "name": "Zend_Db_Adapter_Mysqli",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10846",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "Hi Eugene,\n\nWe have a very broken, out-of-date Zend_Db adapter for MySQLi (not using PDO) here:\nhttp:\/\/framework.zend.com\/fisheye\/browse\/Zend_Framework\/trunk\/incubator\/library\/Zend\/Db\/Adapter\n\nIs your version all new, or based on the original attempt at writing a MySQLi adapter?\n\nI'm glad to have your help on this component.  Lets get a [CLA|http:\/\/framework.zend.com\/wiki\/x\/xgE] signed and submitted, so that we can accept a patch from you.\n\nCheers,\nGavin",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2006-09-18T12:36:31.000+0000",
                    "updated": "2006-09-18T12:36:31.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10847",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "Hi Gavin,\n\nI was faced with necessity to make ZF work on PHP 5.0.4, so I saw Zend_DB_Adapter_MySQLi and tried to use it but it did not work.\n\nThis version is an extension of abstract Zend_Db_Adapter_Abstract class with some methods modified to work with mysqli.so library, it has nothing in common with old version of Zend_DB_Adapter_MySQLi.\n\nSince I am still modifying my class, it is to too early to speak about a fully functioning patch, but I believe after I finish the development, we can decrease ZF requirements to PHP 5.0 (and no need of PDO).\n\nDefinition of Countable class presents no difficulties I believe, right? =) I tested Zend_Cache, Zend_Config,  Zend_Controller and Zend_View packages on PHP 5.0.4, all of them works successfully after Countable definition.\n\nLet's stay in touch. I estimate the class will be ready in 2-3 weeks.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-09-18T16:22:23.000+0000",
                    "updated": "2006-09-18T16:22:23.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10943",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "Eugene is working on complete rewrite, and is now the author \/ maintainer.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2006-10-02T14:28:47.000+0000",
                    "updated": "2006-10-02T14:28:47.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/10958",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "Anybody can help me testing. The class is almost ready now. See incubator\\library\\Zend\\Db\\Adapter\\Mysqli.php",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-10-04T15:16:52.000+0000",
                    "updated": "2006-10-04T15:16:52.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11232",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=fadoe",
                        "name": "fadoe",
                        "displayName": "Falk Doering",
                        "active": true
                    },
                    "body": "I found a bug(?). I was using the svn version.\n\n<code>\nrequire_once 'Zend.php';\nrequire_once 'Zend\/Db.php';\n\n$dbconfig = array('host'     => 'localhost',\n                  'username' => 'dbtest',\n                  'password' => 'dbtest',\n                  'dbname'   => 'dbtest');\n\n$db = Zend_Db::factory('mysqli', $dbconfig);\n\n$result = $db->listTables();\n\nZend::dump($result);\n<\/code>\n\nError:\n\nFatal error: Call to undefined method mysqli_result::fetchAll() in \/srv\/www\/Zend\/Db\/Adapter\/Abstract.php on line 348\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=fadoe",
                        "name": "fadoe",
                        "displayName": "Falk Doering",
                        "active": true
                    },
                    "created": "2006-11-09T05:09:22.000+0000",
                    "updated": "2006-11-09T05:09:22.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11443",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Changing fix version to 0.8.0.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2006-11-13T15:22:37.000+0000",
                    "updated": "2006-11-13T15:22:37.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11782",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "body": "Hello\n\n  I needed MySQLi support for one of my projects so I played a little bit with it. In attached file is modified version of MySQLi Statement and Adapter. It works much more better than one from SVN ;-)\n\n-Milan Mlynarcik\nmmlynarcik at relytech dot com",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "created": "2006-12-04T17:57:01.000+0000",
                    "updated": "2006-12-04T17:57:01.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11783",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "Thanks, Milan.\nYour code looks good. I'll test it and add it to repository in a few days.\nIf you want to continue changing code and get an access to SVN commitment, you should sign the CLA.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-12-04T18:06:46.000+0000",
                    "updated": "2006-12-04T18:06:46.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11784",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "body": "I do so as soon as possible :-)",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "created": "2006-12-04T19:06:17.000+0000",
                    "updated": "2006-12-04T19:06:17.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11844",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "Hi Milan.\nI reviewed your code. You added mysqli_statemant support in the adapter, that's good. Finally somebody should do that.\n\nI tried to run it locally, but there were some critical errors related to MySQL localization and settings.\n\nE.g. we have a table with fieldnames with underscores. Statement's prepare did not parse it correctly: it split field name before replacing them with `?` by the underscore and instead of one name `field_name` method resulted two fields `field` and `name`.\n\nAlso in describeTable function MySQL can output a column description array with uppercased fieldnames as well as lowercased, camelized and so on. It depends on MySQL settings.\n\nI truly believe your code will work at last. I will go through the rest of the code and fix everything soon.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-12-10T13:01:55.000+0000",
                    "updated": "2006-12-10T13:01:55.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11845",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "By the way, Gavin, I remember we talked about some plugins that can help in solving these localization based errors. Can you tell me what is the situation with these plugins?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-12-10T13:03:34.000+0000",
                    "updated": "2006-12-10T13:03:34.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11846",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "body": "Hello Eugene.\n\n  I'm not sure but I think problem with \"field names with underscores\" is matter of Zend_Db_Statment. Zend_Db_Statement_Mysqli just uses Zend_Db_Statement's _sqlParams property and _joinSql() method for solving this problem. execute() method does not do anything with field names. It just replaces all field names found in _sqlParams property with '?'.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "created": "2006-12-10T16:32:27.000+0000",
                    "updated": "2006-12-10T16:32:27.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11847",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "body": "Milan, right, the key code is this:\n\n{code}\nprotected function _prepSql($sql)\n    {\n        \/\/ split into text and params\n        $this->_sqlSplit = preg_split(\n            \"\/(\\?|\\:[a-z_]+)\/\",  \/\/ note here I added underscore into split pattern chars. It is temporary solution, best way is preparing field names before using statement.\n            $sql,\n            -1,\n            PREG_SPLIT_DELIM_CAPTURE|PREG_SPLIT_NO_EMPTY\n        );\n\n        \/\/ map params\n        $this->_sqlParam = array();\n        foreach ($this->_sqlSplit as $key => $val) {\n            if ($val[0] == ':' || $val[0] == '?') {\n                $this->_sqlParam[] = $val; \/\/ key *2 +1 is the parsed position\n            }\n        }\n\n        \/\/ set up for binding\n        $this->_bindParam = array();\n\n    } \n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=eugenep",
                        "name": "eugenep",
                        "displayName": "Eugene Panaitov",
                        "active": true
                    },
                    "created": "2006-12-10T16:41:54.000+0000",
                    "updated": "2006-12-10T16:41:54.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11848",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "body": "That's strange. I have that underscore in my Zend_Db_Statement ;) Maybe I solved this problem before but have forget that I did so ;-) I should use SVN to be able to see all changes I have done. I thought that I changed just adapter and statement and I didn't take note that I changed something else. How does it work, now?",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=sfet",
                        "name": "sfet",
                        "displayName": "sfet",
                        "active": false
                    },
                    "created": "2006-12-10T16:54:13.000+0000",
                    "updated": "2006-12-10T16:54:13.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/11961",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bighostkim",
                        "name": "bighostkim",
                        "displayName": "Allen Kim",
                        "active": true
                    },
                    "body": "I found some messages:\n\nStrict Standards: Assigning the return value of new by reference is deprecated in \/home\/allen\/ZendFramework-0.6.0\/incubator\/library\/Zend\/Db\/Adapter\/Mysqli.php on line 273\n\nStrict Standards: Declaration of Zend_Db_Adapter_MySQLi::fetchAll() should be compatible with that of Zend_Db_Adapter_Abstract::fetchAll() in \/home\/allen\/ZendFramework-0.6.0\/incubator\/library\/Zend\/Db\/Adapter\/Mysqli.php on line 55\n\nNot serious, but better to be looked into.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bighostkim",
                        "name": "bighostkim",
                        "displayName": "Allen Kim",
                        "active": true
                    },
                    "created": "2006-12-21T14:11:39.000+0000",
                    "updated": "2006-12-21T14:11:39.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12951",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Assign to Bill Karwin.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-02-25T16:36:15.000+0000",
                    "updated": "2007-02-25T16:36:15.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12953",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Implementation is complete in revision 3639.\nAll Zend_Db unit tests pass using the Mysqli adapter.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-02-25T17:04:50.000+0000",
                    "updated": "2007-02-25T17:04:50.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/13248",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Moved to core in revision 3853.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-03-09T20:00:23.000+0000",
                    "updated": "2007-03-09T20:00:23.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-381\/transitions"
}