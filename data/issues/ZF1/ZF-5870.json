{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5870",
    "key": "ZF-5870",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Form::isValid() should not expect an array on a prepopulated form"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5870\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=verysimple",
                "name": "verysimple",
                "displayName": "Michael Ekoka",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-02-23T16:12:57.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-12-10T08:51:10.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Developers should be allowed to do something like this:\n\n\/\/ fill the form and perform some random operations\n$form = new Some_Form();\n$form->populate($data);\n\n\/\/ validation\nif ($form->isValid()) {\n      \/\/ proceed\n}\n\nRight now there's an exception when isValid is used without its expected parameter: \"Zend_Form::isValid expects an array\"\nAlthough, isValid($data) also populates, in some cases a separate populate() and isValid() calls is better code."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5870\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/10000",
                "name": "Postponed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10029",
                    "id": 10029,
                    "name": "Zend_Form",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29038",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=verysimple",
                        "name": "verysimple",
                        "displayName": "Michael Ekoka",
                        "active": true
                    },
                    "body": "Unecessary details removed",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=verysimple",
                        "name": "verysimple",
                        "displayName": "Michael Ekoka",
                        "active": true
                    },
                    "created": "2009-02-23T19:35:25.000+0000",
                    "updated": "2009-02-23T19:35:25.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/29039",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Unfortunately, this change cannot be made as suggested,as it would break an important aspect of Zend_Form. Zend_Form implements Zend_Validate_Interface, and as such, has one required argument to isValid().\n\nWhat we *may* be able to do is to allow passing a special argument to isValid() indicating it should validate with the populated values.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-02-23T19:49:54.000+0000",
                    "updated": "2009-02-23T19:49:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34796",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "body": "I actually don't feel this is a good thing. populate() proxies setDefaults(), which does exactly what it says on the tin.\nKeeping the values array required in isValid() keeps this a clear distinction between the intentions of the methods. to make this optional would only serve to blur this line.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bittarman",
                        "name": "bittarman",
                        "displayName": "Ryan Mauger",
                        "active": true
                    },
                    "created": "2009-09-22T03:10:59.000+0000",
                    "updated": "2009-09-22T03:10:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36415",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=erwind",
                        "name": "erwind",
                        "displayName": "Erwin Derksen",
                        "active": true
                    },
                    "body": "I feel this would be a good thing. Requiring an array as input to isValid() seems to me like you are not validating the form but a set of values external to the form.\r\n\r\nThus: use the setDefaults\/setDefault to populate the form some way or another and then call isValid on the form.\r\n\r\nAs Matthew Weier O'Phinney indicates, changing this would break conformance with the validate interface. So the change should be in the validator interface. The current interface treats a validator as an object only containing the rules, not the value. However, in many cases the validator is the object also containing the value. An isValid() method without arguments thus seems logical. This holds for form elements and for forms.\r\n\r\nHmmm, thinking about this, I see a Validatable and Validator interface with methods isValid() resp. validate($value) (both having an optional $context parameter). This would break B.C., but in an easy to fix way.\r\n\r\nShortcut solution for the form would be to allow null (not an empty array) as the special argument. However, I think that implementing this at the form level, would imply implementing a similar solution at the form elements level!\r\n(and I'm not sure that null will do as fine here as at the form level)\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=erwind",
                        "name": "erwind",
                        "displayName": "Erwin Derksen",
                        "active": true
                    },
                    "created": "2009-11-23T02:07:07.000+0000",
                    "updated": "2009-11-23T02:07:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36424",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This may be a moot point once 2.0 is out the door anyways, as the validation would happen on the  validation chain attached to the form. That said, I'll take this into consideration for 2.0.\r\n\r\nI'm marking this as postponed for now.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2009-11-23T06:02:08.000+0000",
                    "updated": "2009-11-23T06:02:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/36854",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cduv",
                        "name": "cduv",
                        "displayName": "Claude Duvergier",
                        "active": true
                    },
                    "body": "@Ryan Mauger: Actually {{Zend_Form::isValid()}} also populates the form (because it calls {{setValue()}} on each {{Zend_Form_Element}})\r\n\r\nTo me, the current behavior of {{Zend_Form_Element::isValid($someValue)}} looks like a {{Zend_Form_Element::setValue($someValue)}} + {{Zend_Form_Element::isValid()}} _combo-shortcut_.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cduv",
                        "name": "cduv",
                        "displayName": "Claude Duvergier",
                        "active": true
                    },
                    "created": "2009-12-10T08:51:09.000+0000",
                    "updated": "2009-12-10T08:51:09.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5870\/transitions"
}