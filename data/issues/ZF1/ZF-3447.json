{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3447",
    "key": "ZF-3447",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "when using _forward() viewrenderer tries to render wrong script"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3447\/votes",
                "votes": 4,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-05-05T03:02:21.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ergo14",
                "name": "ergo14",
                "displayName": "Marcin Lulek",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-06-11T11:15:21.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-05-05T03:02:21.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When from \nmodule\/oldController\/oldAction\n\ni try forwarding to\n\nmodule\/newController\/newAction\n\ni get exception because $this->render('newAction'), results in trying to render script from\n\noldController\/newAction.phtml\n\nthis happened to me in every ZF version i think.\n\nforwarding between actions of the same controller and module would work fine.\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3447\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "zf-caretaker-adamlundrigan",
                "zf-crteam-padraic",
                "zf-crteam-priority"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-5240",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5240",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10171",
                    "id": 10171,
                    "description": "Minor Release Candidate",
                    "name": "1.5.0RC1",
                    "userReleaseDate": "26\/Feb\/08",
                    "archived": true,
                    "releaseDate": "2008-02-26",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10176",
                    "id": 10176,
                    "description": "Minor Release Candidate",
                    "name": "1.5.0RC2",
                    "userReleaseDate": "11\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-11",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10177",
                    "id": 10177,
                    "description": "Minor Release Candidate",
                    "name": "1.5.0RC3",
                    "userReleaseDate": "12\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-12",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10172",
                    "id": 10172,
                    "description": "Minor Release",
                    "name": "1.5.0",
                    "userReleaseDate": "17\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-17",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10173",
                    "id": 10173,
                    "description": "GData Package Correction (Patch Level 1)",
                    "name": "1.5.0PL1",
                    "userReleaseDate": "19\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-19",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10174",
                    "id": 10174,
                    "description": "Mini Release",
                    "name": "1.5.1",
                    "userReleaseDate": "25\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-25",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10181",
                    "id": 10181,
                    "description": "Mini Release",
                    "name": " 1.5.2",
                    "userReleaseDate": "15\/May\/08",
                    "archived": true,
                    "releaseDate": "2008-05-15",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22304",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "body": "I recreated this same issue. from controllerA->indexAction I _forward() to controllerB->testAction() and I get an exception because it is looking for controllerA->testAction.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "created": "2008-06-11T17:43:29.000+0000",
                    "updated": "2008-06-11T17:43:29.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22305",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "body": "Forgot to mention I am on version 1.5.1",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "created": "2008-06-11T17:44:50.000+0000",
                    "updated": "2008-06-11T17:44:50.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22574",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "I cannot reproduce this issue. I've tried both forwarding to actions in different controllers within the same module, as well as actions in different controllers in different modules; in each case, the appropriate view script was loaded.\n\nMy testbed:\n{code}\n\/\/ in application\/default\/controllers\/TestController.php\nclass TestController extends Zend_Controller_Action\n{\n    public function localForwardAction\n    {\n        return $this->_forward('from-forward', 'foo');\n    }\n\n    public function remoteForwardAction\n    {\n        return $this->_forward('from-forward', 'foo', 'bar');\n    }\n}\n\n\/\/ in application\/default\/controllers\/FooController.php\nclass FooController extends Zend_Controller_Action\n{\n    public function fromForwardAction\n    {\n    }\n}\n\n\/\/ in application\/bar\/controllers\/FooController.php\nclass Bar_FooController extends Zend_Controller_Action\n{\n    public function fromForwardAction\n    {\n    }\n}\n\n\/\/ in application\/default\/views\/scripts\/foo\/from-forward.phtml\nFooController::fromForwardAction()\n\n\/\/ in application\/bar\/views\/scripts\/foo\/from-forward.phtml\nBar_FooController::fromForwardAction()\n{code}\n\nI then visited \/test\/local-forward and \/test\/remote-forward, and received the appropriate view scripts in each instance.\n\nIf you can recreate the issue, please post a minimum necessary testbed so I can independently verify. Otherwise, I will mark this issue as 'Cannot Reproduce'.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-06-19T05:45:05.000+0000",
                    "updated": "2008-06-19T05:45:05.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22575",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Downgrading from Blocker to Major, as cannot reproduce.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-06-19T05:46:08.000+0000",
                    "updated": "2008-06-19T05:46:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22583",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "body": "Forgot to mention, this happens when you _forward() from either init() or __construct() in an action controller.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "created": "2008-06-19T10:10:07.000+0000",
                    "updated": "2008-06-19T10:10:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/22621",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ergo14",
                        "name": "ergo14",
                        "displayName": "Marcin Lulek",
                        "active": true
                    },
                    "body": "ok, ive nailed a problem a bit more,\n\nwhen i forward from one action to another it works, but if in the action im forwarding from i want to render explictly this creates a problem:\n\n$this->render('remove-page','default');\n\nwhen i have this in my action i end up with exception, if i dont render explictly the forwards seems to take place fine...\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ergo14",
                        "name": "ergo14",
                        "displayName": "Marcin Lulek",
                        "active": true
                    },
                    "created": "2008-06-24T01:47:46.000+0000",
                    "updated": "2008-06-24T01:47:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24550",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "body": "Has this issue been looked into more yet? If not, is it Ok for me to try to look at the code and post a patch?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ysaberi",
                        "name": "ysaberi",
                        "displayName": "Yashar Saberi",
                        "active": true
                    },
                    "created": "2008-09-16T01:57:21.000+0000",
                    "updated": "2008-09-16T01:57:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32390",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "Could anyone please attach some code by which this can be reproduced?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-07-04T15:40:35.000+0000",
                    "updated": "2009-07-04T15:40:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37375",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=clon",
                        "name": "clon",
                        "displayName": "Lauri Elevant",
                        "active": true
                    },
                    "body": "This happened to me when using the built-in ErrorController. For example, when EXCEPTION_NO_CONTROLLER is thrown in \"somemodule\", it gets routed to the ErrorController in the \"default\" module. When I then try to:\r\n\r\n  $errors = $this->_getParam('error_handler');\r\n  $this->_forward('index', 'index', $errors->request->getModuleName());\r\n\r\nThis actually seems to dispatch to the correct index action in index controller in the originating module. However, the view script is still pulled from the \"default\" module. When I look at the View object in the ViewRenderer, it has bot the paths configured:\r\n\r\nZend_View Object\r\n(\r\n    [_useViewStream:Zend_View:private] => 1\r\n    [_useStreamWrapper:Zend_View:private] => \r\n    [_path:Zend_View_Abstract:private] => Array\r\n        (\r\n            [script] => Array\r\n                (\r\n                    [0] => ..\\application\\modules\\default\\views\\scripts\\\r\n                    [1] => ..\\application\\modules\\group\\views\\scripts\\\r\n                )\r\n \r\n            [helper] => Array\r\n                (\r\n                )\r\n \r\n            [filter] => Array\r\n                (\r\n                )\r\n \r\n        )\r\n\r\nNaturally, the _script method in Zend_View_Abstract chooses the first path and the wrong script get rendered.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=clon",
                        "name": "clon",
                        "displayName": "Lauri Elevant",
                        "active": true
                    },
                    "created": "2010-01-04T15:45:18.000+0000",
                    "updated": "2010-01-04T15:45:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37376",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=clon",
                        "name": "clon",
                        "displayName": "Lauri Elevant",
                        "active": true
                    },
                    "body": "For my case the workaround was to:\r\n\r\n$this->_helper->viewRenderer->view->setScriptPath(NULL);\r\n\r\nin the ErrorController before forwarding to a different module. Seems to clear the script path stack. Without exploring the innards too much, it seems to me that when switching before modules, the ViewRenderer's View scriptPath stack is not correctly maintained.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=clon",
                        "name": "clon",
                        "displayName": "Lauri Elevant",
                        "active": true
                    },
                    "created": "2010-01-04T15:58:09.000+0000",
                    "updated": "2010-01-04T15:58:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/48512",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Is this still an issue?  If so, should it be rectified in ZF1 at this late stage in it's lifecycle?  In any event, controller-view integration is being reworked in ZF2, so the same fix will likely not be necessary there. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-09-23T15:31:08.000+0000",
                    "updated": "2011-09-23T15:31:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50473",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Fixing this now may introduce a backwards-compatibility break.  Closing as won't fix. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2012-05-05T03:02:21.000+0000",
                    "updated": "2012-05-05T03:02:21.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3447\/transitions"
}