{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1552",
    "key": "ZF-1552",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "A method that returns the complete translation data array"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1552\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10130",
                    "id": 10130,
                    "description": "Mini Release",
                    "name": "1.0.2",
                    "userReleaseDate": "25\/Sep\/07",
                    "archived": true,
                    "releaseDate": "2007-09-25",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-07-14T11:59:04.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                "name": "werner",
                "displayName": "Werner Mollentze",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-06-12T08:07:38.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-11-15T14:52:09.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "It would be really convenient to have some method of retrieving the complete translation data array. Alternatively, a method that retrieves all assigned message ID's for any adapter would be just as useful.\n\nA common scenario we face daily is having to translate messages in batch, and assigning the translated strings to a view variable (e.g. a third party template that expects multiple translated strings). We do not know the message ID's of the strings that are being translated - they are loaded from any given translation file, and new messages may be added after we complete the code.\n\nAs far as I could see, there seems to be no way of retrieving the available (already assined) message ID's from any Zend_Tanslate component - If that was possible, one could (of course) iterate over the array of Message ID's and translate them all automatically. Currently (as far as I can tell, I might be wrong) the assumption is made that the developer is aware of any specific message ID in order to translate it. \n\nThanks for your time and effort."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1552\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10099",
                    "id": 10099,
                    "name": "Zend_Translate",
                    "description": "Provides translation functionality, based on standards such as TMX and Gettext.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15138",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "body": "Assign to Thomas.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bkarwin",
                        "name": "bkarwin",
                        "displayName": "Bill Karwin",
                        "active": true
                    },
                    "created": "2007-06-12T17:56:17.000+0000",
                    "updated": "2007-06-12T17:56:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15181",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "You can already do this... but the other way round...\n\nThere is a method \"isTranslated()\" with which you can check if the given MessageID is already loaded or translateable.\n\nWhen iterating through your array, you would just have to write an foreach loop and if isTranslated returns false add this messageID to the source file.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-06-13T16:37:01.000+0000",
                    "updated": "2007-06-13T16:37:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15184",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "body": "Hi Thomas,\n\nYou described our problem perfectly - even if you want to use isTranslated(), it is assumed that the developer knows about the MessageID, or that the developer has access to an array of MessageID's. That is not always the case, so we would like to propagate a method that does indeed work the other way around.\n\nConsider the following MVC scenario, which we are dealing with on a regular basis (also suppose we are using the Csv Adapter).\n\n1) We only know the *location* of the CSV file that holds the MessageID's. We do not know the contents of the file, nor the name of any given MessageID. The Csv file location is based on the requested language, e.g.\" tpl\/en-US\/whatever.csv\".\n2) The translators maintain the CSV file, it is not our job to do this. Their work is separate from ours.\n3) The designers maintain the display templates (the views), it is not our job to do this. Their work is separate from ours.\n4) Our job is only to assign the messages to the view when dealing with the Model and the Controller.\n\nThis is very easy to do, if we add a new method to Zend_Translate_Adapter_Csv:\n\npublic function getData()\n{\n    return $this->_translate;\n}\n\n\nSuppose we also have this pseudo code (e.g. in a Controller) that checks the availability of translated content if the user requested content in another language:\n\npublic function loadLanguage($defaultLangFile, $requestLangFile='') {\n    if (file_exists($defaultLangFile)) {\n        $translate = new Zend_Translate('csv', $defaultLangFile, $this->config->language->default);\n        \/\/ See if target \/ request language is available\n        if ($this->lang != $this->config->language->default) {\n            if (file_exists($requestLangFile)) {\n                $translate->addTranslation($requestLangFile, $this->lang);\n            }\n        }\n        return $translate;\n    }\n    return null;\n}\n\nIn order to automatically translate all MessageID's that are available for the language the user requested, we can then use the getData() method that we added to Zend_Translate_Adapter_Csv to allow us to get access to the translated data and the MessageID's from a Controller:\n\n\/\/ Assign translation strings to the view template (if defined in config)\n\n$language = array(); \/\/ The view expects an array of MessageID keys and translated values\n\n$translation = $this->loadLanguage(\n    \"\/path\/to\/english.csv\",\n    \"\/path\/to\/french.csv\"\n);\n\nif ($translation) {\n    $translateData = $translation->getAdapter()->getData(); \/\/ <-- We need something like this\n    if (is_array($translateData)) {\n        if (isset($translateData[$this->config->language->default])) {\n            $defLangData = $translateData[$this->config->language->default];\n            foreach ($defLangData as $key => $value) {\n                $language[$key] = $this->_($translation, $key);\n            }\n        }\n    }\n}\n\n\/\/ And, finally\n$this->view->assign('language', $language);\n\n\nWhat this pseudo-code example illustrates is that nowhere we are aware of any given MessageID. The view\/template expects an array of (translated) language strings, and displays those strings, without being aware of the language it is displaying.\n\nBy (currently) having to know a MessageID throughout Zend_Translate in order to use is, involves the developer with the translations - it does not allow us to completely separate the data\/content\/presentation during our workflow.\n\nI hope this makes sense :-)\n\nKind Regards,\nWerner",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "created": "2007-06-13T21:17:32.000+0000",
                    "updated": "2007-06-13T21:17:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15187",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "If you dont have the messageIDs but only the translated strings you really have a problem...\nBecause when you code with numbers instead of strings your code is really unreadable.\n\nRelated to your scenario...\nNo one adds the messageIds from the code to the csv file. This should normally be done by the developer because he is the one who defines which output should be given, which wording and so on.\nAlso the designer should (in some cases) know the messageIDs.\n\nYour code is just a wrapper to have the translated strings broken down to a second public array.\nI don't see the benefit...\n\nYou have one guy developing... he is probably the one who creates the original csv file.\nYou have a second guy translating the content.\nAnd you have a third guy doing the view... he should also know the messageIDs because he has to know what should be presented.\n\nBut as you max have mentioned the issue is still opened... if it would make complete no sense I would already have closed it. You should only know that the actual API will not change anymore until 1.0 is released, so this feature (I'm not sure if we integrate it exactly this way) is a after-1.0 feature and will be delayed a little bit.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-06-14T01:22:17.000+0000",
                    "updated": "2007-06-14T01:22:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15189",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "body": "Hi!\n\n> Your code is just a wrapper to have the translated strings broken down to a second public array.\n> I don't see the benefit...\n\nYou are right, there is no benefit. We still need a way to access the available MessageID's for a given language, alternatively all translation data.\n\nWhy?\n\nI'll quickly give you a practical example of our current workflow for a specific project we're working on.\n\n1) The Designer\n\n1.1) The designer designs the template using PHPTAL. She defines all the language strings (and thus the ID's) beforehand (by consulting with the \ncustomers, where she gets her content from), for certain static content. She puts this in a csv file, eg:\n---\n# English Stuff\nhello;Good Day!\ntitle;Sorry, Page Not Found\n---\n\n1.2) She creates a PHPTAL template that refers to these strings, eg:\n---\n<h1 tal:content=\"translation\/hello|default\">Good Day!<\/h1>\n---\nBeing PHPTAL, this means that a translated string is displayed for the MessageID 'hello' as the content for the H! element (for whatever language is selected on the development side).\n\n2) The Translator\n\nThey only get the csv files from the designer , and translate them. Easy enough. They upload the translation files to a predefined directory (e.g. 'fr') on the server.\n\n3) The Developer\n\nAll that needs to be done here is get data from the translations files and assign it to the view:\n---\n$translatedArr = getTranslatedDataByMessageIDArrayKeys();\n$this->view->assign('translation', $translatedArr);\n---\n\nThe translations files (even for the default language) can (and will change), (the translators job) along with the view (the designer's job). In this scenario, the developer does not need to know a single MessageID, *but* he needs access to the available MessageID's (at least) coming from the translation files. If not, the controller code needs to be updated each time new content gets added to the view (or is translated) - From my perspective there is no benefit in *that*, only more work.\n\nKind Regards,\nWerner\n\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "created": "2007-06-14T03:03:07.000+0000",
                    "updated": "2007-06-14T03:03:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15190",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "body": "Hi Again,\n\nThanks for the feedback - It's OK if you only consider adding this type of access in a future version. Right now we will extend the existing classes to provide our needed functionality.\n\nRegarding the example I gave of \"quickly hacking\" Zend_Translate_Adapter_Csv - There is definately a better way to go about this, but it needs some thought. \n\nMaybe something like getTranslatedMessageIDs() , getAllMessageIDs() ? \n\nAny method(s) that provides this functionality and suits your preferences will be great.\n\nThank you for your time and effort.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=werner",
                        "name": "werner",
                        "displayName": "Werner Mollentze",
                        "active": true
                    },
                    "created": "2007-06-14T03:17:56.000+0000",
                    "updated": "2007-06-14T03:17:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15790",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Added new methods \"getMessageIds()\" and \"getMessages()\" with SVN 5693.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-07-14T11:59:04.000+0000",
                    "updated": "2007-07-14T11:59:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/15853",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "New features are only allowed to be integrated in minor releases (1.x.0)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2007-07-17T16:27:10.000+0000",
                    "updated": "2007-07-17T16:27:10.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1552\/transitions"
}