{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9020",
    "key": "ZF-9020",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Quick Start data mapper improvement suggestion"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/9",
                "name": "Docs:  Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9020\/votes",
                "votes": 7,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-11-17T03:17:17.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                "name": "lcf",
                "displayName": "Alexander Steshenko",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-01-29T18:43:26.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-11-17T03:17:17.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I liked the Model thing in previous versions of the quick start, but some of responsible persons decided to make it better and to teach people a bit of good OOP. \r\nSo you added that mappers things. And I support the intention ! but the current example (and it's there for quite a while) only confuses people and make them asking other people 'Why' is it and 'What are the benefits'.\r\n\r\nThe following code:\r\n{code}\r\nclass Application_Model_Guestbook\r\n{\r\n    protected $_comment;\r\n    protected $_created;\r\n    protected $_email;\r\n    protected $_id;\r\n \r\n    public function __set($name, $value);\r\n    public function __get($name);\r\n \r\n    public function setComment($text);\r\n    public function getComment();\r\n \r\n    public function setEmail($email);\r\n    public function getEmail();\r\n \r\n    public function setCreated($ts);\r\n    public function getCreated();\r\n \r\n    public function setId($id);\r\n    public function getId();\r\n \r\n    public function save();\r\n    public function find($id);\r\n    public function fetchAll();\r\n}\r\n{code}\r\nwith findAll() and setEmail() methods in the same class make some professionals feel a shock when they see it and confuses some beginners.\r\n\r\nI have some options here, choose what is applicable (if any) and can be done faster. I can help with fixing this too by providing a patch if the responsible agrees it needs to be improved.\r\n\r\n1) We do tell people about the data mapper, we are not trying to be maximally easy - so why not to tell them about Service Application Layer and give them some simple example. It would be just a couple of lines of code with that GuestBook thing. So that we would have\r\nGuestBook (that I'd better rename to the GuestBookComment which it really is)\r\nGuestBookMapper\r\nand\r\nGuestBookService\r\n\r\n2) If (1) doesn't fit you for some reasons (I don't really see them) then what should be done minimally is removing those find and findAll from the GuestBook entity and using the mapper's methods instead right from the controller.\r\nI.e. instead of this:\r\n{code}\r\n\r\n\/\/ application\/controllers\/GuestbookController.php\r\n \r\nclass GuestbookController extends Zend_Controller_Action\r\n{\r\n    public function indexAction()\r\n    {\r\n        $guestbook = new Application_Model_Guestbook();\r\n        $this->view->entries = $guestbook->fetchAll();\r\n    }\r\n}\r\n{code}\r\n\r\nI'd suggest doing this:\r\n{code}\r\n\r\n\/\/ application\/controllers\/GuestbookController.php\r\n \r\nclass GuestbookController extends Zend_Controller_Action\r\n{\r\n    public function indexAction()\r\n    {\r\n        $guestbookMapper = new Application_Model_Mapper_Guestbook();\r\n        $this->view->entries = $guestbookMapper->fetchAll();\r\n    }\r\n}\r\n{code}\r\n\r\n(3) the least you can do is make them (find and findAll) static to be able to do GuestBook::findAll\r\n\r\n---\r\n\r\nSo, I'd recommend to use (1) but you can choose\/argue.\r\nIf you agree with some of my points but don't have time for this part of the documentation - tell me, I'll prepare a patch for the docs which you can review and correct.\r\n\r\nOfficial QuickStart is very important for all those who tries the framework first time (and there is A LOT) and should be as great as possible."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9020\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "customfield_10000": {
            "name": "Language",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10000",
                "value": "English"
            }
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [

            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40328",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "body": "Judging by Subversion history, 3 days after I had created this issue, Matthew fixed this issue partially using my variant number 2.\r\nWhy no comments were left? Why still open, are you planning to add the Service Layer?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcf",
                        "name": "lcf",
                        "displayName": "Alexander Steshenko",
                        "active": true
                    },
                    "created": "2010-04-30T12:08:47.000+0000",
                    "updated": "2010-04-30T12:08:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43058",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yaroslavzenin",
                        "name": "yaroslavzenin",
                        "displayName": "Yaroslav Zenin",
                        "active": true
                    },
                    "body": "It would be great to see the example of Service Layer.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=yaroslavzenin",
                        "name": "yaroslavzenin",
                        "displayName": "Yaroslav Zenin",
                        "active": true
                    },
                    "created": "2010-11-17T13:43:32.000+0000",
                    "updated": "2010-11-17T13:43:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49125",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Marking issue as resolved.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-11-17T03:17:17.000+0000",
                    "updated": "2011-11-17T03:17:17.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9020\/transitions"
}