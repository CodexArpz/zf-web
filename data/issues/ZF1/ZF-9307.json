{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9307",
    "key": "ZF-9307",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Rest_Client fails to clean-up arg1 "
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 180,
                "timeestimate": 180
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9307\/votes",
                "votes": 2,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=aburian",
                "name": "aburian",
                "displayName": "Anthony Burian",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-03-02T14:45:32.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-07-21T09:14:35.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "When using named arguments Zend_Rest_Client adds an additional argument named arg1 to the call. \r\n{code}\r\n$client = new Zend_Rest_Client('http:\/\/api.flickr.com\/services\/rest\/');\r\n$client->method('flickr.auth.getFrob');\r\n$client->api_key('3dc5df007ff96b1ceb7870ffe45eafc0');\r\n$client->api_sig($api_sig);\r\n\r\n$result = $client->get();\r\n{code}\r\n\r\nHere's the relevant part of the var_dump($client)\r\n{code}\r\nobject(Zend_Rest_Client)#2 (2) { [\"_data:protected\"]=>  array(4) { [\"method\"]=>  string(19) \"flickr.auth.getFrob\" [\"arg1\"]=>  string(19) \"flickr.auth.getFrob\" [\"api_key\"]=>  string(32) \"3dc5df007ff96b1ceb7870ffe45eafc0\" [\"api_sig\"]=>  string(32) \"5292b6ecbb8a907e689f36d55697572c\" }\r\n{code}\r\n\r\nAs you can see; method is duplicated as arg1; which breaks the flicker call because it's sending\r\nhttp:\/\/api.flickr.com\/services\/rest\/?method=flickr.auth.getFrob&api_key=3dc5df007ff96b1ceb7870ffe45eafc0&api_sig=5292b6ecbb8a907e689f36d55697572c&arg1=flickr.auth.getFrob instead of http:\/\/api.flickr.com\/services\/rest\/?method=flickr.auth.getFrob&api_key=3dc5df007ff96b1ceb7870ffe45eafc0&api_sig=5292b6ecbb8a907e689f36d55697572c.\r\n\r\nUpdating this as it is still an issue in 1.10.4."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10037",
                "value": "   Must Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9307\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=davey",
                "name": "davey",
                "displayName": "Davey Shafik",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13259",
                    "filename": "ZF-9307.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jstewmon",
                        "name": "jstewmon",
                        "displayName": "Jonathan Stewmon",
                        "active": true
                    },
                    "created": "2010-08-20T09:18:36.000+0000",
                    "size": 17774,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13259\/ZF-9307.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10451",
                    "id": 10451,
                    "description": "Mini Release",
                    "name": "1.10.4",
                    "userReleaseDate": "28\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10094",
                    "id": 10094,
                    "name": "Zend_Rest_Client",
                    "description": "Client for executing Rest requests.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/38937",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "body": "Sorry, I am not maintainer now.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=satoruyoshida",
                        "name": "satoruyoshida",
                        "displayName": "Satoru Yoshida",
                        "active": true
                    },
                    "created": "2010-03-02T16:50:46.000+0000",
                    "updated": "2010-03-02T16:50:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/39422",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Reassigning to component lead",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-03-21T10:20:44.000+0000",
                    "updated": "2010-03-21T10:20:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40233",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=aburian",
                        "name": "aburian",
                        "displayName": "Anthony Burian",
                        "active": true
                    },
                    "body": "This there an update? This seems to still be an issue in 1.10.3 . Thanks!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=aburian",
                        "name": "aburian",
                        "displayName": "Anthony Burian",
                        "active": true
                    },
                    "created": "2010-04-26T06:50:03.000+0000",
                    "updated": "2010-04-26T06:50:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42025",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jstewmon",
                        "name": "jstewmon",
                        "displayName": "Jonathan Stewmon",
                        "active": true
                    },
                    "body": "Attached is a patch which will resolve this issue and produce the expected behavior.  It will also throw Zend_Rest_Client_Exceptions in cases where incorrect usage would result in unexpected behavior.\r\n\r\nThe __call method on the client that allows consumers to use fluent syntax can produce unexpected behavior because of the variety of conditions that it handles, which is the cause for most of the defects I see related to this class.\r\n\r\nFor the most reliable results, I recommend using the declared rest methods.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=jstewmon",
                        "name": "jstewmon",
                        "displayName": "Jonathan Stewmon",
                        "active": true
                    },
                    "created": "2010-08-20T09:18:39.000+0000",
                    "updated": "2010-08-20T09:18:39.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/43509",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cdchase",
                        "name": "cdchase",
                        "displayName": "Dan Chase",
                        "active": true
                    },
                    "body": "The boxed Warning at: http:\/\/framework.zend.com\/manual\/en\/zend.rest.client.html:\r\n\r\n\"Any REST service that is strict about the arguments it receives will likely fail using Zend_Rest_Client, \r\nbecause of the behavior described above. This is not a common practice and should not cause problems.\"\r\n\r\nIs misleading as it IS a problem with *some* servers. Like the case reported in this bug, I have a similar issue when trying to use \"waterservices.usgs.gov.\"\r\n\r\nWhile I can understand the desire to make Zend_Rest_Client work easily with Zend_Rest_Server, most servers are not of this type and may object.\r\n\r\nI would suggest adding a flag for STRICT operation. Whether the default should be enabled or disabled is up for argument. My vote would be 'enabled.'",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cdchase",
                        "name": "cdchase",
                        "displayName": "Dan Chase",
                        "active": true
                    },
                    "created": "2010-12-07T07:45:58.000+0000",
                    "updated": "2010-12-07T07:45:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/47570",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "body": "We found the same issue to be true. It can be easily solved by creating your own class that inherits from Zend_Rest_Client and override __call. That way you can also return different content-types than XML.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mcleod@spaceweb.nl",
                        "name": "mcleod@spaceweb.nl",
                        "displayName": "Bart McLeod",
                        "active": true
                    },
                    "created": "2011-07-21T09:14:35.000+0000",
                    "updated": "2011-07-21T09:14:35.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9307\/transitions"
}