{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9856",
    "key": "ZF-9856",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Zend_Date seems to ignore extend_Month Option"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9856\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                "name": "rockaut",
                "displayName": "Markus",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-05-19T05:33:35.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T21:37:59.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I use {quote}Zend_Date::setOptions(array('extend_month' => false));{quote} in my bootstrap to disable month calculations BUT it won't works.\r\n\r\n{quote}\r\nZend_Date::setOptions(array('extend_month' => false));\r\n$date = new Zend_Date();\r\n$date->setMonth(2);\r\n$date->setDay(31);\r\necho $date->toString();\r\n\r\n03.03.2010 17:30:44\r\n{quote}\r\n\r\n\r\n\r\n\r\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9856\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10451",
                    "id": 10451,
                    "description": "Mini Release",
                    "name": "1.10.4",
                    "userReleaseDate": "28\/Apr\/10",
                    "archived": false,
                    "releaseDate": "2010-04-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40537",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "Not reproduceable.\r\n\r\nReproduction:\r\nLine 1: debug = 19.Mai.2010 16:00:00 +01:00\r\nLine 2: debug = 19.Mai.2010 16:00:00 +01:00 (because when no month is given the actual month is used which means that May is overwritten with May)\r\nLine 3: debug = 31.Mai.2010 16:00:00 +01:00\r\nLine 4: debug = 31.05.2010 16:00:00",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-05-19T06:54:24.000+0000",
                    "updated": "2010-05-19T06:54:24.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40538",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Oh sorry i forgot some code,\r\n\r\n{quote}\r\n$date = new Zend_Date();\r\n$date->setMonth(2);\r\n$date->setDay(31);\r\n{quote}\r\n\r\nwhat i wanted to show is, that even with disabled month calculations the day is set to 03.03.2010 not to 28.03.2010.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2010-05-19T08:32:38.000+0000",
                    "updated": "2010-05-19T08:32:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40539",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "I modified the code to show what i mean.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2010-05-19T08:33:59.000+0000",
                    "updated": "2010-05-19T08:33:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40567",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "extend_month is for dates when month is given and prevents the break into the next month. This option does not work for days because you could also add \"90\" days intentionally.\r\n\r\nNote:\r\nWhen you set the 31th on february then there is no way why the 28.May should be returned.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-05-20T11:27:06.000+0000",
                    "updated": "2010-05-20T11:27:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40584",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "From the Documentation: {quote}When adding or substracting months from an existing date, the resulting value for the day of the month might be unexpected, if the original date fell on a day close to the end of the month. For example, when adding one month to January 31st, people familiar with SQL will expect February 28th as the result. On the other side, people familiar with Excel and OpenOffice will expect March 3rd as the result. The problem only occurs, if the resulting month does not have the day, which is set in the original date. For Zend Framework developers, the desired behavior is selectable using the extend_month  option to choose either the SQL behaviour, if set to FALSE, or the spreadsheet behaviour when set to TRUE.{quote}\r\n\r\nAs i understand if i do {quote}$date = new Zend_Date();\r\n$date->setMonth(2);\r\n$date->setDay(31);{quote} then the result should be 28.02.2010 if extend_month is set to false and not 03.03.2010. Or not?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2010-05-20T22:43:45.000+0000",
                    "updated": "2010-05-20T22:43:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40585",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "body": "Now i understand. If i SET the day extend_month is ignored but if i calculate (subtract or add) then i get the expected result.\r\n{quote}\r\n$date = new Zend_Date();\r\n$date->setMonth(1);\r\n$date->setDay(31);\r\n$date->addMonth(1);\r\necho $date->toString();\r\n{quote}\r\nI think that is not the expected result for everyone. If it is intentend then it should be clarified in documentation.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rockaut",
                        "name": "rockaut",
                        "displayName": "Markus",
                        "active": true
                    },
                    "created": "2010-05-20T22:55:04.000+0000",
                    "updated": "2010-05-20T22:55:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/40610",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The manual clearly reads:\r\n\r\n{quote}\r\nWhen adding or substracting months from an existing date\r\n{quote}\r\n\r\nas you noted yourself.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2010-05-21T14:59:06.000+0000",
                    "updated": "2010-05-21T14:59:06.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-9856\/transitions"
}