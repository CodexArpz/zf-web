{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5647",
    "key": "ZF-5647",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "DictionaryLoader.php - Uninitialized string offset: 17"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5647\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:51.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=patrik",
                "name": "patrik",
                "displayName": "Patrik Henningsson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-01-28T04:27:05.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-11-20T20:52:51.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "After 2 days of debugging I am now giving up. I really can't find out what's wrong .. I hope someone can fix this or point me in the right direction. Here's what I'm trying to do:\n\nh2. Indexing (works ok):\n{code:none}\nsetlocale(LC_ALL, 'en_US.UTF-8');\nZend_Search_Lucene_Analysis_Analyzer::setDefault(\n\tnew Zend_Search_Lucene_Analysis_Analyzer_Common_Utf8_CaseInsensitive()\n);\n$index = Zend_Search_Lucene::create('\/tmp\/my-index');\nfor (...) {\n\t$doc = new Zend_Search_Lucene_Document();\n\t$doc->addField(Zend_Search_Lucene_Field::Text('title', $title, 'utf-8'));\n\t$doc->addField(Zend_Search_Lucene_Field::UnStored('content', $content, 'utf-8'));\n\t$index->addDocument($doc);\n}\n{code}\n\nh2. Searching (failing):\n{code:none}\nZend_Search_Lucene_Analysis_Analyzer::setDefault(\n\tnew Zend_Search_Lucene_Analysis_Analyzer_Common_Utf8_CaseInsensitive()\n);\n$index = Zend_Search_Lucene::open('\/tmp\/my-index');\nZend_Search_Lucene::setResultSetLimit($limit);\nZend_Search_Lucene_Search_QueryParser::setDefaultEncoding('utf-8');\n$queryObject = Zend_Search_Lucene_Search_QueryParser::parse($query);\n$hits = $index->find($queryObject);\n{code}\n\nWill result in \"PHP Notice: Uninitialized string offset: 17\" in library\/Zend\/Search\/Lucene\/Index\/DictionaryLoader.php:136\n\nStacktrace:\n{noformat}\n#\tFile\t\t\t\t\t\t\t\tLine\tInstruction\n1\t...\/library\/Zend\/Search\/Lucene\/Index\/SegmentInfo.php\t\t735\tZend_Searc?\ufffd\ufffd\ufffdcene_Index_Dicti?\ufffd\ufffd\ufffdyLoader::loa?\ufffd\ufffd\ufffd\n2\t...\/library\/Zend\/Search\/Lucene\/Index\/SegmentInfo.php\t\t763\tZend_Search_Lucene_Index_SegmentInfo->_loadDictionaryIndex()\n3\t...\/library\/Zend\/Search\/Lucene.php\t\t\t\t1079\tZend_Search_Lucene_Index_SegmentInfo->getTermInfo(Object)\n4\t...\/library\/Zend\/Search\/Lucene\/Search\/Query\/MultiTerm.php\t204\tZend_Search_Lucene->hasTerm(Object)\n5\t...\/library\/Zend\/Search\/Lucene\/Search\/Query\/Boolean.php\t\t165\tZend_Search_Lucene_Search_Query_MultiTerm->optimize(Object)\n6\t...\/library\/Zend\/Search\/Lucene.php\t\t\t\t873\tZend_Search_Lucene_Search_Query_Boolean->optimize(Object)\n...\n{noformat}\n\nHexdump of $tiiFileData in Zend\/Search\/Lucene\/Index\/SegmentInfo.php on line 729:\n{noformat}\n0000  ff ff ff fd 00 00 00 00  00 00 00 0d 00 00 00 80   \u00ff\u00ff\u00ff\u00fd.... .......\ufffd\n0010  7f ff ff ff 00 00 00 00  00 00 ff ff ff ff 0f 00   \u00ff\u00ff\u00ff.... ..\u00ff\u00ff\u00ff\u00ff..\n0020  00 00 18 00 06 61 70 74  6f 6d 61 02 01 e8 01 94   .....apt oma..\u00e8.\ufffd\n0030  06 d3 08 00 0a 63 61 6e  64 69 64 61 74 65 73 02   .\u00d3...can didates.\n0040  02 89 02 f4 05 cb 09 00  0a 64 65 66 69 6e 69 74   .\ufffd.\u00f4.\u00cb.. .definit\n0050  65 6c 79 02 01 d9 01 91  04 f8 09 00 03 65 79 65   ely..\u00d9.\ufffd .\u00f8...eye\n0060  02 01 cd 01 b9 03 ff 09  00 03 68 69 73 02 03 80   ..\u00cd.\u00b9.\u00ff. ..his..\ufffd\n0070  02 fb 04 a1 09 00 05 6c  61 72 72 79 02 01 a4 02   .\u00fb.\u00a1...l arry..\u00a4.\n0080  db 07 a0 09 00 08 6d 75  6c 74 69 70 6c 65 02 01   \u00db. ...mu ltiple..\n0090  ff 01 d8 05 a1 09 00 06  70 6c 61 6e 65 74 02 01   \u00ff.\u00d8.\u00a1... planet..\n00a0  f1 02 b2 0a ac 09 00 08  72 65 70 6f 72 74 65 64   \u00f1.\u00b2.\u00ac... reported\n00b0  02 01 db 01 b2 04 c0 09  00 03 73 72 63 02 03 e2   ..\u00db.\u00b2.\u00c0. ..src..\u00e2\n00c0  01 f7 04 cf 09 00 07                               .\u00f7.\u00cf...\n{noformat}\n\nListing of \/tmp\/my-index:\n{noformat}\ndrwxrwxrwx   9 Patrik  wheel    306 Jan 28 12:52 .\ndrwxrwxrwt  23 root    wheel    782 Jan 28 12:51 ..\n-rwxrwxrwx  1 Patrik  wheel  28400 Jan 28 12:52 _5.cfs\n-rwxrwxrwx  1 Patrik  wheel      0 Jan 28 12:51 optimization.lock.file\n-rwxrwxrwx  1 Patrik  wheel      0 Jan 28 12:52 read-lock-processing.lock.file\n-rwxrwxrwx  1 Patrik  wheel      0 Jan 28 12:52 read.lock.file\n-rwxrwxrwx  1 Patrik  wheel     20 Jan 28 12:52 segments.gen\n-rwxrwxrwx  1 Patrik  wheel     41 Jan 28 12:52 segments_8\n-rwxrwxrwx  1 Patrik  wheel      0 Jan 28 12:52 write.lock.file\n{noformat}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5647\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User"
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10250",
                    "id": 10250,
                    "description": "Mini Release",
                    "name": "1.7.3",
                    "userReleaseDate": "19\/Jan\/09",
                    "archived": false,
                    "releaseDate": "2009-01-19",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10021",
                    "id": 10021,
                    "name": "Zend_Search_Lucene",
                    "description": "pure PHP robust, general purpose text search engine",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/52486",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "body": "Bulk change of all issues last updated before 1st January 2010 as \"Won't Fix\".\r\n\r\nFeel free to re-open and provide a patch if you want to fix this issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=rob",
                        "name": "rob",
                        "displayName": "Rob Allen",
                        "active": true
                    },
                    "created": "2012-11-20T20:52:51.000+0000",
                    "updated": "2012-11-20T20:52:51.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-5647\/transitions"
}