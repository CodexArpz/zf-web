{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10010",
    "key": "ZF-10010",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Undefined index error when one of the letters in the module name has a wrong case"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10010\/votes",
                "votes": 3,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ikr",
                "name": "ikr",
                "displayName": "Ivan Krechetov",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-06-18T01:14:07.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-02-01T03:12:36.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "We've got a module named \"manager\". It works with \/manager URI. However, when someone opens \/Manager, we get:\r\n\r\n{code}\r\nErrorException with message \"Undefined index: Manager\" in \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Controller\/Dispatcher\/Standard.php on line 384\r\n\r\n#0 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Controller\/Dispatcher\/Standard.php(384): __lambda_func(8, 'Undefined index...', '\/Users\/ikr\/Site...', 384, Array)\r\n#1 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Controller\/Dispatcher\/Standard.php(204): Zend_Controller_Dispatcher_Standard->getControllerClass(Object(Zend_Controller_Request_Http))\r\n#2 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Controller\/Dispatcher\/Standard.php(244): Zend_Controller_Dispatcher_Standard->isDispatchable(Object(Zend_Controller_Request_Http))\r\n#3 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Controller\/Front.php(954): Zend_Controller_Dispatcher_Standard->dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http))\r\n#4 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Application\/Bootstrap\/Bootstrap.php(97): Zend_Controller_Front->dispatch()\r\n#5 \/Users\/ikr\/Sites\/ch.xyz.local\/library\/Zend\/Application.php(366): Zend_Application_Bootstrap_Bootstrap->run()\r\n#6 \/Users\/ikr\/Sites\/ch.xyz.local\/public\/index.php(18): Zend_Application->run()\r\n#7 {main}\r\n{code}\r\n\r\nI guess, the ZF site has the same problem. Try http:\/\/framework.zend.com\/mAnual\/en\/ instead of http:\/\/framework.zend.com\/manual\/en\/\r\n\r\nI'd expect either a 404 instead, or a dispatch to the correct module, ignoring the case in its name."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10010\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/1",
                "name": "Open"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                "name": "freak",
                "displayName": "Dolf Schimmel (Freeaqingme)",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13330",
                    "filename": "ZendControllerRequestAbstract_10010.diff",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "created": "2010-10-07T11:35:40.000+0000",
                    "size": 599,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13330\/ZendControllerRequestAbstract_10010.diff"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10460",
                    "id": 10460,
                    "description": "Mini Release",
                    "name": "1.10.5",
                    "userReleaseDate": "26\/May\/10",
                    "archived": false,
                    "releaseDate": "2010-05-26",
                    "released": true
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10490",
                    "id": 10490,
                    "description": "Mini Release",
                    "name": "1.10.8",
                    "userReleaseDate": "25\/Aug\/10",
                    "archived": false,
                    "releaseDate": "2010-08-25",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42149",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "body": "The issue is still present.\r\n\r\nI am new to ZF, so I'm not sure about case rules... For myself, I fixed it by\r\nmodifying Zend_Controller_Request_Abstract->getModuleName() and ->setModuleName() to:\r\n\r\n    \/**\r\n     * Retrieve the module name\r\n     *\r\n     * @return string\r\n     *\/\r\n    public function getModuleName()\r\n    {\r\n        if (null === $this->_module) {\r\n            $this->_module = strtolower($this->getParam($this->getModuleKey()));\r\n        }\r\n\r\n        return $this->_module;\r\n    }\r\n\r\n    \/**\r\n     * Set the module name to use\r\n     *\r\n     * @param string $value\r\n     * @return Zend_Controller_Request_Abstract\r\n     *\/\r\n    public function setModuleName($value)\r\n    {\r\n        $this->_module = strtolower($value);\r\n        return $this;\r\n    }\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "created": "2010-08-31T00:51:55.000+0000",
                    "updated": "2010-08-31T00:51:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42446",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "body": "Unified diff against 1.10.8 release",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "created": "2010-10-07T11:35:44.000+0000",
                    "updated": "2010-10-07T11:35:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42447",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "body": "Added found in version 1.10.8",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "created": "2010-10-07T11:36:51.000+0000",
                    "updated": "2010-10-07T11:36:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42661",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ikr",
                        "name": "ikr",
                        "displayName": "Ivan Krechetov",
                        "active": true
                    },
                    "body": "http:\/\/framework.zend.com\/index$ also results in response status 500, instead of 404",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ikr",
                        "name": "ikr",
                        "displayName": "Ivan Krechetov",
                        "active": true
                    },
                    "created": "2010-10-21T23:43:46.000+0000",
                    "updated": "2010-10-21T23:43:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/42662",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "body": "Ivan, this is a different issue.\r\n\r\nMy patch worksforme(tm), for mixed case module names. That's what this particular issue is all about.\r\nThere may be other issues (like your last comment, and maybe also my workaround patch) which have to be fixed in the dispatcher's sanitizing and name mangling in general, and for all route related items (module, controller, action).",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=tlamy",
                        "name": "tlamy",
                        "displayName": "Thomas Lamy",
                        "active": true
                    },
                    "created": "2010-10-22T02:40:43.000+0000",
                    "updated": "2010-10-22T02:40:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49591",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brandon.dahler",
                        "name": "brandon.dahler",
                        "displayName": "Brandon Dahler",
                        "active": true
                    },
                    "body": "Below is a unified diff for 1.11.11 to fix.  Resolves all problems by changing the path via strtolower in the Zend_Controller_Router_Route_Module router.  Allows for any kind of capitalization desired.\r\n\r\nThe only thing that might be wanted (technically out of scope for this bug) is setting the specifically wanted casing for assemble when adding the module to the controller directories.  This would be wanted for SEO purposes.\r\n\r\n\r\n\r\n--- \/Zend\/Controller\/Router\/Route\/Module.php\tWed Jan 25 16:42:42 2012\r\n+++ \/Zend\/Controller\/Router\/Route\/Module.php\tTue Jan 31 20:26:25 2012\r\n@@ -156,8 +156,8 @@\r\n         if ($path != '') {\r\n             $path = explode(self::URI_DELIMITER, $path);\r\n \r\n-            if ($this->_dispatcher && $this->_dispatcher->isValidModule($path[0])) {\r\n-                $values[$this->_moduleKey] = array_shift($path);\r\n+            if ($this->_dispatcher && $this->_dispatcher->isValidModule(strtolower($path[0]))) {\r\n+                $values[$this->_moduleKey] = strtolower(array_shift($path));\r\n                 $this->_moduleValid = true;\r\n             }\r\n \r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brandon.dahler",
                        "name": "brandon.dahler",
                        "displayName": "Brandon Dahler",
                        "active": true
                    },
                    "created": "2012-02-01T03:07:56.000+0000",
                    "updated": "2012-02-01T03:07:56.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49592",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brandon.dahler",
                        "name": "brandon.dahler",
                        "displayName": "Brandon Dahler",
                        "active": true
                    },
                    "body": "Fix for above diff to display correctly.\r\n\r\n{code}\r\n--- \/Zend\/Controller\/Router\/Route\/Module.php\tWed Jan 25 16:42:42 2012\r\n+++ \/Zend\/Controller\/Router\/Route\/Module.php\tTue Jan 31 20:26:25 2012\r\n@@ -156,8 +156,8 @@\r\n         if ($path != '') {\r\n             $path = explode(self::URI_DELIMITER, $path);\r\n \r\n-            if ($this->_dispatcher && $this->_dispatcher->isValidModule($path[0])) {\r\n-                $values[$this->_moduleKey] = array_shift($path);\r\n+            if ($this->_dispatcher && $this->_dispatcher->isValidModule(strtolower($path[0]))) {\r\n+                $values[$this->_moduleKey] = strtolower(array_shift($path));\r\n                 $this->_moduleValid = true;\r\n             }\r\n \r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=brandon.dahler",
                        "name": "brandon.dahler",
                        "displayName": "Brandon Dahler",
                        "active": true
                    },
                    "created": "2012-02-01T03:12:36.000+0000",
                    "updated": "2012-02-01T03:12:36.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10010\/transitions"
}