{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6205",
    "key": "ZF-6205",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Serializer doesn't support cyclic reference"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6205\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10340",
                    "id": 10340,
                    "description": "Mini Release",
                    "name": "1.8.4",
                    "userReleaseDate": "23\/Jun\/09",
                    "archived": false,
                    "releaseDate": "2009-06-23",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-06-16T13:29:06.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                "name": "ml_kiiwy",
                "displayName": "Mika\u00ebl LABRUT",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-04-03T05:28:10.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-06-16T13:29:06.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "amf",
                "cyclic",
                "reference",
                "serializer"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "The class : Zend_Amf_Parse_Amf3_Serializer doesn't support cyclic references. (I didn't test the Zend_Amf_Parse_Amf0_Serializer).\n\nProblem sample :\nclass ServiceProvider\n{\n\t\/**\n\t * @return TestObject\n\t *\/\n\tpublic function testGetRecursiveObject()\n\t{\n\t\t$o = new TestObject();\n\t\t$o->recursive = new TestObject();\n\t\t$o->recursive->recursive = $o;\n\t\treturn $o;\n\t}\n}\n\nWhen you call testGetRecursiveObject() with an AMF request, the server doesn't respond. What is worse is that : on Win Vista the apache server stops running.\nThis problem is critical : no error is returned by the server.\n\nThe solution to solve this problem, is to use the \"reference system\" described in the AMF3 specifications.\n\nI've tried to solve the problem myself but unfortunately without success :  I think i didn't write the good code for writing the object reference on the output stream.\n\nHere is the patch :\n\nIndex: Serializer.php\n===================================================================\n--- Serializer.php\t(revision 14591)\n+++ Serializer.php\t(working copy)\n@@ -35,6 +35,8 @@\n  *\/\n class Zend_Amf_Parse_Amf3_Serializer extends Zend_Amf_Parse_Serializer\n {\n+\tprivate $_references = array();\n+\t\n     \/**\n      * Serialize PHP types to AMF3 and write to stream\n      *\n@@ -250,6 +252,24 @@\n         return $this;\n     }\n \n+\tpublic function writeReference($object)\n+\t{\n+\t\t$this->_stream->writeByte(0x07);\n+\t\t$ref = & $object;\n+\t\t$ref = $ref << 1;\n+\t\t$this->writeInteger($ref);\n+\t}\n+\n+\tprivate function referenceExist($object)\n+\t{\n+\t\tif(in_array($object, $this->_references, true)) {\n+\t\t\treturn true;\n+\t\t} else {\n+\t\t\t$this->_references[] = $object;\n+\t\t\treturn false;\n+\t\t}\n+\t}\n+\n     \/**\n      * Write object to ouput stream\n      *\n@@ -258,6 +278,11 @@\n      *\/\n     public function writeObject($object)\n     {\n+\t\tif($this->referenceExist($object)) {\n+\t\t\t$this->writeReference($object);\n+\t\t\treturn $this;\n+\t\t}\n+    \t\n         $encoding  = Zend_Amf_Constants::ET_PROPLIST;\n         $className = '';\n \n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/1",
                "name": "Blocker"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6205\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                "name": "wadearnold",
                "displayName": "Wade Arnold",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11990",
                    "filename": "009-Incubator-Zend_Amf_Parse_Amf0_Serializer.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "created": "2009-06-09T00:57:01.000+0000",
                    "size": 6324,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11990\/009-Incubator-Zend_Amf_Parse_Amf0_Serializer.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11883",
                    "filename": "main.mxml",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-20T01:28:38.000+0000",
                    "size": 1253,
                    "mimeType": "application\/octet-stream",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11883\/main.mxml"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11877",
                    "filename": "patch_serializer.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-17T09:42:38.000+0000",
                    "size": 1482,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11877\/patch_serializer.patch"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/11893",
                    "filename": "patch_serializer_v2.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-27T01:20:05.000+0000",
                    "size": 1389,
                    "mimeType": "text\/plain",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/11893\/patch_serializer_v2.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10291",
                    "id": 10291,
                    "description": "Mini Release",
                    "name": "1.7.7",
                    "userReleaseDate": "16\/Mar\/09",
                    "archived": false,
                    "releaseDate": "2009-03-16",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10350",
                    "id": 10350,
                    "name": "Zend_Amf",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30228",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "body": "This patch correct the problem",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-17T09:42:46.000+0000",
                    "updated": "2009-04-17T09:42:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30230",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "body": "I think that I solve the problem.\n\nYou can try my patch in attachment.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-17T09:50:51.000+0000",
                    "updated": "2009-04-17T09:50:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30236",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "Confirmed that the patch does not break any of the old unit tests. Creating unit tests that expose the additional functionality. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-04-17T18:03:32.000+0000",
                    "updated": "2009-04-17T18:03:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30239",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "First I have confirmed that cyclic references do not work inside of ZendAmf and crash the serialize. However after testing your patch with the below service I no longer received any PHP errors but I never received a response from or a valid AMF byte-stream in flex. When trying to debug with Charles Proxy it actually takes down the application. This usually happens with malformed AMF responses. Where you able to make it work? \n\nThanks! \n\n{code:title=Recursive.php}\n<?php \nclass Recursive {\n    \n    public function testGetRecursiveObject() { \n        $o = new TestObject(); \n        $o->recursive = new TestObject(); \n        $o->recursive->recursive = $o; \n        return $o; \n    }\n}\n\nclass TestObject {\n    public $recursive;\n}\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-04-18T12:55:04.000+0000",
                    "updated": "2009-04-18T12:55:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30267",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "body": "I test my patch with Flex 3 and ServiceCapture and occured no problem. (In attachment my minimal MXML file)\n\nI don't understand where is your problem ?\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-20T01:28:42.000+0000",
                    "updated": "2009-04-20T01:28:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/30456",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "body": "This patch fix an other problem relative to arrays.\n\nExplanation (from amfphp library)\n\t\t\/\/Circular referencing is disabled in arrays\n\t\t\/\/Because if the array contains only primitive values,\n\t\t\/\/Then === will say that the two arrays are strictly equal\n\t\t\/\/if they contain the same values, even if they are really distinct\n\t\t\/\/if(($key = patched_array_search($d, $this->storedObjects, TRUE)) === FALSE )\n\nSo we just need to save the index information into _references table when an array is serialized.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ml_kiiwy",
                        "name": "ml_kiiwy",
                        "displayName": "Mika\u00ebl LABRUT",
                        "active": true
                    },
                    "created": "2009-04-27T01:20:10.000+0000",
                    "updated": "2009-04-27T01:20:10.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31468",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "Hi,\n\nI'm having the same problem here too and the patch didn't fix the problem.\n\nTo be clear -\n\nWe're sending data from Flash with circular references, and they get decoded into PHP fine.  The problem exists in the opposite direction - sending the data back from PHP to Flash.\n\nIt seems odd to me that the bug is asymmetric. \n\nMore than happy to help with testing patches.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-05-29T07:08:35.000+0000",
                    "updated": "2009-05-29T07:08:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31573",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "I've been looking into this further (we really need it to work so I'm trying to hack together a fix), and I'm really confused by how this works.  We're sending amf3 requests from Flash, and they are certainly arriving as part of the request as amf 3 (error_log(\"client version $clientVersion\"); ) in  the readMessage method in Zend_Amf_Request definitely says 3.  However, the $clientVersion variable is never promoted to a member variable - I see there's a $_clientType member, but that doesn't seem to get set, and defaults to 0.\n\nWorse, the Amf3 Serializer never even gets included - putting an error_log call at the top of the file (outside the class even) , never shows up.\n\nLooking through the code, I can't find any connection between getting an Amf3 request, and sending an Amf3 Response.   The _handle method of the Server certainly wants to send back amf0, based on objectEncoding it gets from the request (which surely should be 3, since that's what $clientVersion is!?), and the only way I can see the Amf3 Serializer being loaded is in the Amf0 Serializer's writeAmf3TypeMarker method, which has a comment which says, \"Once AMF3 is encountered it will not return to AMf0\", yet I cannot find any code-evidence that is the case, and this method isn't being called anyway.\n\nI'm sure I am just being dense and there's something silly we're doing wrong as nobody else seems to have a problem with amf3 ;) Is there any obvious way to force amf3, since setting the objectEncoding to 3 in Flash doesn't seem to work for us?\n\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-03T07:53:18.000+0000",
                    "updated": "2009-06-03T07:53:18.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31574",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "Manually applying the patch changes to the Amf0 Serializer just gives me client.data.underflow error, so that doesn't seem like a viable workaround :(",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-03T08:58:19.000+0000",
                    "updated": "2009-06-03T08:58:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31575",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "@penny the $clientVersion does not explicitly meant hat the data is going to be AMF3. In most cases it just means it is coming from a flash player 9 or greater player which supports AMF3. The deserialization process starts in the amf0 system and until it encounters and AMF3 type it stays AMF0. If you are using netconnection you will almost always stay inside of amf0. RemoteObject is wrapped in a RemoteMessage that is an AM3 type so if you use remoteobject it will always be amf3. Hope that helps. \n\nThere are two patches that we committed yesterday for resource handling and authentication and this is next on the list!  ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-06-03T09:55:59.000+0000",
                    "updated": "2009-06-03T09:55:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31582",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "Hi Wade, thanks for replying.    I'm happy to help with debugging or testing if that helps develop a fix for this circular reference problem.\n\nI can be reached on irc (Mjollnir` on freenode\/oftc) or skype (mjollnir__) and I will try patches.\n\nCheers!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-04T02:21:22.000+0000",
                    "updated": "2009-06-04T02:21:22.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31656",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "body": "Just a note. This bug is mostly a duplicate of ZF-6641.\nThe patch provided here will not work in all cases as it doesn't reference XML data, Date objects etc.\nIn ZF-6641 I provided a patch which also fixes this problem.\n\nStefan",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "created": "2009-06-08T02:24:45.000+0000",
                    "updated": "2009-06-08T02:24:45.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31689",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "body": "Hi Penny, are you really running Amf0 only? If you could provide a testcase for your issue it would be easier to fix.\nI attached a patch for the Amf0 Serializer which adds support for references. This patch is a quick shot and not tested at all (as I already said a testcase is needed).\n\nRegards Stefan",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stefanklug",
                        "name": "stefanklug",
                        "displayName": "Stefan Klug",
                        "active": true
                    },
                    "created": "2009-06-09T00:57:03.000+0000",
                    "updated": "2009-06-09T00:57:03.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31709",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "argh, I can't figure out how to making it do Amf3 - Here's a simple test case:\n\nhttp:\/\/paste.dollyfish.net.nz\/6bcd3e\n\nand the flash side, we're using the code here:\n\nhttp:\/\/git.penny.liip.ch\/?p=amftester.git;a=summary\n\nWhen I uncomment the second $return, I get Object in the flash view. When I comment it out, I get ... nothing.. anger.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-09T09:07:04.000+0000",
                    "updated": "2009-06-09T09:07:04.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31710",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "Sorry, should have tried the patch before speaking.\n\nAt initial testing (with test data, not the real data since my flash guy is away this week), it seems to completely fix the problem! You are my hero!\n\nStill no idea why it's not switching to Amf3, but if this solves the problem I'll be really happy.   I'll test again with real data and get back to you.\n\n*Thanks* ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-09T09:11:41.000+0000",
                    "updated": "2009-06-09T09:11:41.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31886",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "body": "Confirm this patch completely fixed the problem.  Stefan, thanks so much!",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mjollnir",
                        "name": "mjollnir",
                        "displayName": "Penny Leach",
                        "active": true
                    },
                    "created": "2009-06-16T09:01:09.000+0000",
                    "updated": "2009-06-16T09:01:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/31893",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "body": "Issues has been resolved in the standard trunk. Patch and unit test have been committed. Thanks everyone for the patch and for the test cases! ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wadearnold",
                        "name": "wadearnold",
                        "displayName": "Wade Arnold",
                        "active": true
                    },
                    "created": "2009-06-16T13:29:06.000+0000",
                    "updated": "2009-06-16T13:29:06.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-6205\/transitions"
}