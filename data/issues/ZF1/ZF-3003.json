{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3003",
    "key": "ZF-3003",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "make properties of Zend_OpenId_Consumer protected to enable sub-classing"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3003\/votes",
                "votes": 1,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10240",
                    "id": 10240,
                    "description": "Minor Release",
                    "name": "1.6.0",
                    "userReleaseDate": "02\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-02",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-04-14T10:38:01.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                "name": "lcrouch",
                "displayName": "Luke Crouch",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-03-31T19:51:04.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-09-02T10:39:17.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "We have need to sub-class Zend_OpenId_Consumer, but when we do so we can't succinctly change the storage nor the dumbMode properties because they are declared private. making them protected lets us customize these without having to redefine our own constructor."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3003\/watchers",
                "isWatching": false,
                "watchCount": 3
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                "name": "dmitry",
                "displayName": "Dmitry Stogov",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10210",
                    "id": 10210,
                    "name": "Zend_OpenId",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20793",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "body": "$_starage and $_dumbMode where made private by design. They can be easily set through constructor and shouldn't be changed after that. I don't see any problem to set it from overridden constructor. \n\nclass My_OpenId extends Zend_OpenId_Consumer {\n  function __construct() {\n    parent::__construct(new DB_Storage(), true);\n  }\n}\n\nIt is not a big problem to make them protected, but I don't see any reason. Could you please explain why constructor doesn't work for you?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "created": "2008-04-10T09:05:46.000+0000",
                    "updated": "2008-04-10T09:05:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20794",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "body": "our problem was that calling parent::__construct from within an overridden constructor doesn't seem to work.\n\nclass Sfx_OpenId_Consumer extends Zend_OpenId_Consumer {\n    public function __construct(Zend_OpenId_Consumer_Storage $storage = null, $dumbMode = false, $logging = false)\n    {\n\t\tparent::__construct($storage, $dumbMode);\n\t\t$this->_logging = $logging;\n\t}\n\n[10-Apr-2008 07:27:00] PHP Fatal error:  Call to a member function getDiscoveryInfo() on a non-object in Sfx\/OpenId\/Consumer.php on line 210\n\nor maybe it's because we're also overriding the _discovery method. in any case, there's a mix of protected methods using private properties which I think caused confusion for us. if the methods are going to be protected, the properties they use should probably likewise be protected so that sub-classes can use both consistently.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "created": "2008-04-10T09:33:54.000+0000",
                    "updated": "2008-04-10T09:33:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20795",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "body": "I see. Your constructor works fine and you set private $_storage property of Zend_OpenId_Consumer, however you probably cannot access it from Sfx_OpenId_Consumer.\n\nWhy do you need to override _discovery()?\nDo you implement XRI and\/or Yadis discovery or some custom discovery scheme?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "created": "2008-04-10T09:46:40.000+0000",
                    "updated": "2008-04-10T09:46:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20797",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "body": "we actually overrode _discovery() and _associate() to fix the SHA256->SHA1 fallback behavior and to add a bunch of logging\/debugging to help us discover ZF-3079. \n\nso really, we could have, and probably should have, just modified Zend_OpenId_Consumer class directly and submitted our changes as patches, but we weren't sure at the time if we were right in changing the code, so we extended from it. honestly, this bug is not nearly as high priority as ZF-3079. just more like a convenience thing.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "created": "2008-04-10T10:43:36.000+0000",
                    "updated": "2008-04-10T10:43:36.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20798",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "body": "So could you give me more details about ZF-3079. I'm going to fix it with top priority, but for now I don't know how to reproduce the bug.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "created": "2008-04-10T10:56:37.000+0000",
                    "updated": "2008-04-10T10:56:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20836",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "body": "Do you still need protected properties after ZF-3079 fix?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmitry",
                        "name": "dmitry",
                        "displayName": "Dmitry Stogov",
                        "active": true
                    },
                    "created": "2008-04-14T03:09:38.000+0000",
                    "updated": "2008-04-14T03:09:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20848",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "body": "IMO, it would still be useful, yeah ...\n\nthe protected nature of _discovery and _associate is sorta useless if the sub-class can't access the private properties to work properly anyway.\n\nwe're still overriding _associate to change it's SHA256->SHA1 fallback behavior, plus we've added some error-handling and logging to our centralized log location, so we're still sub-classing Consumer for other things, and I think others will find it useful to sub-class Consumer as well, so it will be helpful for all to be able to access and use all of Consumer's properties.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=lcrouch",
                        "name": "lcrouch",
                        "displayName": "Luke Crouch",
                        "active": true
                    },
                    "created": "2008-04-14T09:33:46.000+0000",
                    "updated": "2008-04-14T09:33:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/21234",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "body": "Marking as fixed for next minor release pending merge of changes to release-1.5 branch.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=darby",
                        "name": "darby",
                        "displayName": "Darby Felton",
                        "active": true
                    },
                    "created": "2008-04-21T13:56:35.000+0000",
                    "updated": "2008-04-21T13:56:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24064",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "Updating for the 1.6.0 release.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-09-02T10:39:17.000+0000",
                    "updated": "2008-09-02T10:39:17.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3003\/transitions"
}