{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4202",
    "key": "ZF-4202",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Cannot view FirePHP logs in FireBug from AJAX requests"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4202\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/3",
                "name": "Duplicate"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-09-08T11:15:46.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                "name": "radhad",
                "displayName": "Dennis Becker",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-09-05T07:46:46.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-09-08T11:15:46.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have used FirePHP for debugging AJAX Requests with the fb() function. With change to Version 1.6.0 I have removed all fb() function calls and use Zend_Log_Writer_Firebug. But when the AJAX call finishes, I do not see any Log from FirePHP. Does it depend on different behaviour in the Front Controller between normal requests and AJAX requests? I use to send the result as JSON with Zend_Controller_Action_Helper_Json.\n\n{code}\n$this->getHelper('Json')->sendJson($foo);\n{code}\n\nIn FireBug I get the following error on the \"Server\" tab: \"X-FirePHP-Data\" response header not found in request response!\n\n*Cause:* See ZF-4134.\n\n*Workaround:*\n\n{code}\n$json = $this->getHelper('Json');\n$json->suppressExit = true;\n$json->sendJson($foo);\nZend_Wildfire_Channel_HttpHeaders::getInstance()->flush();\n$json->getResponse()->sendResponse();\nexit;\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4202\/watchers",
                "isWatching": false,
                "watchCount": 1
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                "name": "cadorn",
                "displayName": "Christoph Dorn",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10240",
                    "id": 10240,
                    "description": "Minor Release",
                    "name": "1.6.0",
                    "userReleaseDate": "02\/Sep\/08",
                    "archived": false,
                    "releaseDate": "2008-09-02",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10330",
                    "id": 10330,
                    "name": "Zend_Wildfire",
                    "description": "Supports the Wildfire protocol and provide a log writer to add Wildfire debugging messages to response.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24281",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "It should work the same for AJAX and other requests.\n\nCan you send me your bootstrap file for the ajax requests?\n\nYou may need to add ob_start() before you print your AJAX response so the headers will still get set at the end of the request.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-05T08:30:14.000+0000",
                    "updated": "2008-09-05T08:30:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24339",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "body": "Setting \"ob_start()\" does not change anything. Here is my Bootstrap file:\n\n{code}\n<?php\n\/\/error_reporting(E_ALL|E_STRICT);\n\n\/**\n * classes.php sets the includepath for this application and loads Framework related classes\n *\n *\/\ninclude 'classes.php';\n\n\/\/ How to switch layout for registration? quite simple :-)\n$layout = Zend_Layout::startMvc(array(\n\t'layoutPath' => '..\/application\/layouts\/scripts',\n\t'layout' => 'standard',\n\t'mvcSuccessfulActionOnly' => false,\n));\n$view = $layout->getView();\n$view->setEncoding('utf-8');\n$view->doctype('HTML4_STRICT');\n\n$frontController = Zend_Controller_Front::getInstance();\n$frontController->throwExceptions(false);\n$frontController->addModuleDirectory('..\/application\/modules');\n$frontController->registerPlugin(new PluginLoader());\n\n$frontController->dispatch();\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "created": "2008-09-08T00:45:54.000+0000",
                    "updated": "2008-09-08T00:45:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24341",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "If you are using the above bootstrap then it will not work as the Firebug log writer is not initialized.\n\nI have tested it with the JSON Helper and it is working fine as long as you have the writer initialized.\n\nSee here for more info: http:\/\/www.christophdorn.com\/Blog\/2008\/09\/02\/firephp-and-zend-framework-16\/",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T01:18:06.000+0000",
                    "updated": "2008-09-08T01:18:06.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24345",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "body": "I forgot to post my LoggingPlugin which creates the different Logwriter. Look at the following code. This Plugin gets loaded on every request from the PluginLoader Plugin\n\n\n{code}\nclass LoggingPlugin extends Zend_Controller_Plugin_Abstract\n{\n\tpublic function routeShutdown(Zend_Controller_Request_Abstract $request)\n\t{\n\t\t$config = Zend_Registry::get('Zend_Config');\n\t\t$logger = new Zend_Log();\n\n\t\t\/\/ read config options for Log Writers\n\t\tforeach ($config['logging']['writer'] as $writer)\n\t\t{\n\t\t\tif((bool)$writer['active'] == true)\n\t\t\t{\n\t\t\t\tswitch ($writer['type'])\n\t\t\t\t{\n\t\t\t\t\t\/\/ different file writers are possible\n\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$fileWriter = new Zend_Log_Writer_Stream($writer['logpath'].$writer['logfile'], 'a+');\n\t\t\t\t\t\t\t$fileWriter->addFilter(new Zend_Log_Filter_Priority((int)$writer['level']));\n\t\t\t\t\t\t\t$logger->addWriter($fileWriter);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase 'firebug':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequire_once 'Zend\/Log\/Writer\/Firebug.php';\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$firebugWriter = new Zend_Log_Writer_Firebug();\n\t\t\t\t\t\t\t$firebugWriter->addFilter(new Zend_Log_Filter_Priority((int)$writer['level'])); \/\/ Don't know if this works\n\n\t\t\t\t\t\t\t\/\/ use an own instance of Zend_Log for FirePHP because of different debugging\n\t\t\t\t\t\t\t$firebugLogger = new Zend_Log($firebugWriter);\n\t\t\t\t\t\t\tZend_Registry::set('FirePHP', $firebugLogger);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tZend_Registry::set('Zend_Log', $logger);\n\t}\n}\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=radhad",
                        "name": "radhad",
                        "displayName": "Dennis Becker",
                        "active": true
                    },
                    "created": "2008-09-08T02:55:40.000+0000",
                    "updated": "2008-09-08T02:55:40.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24353",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "I have tested it with a plugin like your setup and it is working.\nI think the only way for me to troubleshoot this for you is with a stripped down demo app.\n\nThe Zend_Log_Filter_Priority should work as well.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T10:38:09.000+0000",
                    "updated": "2008-09-08T10:38:09.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24354",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "I think your problem is related to: ZF-4134\n\nI was using\n{code}\n$this->view->json('Sample Json Data');\n{code}\nin my action controller but I guess that is not the same thing.\n\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T10:56:27.000+0000",
                    "updated": "2008-09-08T10:56:27.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24355",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "As a workaround you can do this:\n\n{code}\n$this->getHelper('Json')->suppressExit = true;\n$this->getHelper('Json')->sendJson($foo);\nZend_Wildfire_Channel_HttpHeaders::getInstance()->flush();\n$this->getHelper('Json')->getResponse()->sendResponse();\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T11:03:33.000+0000",
                    "updated": "2008-09-08T11:03:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24356",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Sorry, forgot \"exit\" at the end.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T11:07:11.000+0000",
                    "updated": "2008-09-08T11:07:11.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/24357",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "body": "Duplicate of ZF-4134.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=cadorn",
                        "name": "cadorn",
                        "displayName": "Christoph Dorn",
                        "active": true
                    },
                    "created": "2008-09-08T11:15:45.000+0000",
                    "updated": "2008-09-08T11:15:45.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4202\/transitions"
}