{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2873",
    "key": "ZF-2873",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Setting date with array gives wrong result"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2873\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10174",
                    "id": 10174,
                    "description": "Mini Release",
                    "name": "1.5.1",
                    "userReleaseDate": "25\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-25",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-03-13T05:32:14.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akkie",
                "name": "akkie",
                "displayName": "Christian Kaps",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-03-13T04:23:02.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-03-24T14:21:07.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Code\n{code}\ndate_default_timezone_set('UTC');\n\ninclude ('Zend\/Date.php');\n\n$date = new Zend_Date();\n$date->setTimezone('Europe\/Berlin');\n$date->set(array(\n\t'year' => 2008,\n\t'month' => 5,\n\t'day' => 29,\n\t'hour' => 23,\n\t'minute' => 59,\n\t'second' => 59\n));\necho $date->get(Zend_Date::ISO_8601);\n{code}\n\nExpected result:\n2008-05-29T23:59:59+02:00\n\nActual result:\n2008-05-30T00:59:59+02:00\n\nWhen i set the date individually over the Zend_Date->set() method with the constants. It works correct.\n\n{code}\ndate_default_timezone_set('UTC');\n\ninclude ('Zend\/Date.php');\n\n$date = new Zend_Date();\n$date->setTimezone('Europe\/Berlin');\n$date->set(2008, Zend_Date::YEAR);\n$date->set(5, Zend_Date::MONTH);\n$date->set(29, Zend_Date::DAY);\n$date->set(23, Zend_Date::HOUR);\n$date->set(59, Zend_Date::MINUTE);\n$date->set(59, Zend_Date::SECOND);\necho $date->get(Zend_Date::ISO_8601);\n{code}\n\nResult:\n2008-05-29T23:59:59+02:00\n\nor\n\n{code}\ndate_default_timezone_set('UTC');\n\ninclude ('Zend\/Date.php');\n\n$date = new Zend_Date();\n$date->setTimezone('Europe\/Berlin');\n$date->set('29.05.2008',Zend_Date::DATES);\n$date->set('23:59:59',Zend_Date::TIMES);\necho $date->get(Zend_Date::ISO_8601);\n{code}\n\nResult:\n2008-05-29T23:59:59+02:00\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2873\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10170",
                    "id": 10170,
                    "description": "Mini Release",
                    "name": "1.0.4",
                    "userReleaseDate": "26\/Feb\/08",
                    "archived": true,
                    "releaseDate": "2008-02-26",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10072",
                    "id": 10072,
                    "name": "Zend_Date",
                    "description": "Zend_Date is the basic library for the handling of all date, time and calendar-related issues.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19899",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "No, this is not an issue...\n\nYou defined to use the actual time... we now have wintertime.\nThen you said to set the date 29.05.2008... this date is in summertime... so you have a gap of one hour in the date object from the actual date and the new date.\nAs you define your new time in the old date (you set the complete array) the gap of one hour is added as result to the change of being in summertime.\n\nWhen you rely on UTC you will not have any gap because UTC does not have a summer\/wintertime.\n\nThis issue is (partitially) identical with ZF-2587.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-13T05:31:47.000+0000",
                    "updated": "2008-03-13T05:31:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19901",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akkie",
                        "name": "akkie",
                        "displayName": "Christian Kaps",
                        "active": true
                    },
                    "body": "1. Can you tell me what is the difference between the other two methods.\n2. Is it possible to create a date ,with an array, that gives me the result: 2008-05-29T23:59:59+02:00\n\nAn example:\nI will calculate a membership time. This membership time shall expire at 2008-05-29T23:59:59 at german time.\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akkie",
                        "name": "akkie",
                        "displayName": "Christian Kaps",
                        "active": true
                    },
                    "created": "2008-03-13T06:46:30.000+0000",
                    "updated": "2008-03-13T06:46:30.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19909",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "1. You are using different constants. Which you should use depends on your input.\n2. Yes",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-14T02:09:19.000+0000",
                    "updated": "2008-03-14T02:09:19.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19912",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akkie",
                        "name": "akkie",
                        "displayName": "Christian Kaps",
                        "active": true
                    },
                    "body": "O sorry my english is not the best. That what i mean for point 1 is what is the difference between the first example and the other two examples.\nCan you give me an example for point two?\n\nWhat is the best method to create a date in a timezone they differs from the main time zone which was set by the date_default_timezone_set() function?\n\nBest regards",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=akkie",
                        "name": "akkie",
                        "displayName": "Christian Kaps",
                        "active": true
                    },
                    "created": "2008-03-14T03:27:17.000+0000",
                    "updated": "2008-03-14T03:27:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20148",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "body": "I'm assuming this fix is merged to the 1.5 release branch for release with 1.5.1. Please update JIRA if this is not the case.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=wil",
                        "name": "wil",
                        "displayName": "Wil Sinclair",
                        "active": true
                    },
                    "created": "2008-03-21T17:34:14.000+0000",
                    "updated": "2008-03-21T17:34:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/20193",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "The constant DATES is different depending on the used locale. The format it produces is for example \"dd.MM.yyyy\" or \"MM\/dd\/yyyy\"...\n\nYour second example uses fixed constants which are not different depending on the locale. That's what I meant with \"you are using different constants\".\n\nWe do not code anything for people... see this as exception to this rule:\n\n{code}\nrequire_once 'Zend\/Date.php';\n\ndate_default_timezone_set('Europe\/Berlin');\n$date = new Zend_Date();\n$date->set(array('year' => 2008, 'month' => 5, 'day' => 29));\n$date->setTime(array('hour' => 23, 'minute' => 59, 'second' => 59));\n\necho $date->getIso();\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2008-03-24T14:21:07.000+0000",
                    "updated": "2008-03-24T14:21:07.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2873\/transitions"
}