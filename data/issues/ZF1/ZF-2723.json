{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2723",
    "key": "ZF-2723",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Support checking other HTTP requests and retrieving raw entity body in Zend_Controller_Request_Http"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 30,
                "timeestimate": 30
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/11",
                "name": "Patch",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2723\/votes",
                "votes": 8,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10172",
                    "id": 10172,
                    "description": "Minor Release",
                    "name": "1.5.0",
                    "userReleaseDate": "17\/Mar\/08",
                    "archived": true,
                    "releaseDate": "2008-03-17",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2008-03-06T21:34:43.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramsey",
                "name": "ramsey",
                "displayName": "Ben Ramsey",
                "active": false
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-02-24T13:38:52.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2008-03-21T17:31:24.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "For some recent RESTful architecture development I was working on, I came across the need to to use Zend_Controller_Request_Http to check for other HTTP requests than POST and to also access the raw entity body of the posted or put request. To achieve this, we extended Zend_Controller_Request_Http and added the needed methods and then set the Zend Framework request to our child class using the front controller's setRequest() method. However, I think these methods should be incorporated back into the Zend Framework itself.\n\nPatch follows...\n\n{code:title=library.diff|borderStyle=solid}\n--- library\/Zend\/Controller\/Request\/Http.php\t(revision 8365)\n+++ library\/Zend\/Controller\/Request\/Http.php\t(working copy)\n@@ -742,6 +742,92 @@\n     }\n \n     \/**\n+     * Was the request made by GET?\n+     *\n+     * @return boolean\n+     *\/\n+    public function isGet()\n+    {\n+        if ('GET' == $this->getMethod()) {\n+            return true;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n+     * Was the request made by PUT?\n+     *\n+     * @return boolean\n+     *\/\n+    public function isPut()\n+    {\n+        if ('PUT' == $this->getMethod()) {\n+            return true;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n+     * Was the request made by DELETE?\n+     *\n+     * @return boolean\n+     *\/\n+    public function isDelete()\n+    {\n+        if ('DELETE' == $this->getMethod()) {\n+            return true;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n+     * Was the request made by HEAD?\n+     *\n+     * @return boolean\n+     *\/\n+    public function isHead()\n+    {\n+        if ('HEAD' == $this->getMethod()) {\n+            return true;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n+     * Was the request made by OPTIONS?\n+     *\n+     * @return boolean\n+     *\/\n+    public function isOptions()\n+    {\n+        if ('OPTIONS' == $this->getMethod()) {\n+            return true;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n+     * Return the raw entity body of the request, if present\n+     *\n+     * @return string|false Raw entity body, or false if not present\n+     *\/\n+    public function getEntityBody()\n+    {\n+        $body = file_get_contents('php:\/\/input');\n+\n+        if (strlen(trim($body)) > 0) {\n+            return $body;\n+        }\n+\n+        return false;\n+    }\n+\n+    \/**\n      * Return the value of the given HTTP header. Pass the header name as the\n      * plain, HTTP-specified header name. Ex.: Ask for 'Accept' to get the\n      * Accept header, 'Accept-Encoding' to get the Accept-Encoding header.\n{code}"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date",
            "value": "2008-03-07"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2723\/watchers",
                "isWatching": false,
                "watchCount": 4
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10171",
                    "id": 10171,
                    "description": "Minor Release Candidate",
                    "name": "1.5.0RC1",
                    "userReleaseDate": "26\/Feb\/08",
                    "archived": true,
                    "releaseDate": "2008-02-26",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10011",
                    "id": 10011,
                    "name": "Zend_Controller",
                    "description": "front controller, including router and dispatcher",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19656",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Scheduling for 1.5.0 RC2",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-03-06T09:07:54.000+0000",
                    "updated": "2008-03-06T09:07:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19715",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Committed to trunk and 1.5 release branch, with one change: getEntityBody() was changed to getRawBody() to more closely follow PHP docs and typical descriptions of that particular request usage.\n\nDocumentation was commited to the request documentation to cover the new functionality.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2008-03-06T21:34:43.000+0000",
                    "updated": "2008-03-06T21:34:43.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/19876",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramsey",
                        "name": "ramsey",
                        "displayName": "Ben Ramsey",
                        "active": false
                    },
                    "body": "Changing the name to getRawBody() is fine since all the PHP documentation already refers to it as the \"raw\" body. Though, my usage of \"entity\" more properly reflects the terminology used by RFC 2616, specifically http:\/\/tools.ietf.org\/html\/rfc2616#section-7. There is no distinction in HTTP of \"raw\" versus \"processed\" data in the entity body. This distinction occurs in PHP because of the $_POST superglobal array that processes the url-encoded entity body and constructs a PHP array out the parameters.\n\nJust wanted to give my reasoning for using \"entity\" instead of \"raw.\" :-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ramsey",
                        "name": "ramsey",
                        "displayName": "Ben Ramsey",
                        "active": false
                    },
                    "created": "2008-03-12T12:53:38.000+0000",
                    "updated": "2008-03-12T12:53:38.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2723\/transitions"
}