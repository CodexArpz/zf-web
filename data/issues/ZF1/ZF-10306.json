{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10306",
    "key": "ZF-10306",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Possible enhancement to the way a ZF application is defining the environment\/started - maybe for ZF 2.0"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10306\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/7",
                "name": "Needs Proposal"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10160",
                    "id": 10160,
                    "description": "Major Release",
                    "name": "Next Major Release",
                    "archived": false,
                    "released": false
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2010-08-13T05:21:54.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                "name": "avantis",
                "displayName": "Cristian Bichis",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2010-08-13T00:02:06.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2010-08-16T11:39:44.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hello,\r\n\r\nI am using by some time a different approach for application startup\/environment setup than standard provided into ZF doc. Let me explain the situation and the benefits of using this - actually small modification - instead of standard index.php file. Standard index.php file looks more related to deploying a httpd application, into a very similar dev\/production environments. The reality is much more complex...\r\n\r\nHere is the way i am defining the environment and index.php:\r\n\r\n\/\/environment.php located at application root level (the same level as application, library, scripts, public\/public_html folders) which basically contains code more or less similar with the code from the Zf documentation (is a copy from ZF doc):\r\n\r\n      defined('APPLICATION_PATH')\r\n          || define('APPLICATION_PATH',\r\n                    realpath(dirname(__FILE__) . '\/..\/application'));\r\n\r\n      \/\/ Define application environment\r\n      defined('APPLICATION_ENV')\r\n          || define('APPLICATION_ENV',\r\n                    (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV')\r\n                                               : 'production'));\r\n\r\n\r\n      \/** Zend_Application *\/\r\n      require_once 'Zend\/Application.php';\r\n\r\n      \/\/ Create application, bootstrap, and run\r\n      $application = new Zend_Application(\r\n          APPLICATION_ENV,\r\n          APPLICATION_PATH . '\/configs\/application.ini'\r\n      );\r\n\r\n\/\/index.php\r\nrequire '..\/environment.php';\r\n\r\n$application->bootstrap()\r\n->run();\r\n\r\n\r\nWhy this approach ? There are several reasons, most of them to reduce the redundancy of setting the environment in multiple places (files), sometime also due to different configurations in dev vs production environments:\r\n1. httpd application\r\n2. CLI application\r\n3. Additional applications, not Zf related. By example a fckeditor application may require acces to some of the application resources:\r\n\r\ninclude 'path to the environment file\/environment.php';\r\n$application->getBootstrap()->bootstrap('FrontController');\r\n$frontController = $application->getBootstrap()->getResource('FrontController');\r\n\r\n$Config['UserFilesPath'] = $frontController->getBaseUrl() .'media\/';\r\n$Config['UserFilesAbsolutePath'] = PUBLIC_PATH . DIRECTORY_SEPARATOR . 'media' . DIRECTORY_SEPARATOR ;\r\n\r\nOr require access to other stuffs like ACL access...\r\n\r\n\r\nAlso, since sometime some folders may be different from dev\/production environment is better to have that environment.php file located at root level. By example, on may hosts\/env the public folder is either public, plublic_html, htdocs, aso. May differer on the same project (dev to be public, production to be public_html, aso)! So by example fom a CLI application which should access the public folder would be different paths depending on the environment, and if the environment file is located in public\/public_html folder won't even know the path to that file due to need to switch between public\/public_html based on env...\r\n\r\nWith the current standard way i think deploying an application with multiple \"faces\" (httpd, cli, third party) and within heterogeneous environments would save time of writing couple of environment related files, one for each \"face\" or environment.\r\n\r\nSo, due to this reasons i am proposing for review this possible enhancement to the way a ZF app gets started, to make easier the life when working with ZF... This would be more related to documentation changes and possible Zend_Tool changes..."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10306\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10480",
                    "id": 10480,
                    "description": "Mini Release",
                    "name": "1.10.7",
                    "userReleaseDate": "28\/Jul\/10",
                    "archived": false,
                    "releaseDate": "2010-07-28",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10390",
                    "id": 10390,
                    "name": "Zend_Application",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41971",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "I think JIRA screwed somehow my code but still looks readable...",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2010-08-13T00:02:59.000+0000",
                    "updated": "2010-08-13T00:02:59.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41974",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This approach would be better discussed on the zf-contributors mailing list and\/or via a proposal. \r\n\r\nFor the record, I think it has merit -- I'm one who commonly has multiple application end-points, and get tired of writing the boiler-plate code for setting up the environment. That said, I think Zend_Application should be instantiated in the script that executes any bootstrap() and\/or run() calls; the environment.php should simply be responsible for setting up constants and the include_path.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2010-08-13T05:21:54.000+0000",
                    "updated": "2010-08-13T05:21:54.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/41992",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "body": "Will rise the problem on contributors mailinglist next days and prepare a proposal.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=avantis",
                        "name": "avantis",
                        "displayName": "Cristian Bichis",
                        "active": true
                    },
                    "created": "2010-08-16T11:39:44.000+0000",
                    "updated": "2010-08-16T11:39:44.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-10306\/transitions"
}