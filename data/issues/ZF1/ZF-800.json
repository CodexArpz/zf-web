{
    "expand": "html",
    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-800",
    "key": "ZF-800",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "After adding an array to a session namespace, adding elements to the array fails"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-800\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10021",
                    "id": 10021,
                    "description": "Preview release; DB, Filter, Log",
                    "name": "0.8.0",
                    "userReleaseDate": "21\/Feb\/07",
                    "archived": true,
                    "releaseDate": "2007-02-21",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2007-02-21T16:56:22.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2007-01-25T22:18:46.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2007-07-31T13:36:10.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "-------- Original Message --------\nSubject: \t[fw-auth] Problem with Zend Session and setting arrays\nDate: \tThu, 18 Jan 2007 07:00:40 -0800 (PST)\nFrom: \tDaniel Schwip. (Germany) <ds@ms-computerservice.com>\nTo: \tfw-auth@lists.zend.com\n\nHi there,\nif i set a session property to an array and later add a new key, it won't be\nset. I think it's because of the __set php implementation???\n\n---\n$session = new Zend_session();\n$session->array = array();\n$session->array['testKey'] = 1;\nZend::Dump($session->array, 'sessArray'); \/\/ testKey is not set\n\/\/ My Current workaround\n$session->array = array_merge($session->array, array('testKey' => 1));  \n\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-800\/watchers",
                "isWatching": false,
                "watchCount": 2
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                "name": "gavin",
                "displayName": "Gavin",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-1743",
                    "issue": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-1743",
                    "type": {
                        "name": "Related",
                        "direction": "INBOUND",
                        "description": "is related to"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/version\/10020",
                    "id": 10020,
                    "description": "Preview Release; I18N, Acl, Auth, Session",
                    "name": "0.7.0",
                    "userReleaseDate": "18\/Jan\/07",
                    "archived": true,
                    "releaseDate": "2007-01-18",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/component\/10096",
                    "id": 10096,
                    "name": "Zend_Session",
                    "description": "A standardized interface to common functionality found in or indigenous to site session implementations. ",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12399",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "Oddly, I found setting additional keys in the array works, with only the first one \"ignored\" by PHP.\nThe problem certainly appears related to PHP and not Zend_Session.\nThus, a temporary workaround for the code above:\n{code}\n$session->array['dummy''] = true;\n$session->array['testkey'] = 1;\n{code}\n\n$ php -v\nPHP 5.1.6 (cgi-fcgi) (built: Oct 24 2006 19:38:28)\nCopyright (c) 1997-2006 The PHP Group\nZend Engine v2.1.0, Copyright (c) 1998-2006 Zend Technologies\n$ svn update\nuname At revision 3015.\n$ uname -a\nLinux sandbox.zend.com 2.6.9-34.EL #1 Fri Feb 24 16:44:51 EST 2006 i686 i686 i386 GNU\/Linux\n",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-26T10:50:54.000+0000",
                    "updated": "2007-01-26T10:50:54.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12400",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "The result differs for PHP 5.2, and the \"trick\" above no longer works.  All keys added are \"ignored\" by PHP.\n\n$ php -v\nPHP 5.2.0 (cgi-fcgi) (built: Dec 19 2006 15:37:32)\nCopyright (c) 1997-2006 The PHP Group\nZend Engine v2.2.0, Copyright (c) 1998-2006 Zend Technologies\n\ngavin@IBM-F4F0A5528C1 ~\/src\/zftrunk\/tests\/Zend\/Session\n$ uname -a\nCYGWIN_NT-5.1 IBM-F4F0A5528C1 1.5.22(0.156\/4\/2) 2006-11-13 17:01 i686 Cygwin\n\ngavin@IBM-F4F0A5528C1 ~\/src\/zftrunk\/tests\/Zend\/Session\n$ svn update\nAt revision 3016.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-26T11:14:10.000+0000",
                    "updated": "2007-01-26T11:14:10.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12441",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "The following code produces inconsistent results on versions of PHP prior to PHP 5.2.1.  Tests with 5.2.1RC4 seem to show the problem has been fixed with magic methods returning by reference.\n{code}<?php\n\nsession_start();\n\n$_SESSION['anArray'] = array('a', 'b', 'c');\necho \"\\n\\$_SESSION = \";\nprint_r($_SESSION);\n\nclass TestSessionRef\n{\n    public function &__get($name)\n    {\n        echo \"\\nReturning \\$_SESSION[$name] by reference\\n\";\n        return $_SESSION[$name];\n    }\n}\n\n$test = new TestSessionRef();\n$test->anArray['foo'] = 'bar';\necho \"\\n\\$test->anArray = \";\nprint_r($test->anArray);\n\necho \"\\n\\$a = \";\n$a = & $test->anArray;\n$a['bee'] = 'honey';\nprint_r($a);\n\necho \"\\n\\$_SESSION = \";\nprint_r($_SESSION);\n{code}\n\nh2. Work-around\n\nDo not modify an array, after assigning it to a session namespace key.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-29T16:27:53.000+0000",
                    "updated": "2007-01-29T16:27:53.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12458",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "http:\/\/bugs.php.net\/bug.php?id=36214\n\nThe new Zend_Session unit test passes with PHP 5.2.1RC4 (and hopefully will continue to pass with PHP 5.2.1+):\nhttp:\/\/bugs.php.net\/bug.php?id=39449\n\nIf no further problems are found, after PHP 5.2.1 is released, then I will close this issue.\n\nEveryone using an earlier version of PHP should use the workaround above.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-30T13:29:14.000+0000",
                    "updated": "2007-01-30T13:29:14.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12463",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "body": "h2. Another Work-Around\n\n{code}$myNamespace = new Zend_Session_Namespace('mySpace');\n\n\/\/ works, even for broken versions of PHP\n$a = array(1,2,3);\n$myNamespace->someArray = array( & $a ) ;\n$a['foo'] = 'bar';\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=gavin",
                        "name": "gavin",
                        "displayName": "Gavin",
                        "active": true
                    },
                    "created": "2007-01-30T15:18:38.000+0000",
                    "updated": "2007-01-30T15:18:38.000+0000"
                },
                {
                    "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/comment\/12874",
                    "author": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=kuprishuz",
                        "name": "kuprishuz",
                        "displayName": "Stephen St. Martin",
                        "active": true
                    },
                    "body": "5.2.1 has been released, and i have confirmed the issue no longer exists, this could probably be closed.",
                    "updateAuthor": {
                        "self": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/user?username=kuprishuz",
                        "name": "kuprishuz",
                        "displayName": "Stephen St. Martin",
                        "active": true
                    },
                    "created": "2007-02-21T16:25:03.000+0000",
                    "updated": "2007-02-21T16:25:03.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/framework.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-800\/transitions"
}