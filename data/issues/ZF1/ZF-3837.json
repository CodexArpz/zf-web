{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3837",
    "key": "ZF-3837",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "insert() don't return last_insert_id when empty key exists in inserted data"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField",
            "value": {
                "timeoriginalestimate": 60,
                "timeestimate": 60
            }
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3837\/votes",
                "votes": 8,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10580",
                    "id": 10580,
                    "description": "Mini Release",
                    "name": "1.11.6",
                    "userReleaseDate": "05\/May\/11",
                    "archived": false,
                    "releaseDate": "2011-05-05",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2011-04-28T17:58:35.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=derk",
                "name": "derk",
                "displayName": "Pavel Vrany",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2008-08-03T07:57:05.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2011-12-20T12:17:51.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "example with MySQL:\n\nCREATE TABLE `customer` (\n    `id` int(11) NOT NULL auto_increment,\n    `title` text NOT NULL,\n    PRIMARY KEY  (`id`)\n)\n\nclass Customer extends Zend_Db_Table_Abstract\n{\n   protected _sequence = true; \/\/ defaul behavior\n}\n\n$data=('id'=>null, 'title'=>'xxx');\n\n$table = new Customer();\n$table->insert($data);\n\nMysql is ignoring empty 'id' and using auto value, framework (Zend\/Db\/Table\/Abstract.php) don't expects it:\n\n        if ($this->_sequence === true && !isset($data[$pkIdentity])) {\n            $data[$pkIdentity] = $this->_db->lastInsertId();\n        }\n\nMaybe, empty() test will be better."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/customFieldOption\/10039",
                "value": "  Should Have"
            }
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3837\/watchers",
                "isWatching": false,
                "watchCount": 7
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                "name": "adamlundrigan",
                "displayName": "Adam Lundrigan",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [
                {
                    "issueKey": "ZF-4183",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-4183",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                },
                {
                    "issueKey": "ZF-2953",
                    "issue": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-2953",
                    "type": {
                        "name": "Duplicate",
                        "direction": "INBOUND",
                        "description": "is duplicated by"
                    }
                }
            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/attachment\/13884",
                    "filename": "ZF-3837.patch",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-04-28T15:19:55.000+0000",
                    "size": 1218,
                    "mimeType": "text\/x-patch",
                    "content": "http:\/\/fw02.zend.com\/issues\/secure\/attachment\/13884\/ZF-3837.patch"
                }
            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10190",
                    "id": 10190,
                    "description": "Minor Release Candidate",
                    "name": "1.6.0RC1",
                    "userReleaseDate": "21\/Jul\/08",
                    "archived": true,
                    "releaseDate": "2008-07-21",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10133",
                    "id": 10133,
                    "name": "Zend_Db_Table",
                    "description": "Lightweight OO interface to database tables and rowsets.",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/32852",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "body": "1.6.1\n1.7.3\n1.7.5\n1.7.6\n1.7.7\n1.7.8\n1.8.1\n1.8.2\n1.8.3\n1.8.4\nNext mini relase (again)\n\nCould anybody please explain what's going on here? This issue has been updated so many times that in that same timeframe it could have been fixed. Please either fix it, close it as wont-fix, or set a realistic 'fix version'.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=freak",
                        "name": "freak",
                        "displayName": "Dolf Schimmel (Freeaqingme)",
                        "active": true
                    },
                    "created": "2009-07-22T14:47:33.000+0000",
                    "updated": "2009-07-22T14:47:33.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33573",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fabius",
                        "name": "fabius",
                        "displayName": "Fabio Almeida",
                        "active": true
                    },
                    "body": "@Dolf Schimmel: I totally second that. And it got bumped again, to version 1.9.1. And guess what... It's not fixed. Again.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=fabius",
                        "name": "fabius",
                        "displayName": "Fabio Almeida",
                        "active": true
                    },
                    "created": "2009-08-18T02:27:32.000+0000",
                    "updated": "2009-08-18T02:27:32.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33596",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Updating to \"Should Have\" in \"Next Mini Release\".\nChanging to \"Major\" priority.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2009-08-18T09:46:35.000+0000",
                    "updated": "2009-08-18T09:46:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/34361",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ha11owed",
                        "name": "ha11owed",
                        "displayName": "Alin Gherman",
                        "active": true
                    },
                    "body": "this happens also in 1.9.2, i think the only workaround is to create a new array with no empty elements",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ha11owed",
                        "name": "ha11owed",
                        "displayName": "Alin Gherman",
                        "active": true
                    },
                    "created": "2009-09-10T02:52:17.000+0000",
                    "updated": "2009-09-10T02:52:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37073",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Looking into this, and strange thing is that 'id' should be emptied by the following code (above the actual insertion)\r\n{code}\r\n\/**\r\n * If the primary key can be generated automatically, and no value was\r\n * specified in the user-supplied data, then omit it from the tuple.\r\n *\/\r\n if (array_key_exists($pkIdentity, $data) && $data[$pkIdentity] === null) {\r\n    unset($data[$pkIdentity]);\r\n }\r\n{code}\r\n\r\nSo the isset($data[$pkIdentity]) as mentioned above should fail anyway, even when given null, since it's being unset in that case. Trying to replicate the behavior..",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-19T03:01:38.000+0000",
                    "updated": "2009-12-19T03:01:38.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37074",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "There is a actually test case named testTableInsert() inside Zend\/Db\/Table\/TestCommon.php which uses the exact scenario described, and it succeeds. And I can't seem to get it to fail under any condition; anyone else with more 'luck'? Otherwise, this might not be an issue.\r\n\r\n{code}\r\npublic function testTableInsert()\r\n{\r\n    $table = $this->_table['bugs'];\r\n    $row = array (\r\n        'bug_id'          => null,\r\n        'bug_description' => 'New bug',\r\n        'bug_status'      => 'NEW',\r\n        'created_on'      => '2007-04-02',\r\n        'updated_on'      => '2007-04-02',\r\n        'reported_by'     => 'micky',\r\n        'assigned_to'     => 'goofy',\r\n        'verified_by'     => 'dduck'\r\n    );\r\n    $insertResult = $table->insert($row);\r\n    $lastInsertId = $this->_db->lastInsertId();\r\n    $this->assertEquals($insertResult, $lastInsertId);\r\n    $this->assertEquals(5, $lastInsertId);\r\n}\r\n{code}\r\n\r\nTried scenarios (using mysqli driver):\r\n* changing bug_id column from IDENTIFIER to 'INT(11) NOT NULL auto_increment'\r\n* adding $_sequence = true to My_ZendDbTable_TableBugs\r\n* commenting out \"protected $_primary = 'bug_id';\" in My_ZendDbTable_TableBugs\r\n* replacing $_primary with \"array('bug_id')\"\r\n* changing table type from InnoDB to MyISAM\r\n\r\n\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-19T04:51:25.000+0000",
                    "updated": "2009-12-19T04:56:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37075",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=derk",
                        "name": "derk",
                        "displayName": "Pavel Vrany",
                        "active": true
                    },
                    "body": "The function dbAdapter->lastInsertId() is OK, the problem is with the return value of the function dbtable->insert()\r\n\r\n$ php test.php \r\nreturnedKey is 0, but lastInsertId is 55\r\n\r\n$ cat test.php\r\n{code:title=test.php}\r\n<?php\r\n\r\nset_include_path('\/var\/www\/weby\/library\/');\r\nrequire_once 'Zend\/Db\/Table.php';\r\nrequire_once 'Zend\/Db\/Table\/Abstract.php';\r\nrequire_once 'Zend\/Db.php';\r\n\r\n\r\n$dbAdapter = Zend_Db::factory('mysqli',array(\r\n\t'host'     => '127.0.0.1',\r\n\t'port'     => '3306',\r\n\t'username' => 'root',\r\n\t'password' => '',\r\n\t'dbname'   => 'test'\r\n));\r\n\r\nZend_Db_Table::setDefaultAdapter($dbAdapter);\r\n\r\nclass customer extends Zend_Db_Table_Abstract {\r\n\tprotected $_sequence = true; \/\/ default behavior\r\n\tprotected $_primary = 'id';\r\n}\r\n$data=array();\r\n$data['title']='xxx';\r\n$data['id']=0; \/\/mysql documentation: It is not even changed if you update another AUTO_INCREMENT column with a nonmagic value (that is, a value that is not NULL and not 0). \r\n$table = new customer;\r\n$primary_key=$table->insert($data); \/\/@return mixed The primary key of the row inserted.  \r\n\r\n$lastInsertId = $dbAdapter->lastInsertId();\r\necho \"returnedKey is $primary_key, but lastInsertId is $lastInsertId\\n\";\r\n\r\n?>\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=derk",
                        "name": "derk",
                        "displayName": "Pavel Vrany",
                        "active": true
                    },
                    "created": "2009-12-19T06:24:51.000+0000",
                    "updated": "2009-12-19T06:24:51.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37076",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "That should be discovered by \r\n{code}\r\n$this->assertEquals($insertResult, $lastInsertId);\r\n{code}\r\n\r\nIn your code, you set $data['id'] to 0 (zero), not null. This would not be unset and would explain the behavior (if the mysqli adapter does convert 0 -> null at some point). Could you test with $data['id'] = null and confirm if that works? \r\n\r\nIf I insert 0 as row key directly into MySQL, it is true that is considers it as NULL and thus creates an auto incremented key. This could be easily patched by checking for $data[$pkIdentity] == null instead of === null",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-19T07:21:37.000+0000",
                    "updated": "2009-12-19T07:21:37.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37079",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=derk",
                        "name": "derk",
                        "displayName": "Pavel Vrany",
                        "active": true
                    },
                    "body": "You're right, null value works correctly now. But other empty values returns a bad result: string '', integer 0, array().\r\nAlso everything what isn't number: string 'fsdfdsfs' etc.\r\n\r\nIt's not only \"feature\" of php adapter, I get the same results from the terminal client.\r\n\r\nThe behavior can be also changed: http:\/\/dev.mysql.com\/doc\/refman\/5.5\/en\/server-sql-mode.html#sqlmode_no_auto_value_on_zero\r\n\r\nSolution could be to call the function last_insert_id() before and after the insert(), compare the values and in case of change use the new value as the primary_key.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=derk",
                        "name": "derk",
                        "displayName": "Pavel Vrany",
                        "active": true
                    },
                    "created": "2009-12-19T10:19:00.000+0000",
                    "updated": "2009-12-19T10:19:00.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/37082",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "body": "Actually, empty values like string \"\" and array() would be detected when using the == operator instead of the ==== operator. I don't think an input of \"fsdfsdgsf\" would be wanted anyway when using sequence = true. Maybe should give some Exception, but I'm not sure. I will talk to Ralph or Matthew to decide if loosening the check is wanted tomorrow. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=mluiten",
                        "name": "mluiten",
                        "displayName": "Menno Luiten",
                        "active": true
                    },
                    "created": "2009-12-19T13:25:01.000+0000",
                    "updated": "2009-12-19T13:25:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46079",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "I've attached a test suite patch which, in my mind anyway, proves that this bug no longer exists.  \n\nIn the test, I set 'bug_id' to an empty string then perform the insert.  The return value of insert() is the correct auto value. \n\nThis test passed when using both sqlite in-memory and pdo_mysql adapters. ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-04-28T15:19:55.000+0000",
                    "updated": "2011-04-28T15:19:55.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46086",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Duplicate of ZF-2953",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-04-28T17:58:35.000+0000",
                    "updated": "2011-04-28T17:58:35.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46178",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "body": "Fix in trunk r23878",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=adamlundrigan",
                        "name": "adamlundrigan",
                        "displayName": "Adam Lundrigan",
                        "active": true
                    },
                    "created": "2011-04-28T22:36:07.000+0000",
                    "updated": "2011-04-28T22:36:07.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/46309",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Fixed in release branch 1.11 in r23949",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2011-05-03T03:26:48.000+0000",
                    "updated": "2011-05-03T03:26:48.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/49290",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stadskle",
                        "name": "stadskle",
                        "displayName": "Ketil Stadskleiv",
                        "active": true
                    },
                    "body": "I am receiving the same issue now when the data field is a Zend_Db_Expr('NULL'). This should not stop the db_table to return the new primary key.\r\n\r\n{code:title=$row|borderStyle=solid}\r\n$row = array (\r\n        'bug_id'          => Zend_Db_Expr('NULL'),\r\n        'bug_description' => 'New bug',\r\n        'bug_status'      => 'NEW',\r\n        'created_on'      => '2007-04-02',\r\n        'updated_on'      => '2007-04-02',\r\n        'reported_by'     => 'micky',\r\n        'assigned_to'     => 'goofy',\r\n        'verified_by'     => 'dduck'\r\n    );{code} \r\n\r\nThis causes insert() to return a Zend_Db_Expr('NULL') object, that cannot be the desired behaviour?\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=stadskle",
                        "name": "stadskle",
                        "displayName": "Ketil Stadskleiv",
                        "active": true
                    },
                    "created": "2011-12-20T12:17:51.000+0000",
                    "updated": "2011-12-20T12:17:51.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-3837\/transitions"
}