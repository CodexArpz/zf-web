{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7657",
    "key": "ZF-7657",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Custom Validator Messages may be broken"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7657\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10361",
                    "id": 10361,
                    "description": "Mini Release",
                    "name": "1.9.2",
                    "userReleaseDate": "25\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-25",
                    "released": true
                }
            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2009-08-24T00:48:53.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgtcrumb",
                "name": "sgtcrumb",
                "displayName": "David Joly",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2009-08-21T13:28:24.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2009-09-30T18:32:11.000+0000"
        },
        "customfield_10041": {
            "name": "Tags",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:labels",
            "value": [
                "Custom_Error_Messages",
                "Validate"
            ]
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Hello all,\n\nI just finished pulling my hair out trying to figure out why my following code failed to set custom error messages.\n\n$email = new Zend_Form_Element_Text('email');\n  $email->setRequired(true)\n\t       ->setDecorators(array('ViewHelper',array('JQueryErrors', array('placement' => 'prepend'))))\n\t       ->setFilters(array('StringTrim', 'StringToLower'))\n\t       ->addValidator('EmailAddress',false,array({color:red}'messages' => array(\n                                    'emailAddressInvalid' => 'Please provide a valid email address.',\n\t\t\t  \t    'emailAddressInvalidHostname' => 'Please provide a valid email address.'{color}\n\t\t\t  )));\n\n\nI searched through Zend_Validate_Abstract and some individual classes to see if any changes were made and couldn't find any (not the best way I know :)).\nI figured something must have been fixed for the 1.9.1 release that broke this feature. To be sure, I rolled back to version 1.8.2 and the above code\ndoes work.\n\nMy development environment is as follows:\nWindows XP Pro SP2\nApache 2.2\nPHP 5.2.5\n"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7657\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                "name": "thomas",
                "displayName": "Thomas Weidner",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/version\/10350",
                    "id": 10350,
                    "description": "Mini Release",
                    "name": "1.9.1",
                    "userReleaseDate": "11\/Aug\/09",
                    "archived": false,
                    "releaseDate": "2009-08-11",
                    "released": true
                }
            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF",
                "key": "ZF",
                "name": "Zend Framework",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10140",
                    "id": 10140,
                    "name": "Zend_Validate",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33774",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "\"Does not work\" is not enough information.\nWhat is your input, and which errorkeys and messages are returned ?",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-08-22T07:33:42.000+0000",
                    "updated": "2009-08-22T07:33:42.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33806",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgtcrumb",
                        "name": "sgtcrumb",
                        "displayName": "David Joly",
                        "active": true
                    },
                    "body": "Hi Thomas,\n\nI examined the error keys being returned and they were the same as I have in my code snippet. The default messages were simply not being overridden with my custom messages. \n\nInput: My typical testing input is anything that should cause a validation failure.\n\nError keys and message pairs:\n'emailAddressInvalid' \t\t                => \"'%value%' is not a valid email address in the basic format local-part@hostname\",\n'emailAddressInvalidHostname' \t=> \"'%hostname%' is not a valid hostname for email address '%value%'\",\n'emailAddressInvalidMxRecord' \t=> \"'%hostname%' does not appear to have a valid MX record for the email address '%value%'\"\n'emailAddressDotAtom' \t\t        => \"'%localPart%' not matched against dot-atom format\"\n'emailAddressQuotedString' \t\t=> \"'%localPart%' not matched against quoted-string format\"\n'emailAddressInvalidLocalPart' \t=> \"'%localPart%' is not a valid local part for email address '%value%'\"\n'emailAddressLengthExceeded' \t=> \"'%value%' exceeds the allowed length\" \n\nI didn't try testing all of these (or any other validators for that matter). I just downloaded 1.9.1 a couple days ago and was working on my first form when the bug manifested itself. After spending an hour or so trying to figure out why the default messages were not being overridden I rolled back to 1.8.2 and everything works fine.\n\n'emailAddressInvalid' was definitely returning the default message: \"'test value' is not a valid email address in the basic format local-part@hostname\"\n\nI'll reinstall 1.9.1 and see if I can repeat the issue with other validators when I find the time.\n\nBest Regards",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgtcrumb",
                        "name": "sgtcrumb",
                        "displayName": "David Joly",
                        "active": true
                    },
                    "created": "2009-08-23T00:47:44.000+0000",
                    "updated": "2009-08-23T00:47:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33808",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "I need your Input, what you got as Failure Message, how you setup your custom messages and what you expected to get returned.\n\nUnittests and own tests show no problem so I need more informations.\n\n\"Anything that causes a failure\" is also tested by our Unittests... when this would be enough information I would have seen the error :-)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-08-23T01:38:28.000+0000",
                    "updated": "2009-08-23T01:38:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33830",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgtcrumb",
                        "name": "sgtcrumb",
                        "displayName": "David Joly",
                        "active": true
                    },
                    "body": "Hi Thomas,\n\nI am pleased to announce that I found the bug. It was in my head :) Sorry for waisting your time. I am not a professional programmer ATM and I am still very green with this stuff.  I guess it's better that I make my mistakes now rather than later, right?\n\nAgain, I want to apologize for jumping the gun here. Also, I want to thank you and the rest of the Zend Framework contributors for all your patience and hard work to bring people like me such a fantastic code base to work with (and for putting up with false alarms:)). \n\nBest regards,\n\nDavid ",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=sgtcrumb",
                        "name": "sgtcrumb",
                        "displayName": "David Joly",
                        "active": true
                    },
                    "created": "2009-08-23T21:10:14.000+0000",
                    "updated": "2009-08-23T21:10:14.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/33833",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "body": "It's no problem for us.\nThat's why we are here.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=thomas",
                        "name": "thomas",
                        "displayName": "Thomas Weidner",
                        "active": true
                    },
                    "created": "2009-08-24T00:48:46.000+0000",
                    "updated": "2009-08-24T00:48:46.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/35027",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmasson",
                        "name": "dmasson",
                        "displayName": "Daniel Masson",
                        "active": true
                    },
                    "body": "David, ... can you plz post how did you get this solved ??, .. I'm having very similar issues, ... \n\nthank you",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dmasson",
                        "name": "dmasson",
                        "displayName": "Daniel Masson",
                        "active": true
                    },
                    "created": "2009-09-30T18:32:02.000+0000",
                    "updated": "2009-09-30T18:32:02.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF-7657\/transitions"
}