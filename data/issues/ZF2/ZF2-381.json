{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-381",
    "key": "ZF2-381",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Use \"assert\" when it's possible"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/4",
                "name": "Improvement",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-381\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/2",
                "name": "Won't Fix"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-06-28T21:22:00.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bouchery",
                "name": "bouchery",
                "displayName": "Frederic Bouchery",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2012-06-28T21:03:49.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-07-05T13:29:35.000+0000"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Everywhere in the code, developers checks parameters type ou return values with \"if\" + \"instanceof\/is_array\/is_string\/etc.\" + \"throw exception\".\r\nIt's not a good idea for performance because, this check will stay when configuration\/implementation will be stabilized.\r\n\r\nDo you know PHP \"assertion\" ? Use it please :)"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-381\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/6",
                "name": "Closed"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF2",
                "key": "ZF2",
                "name": "Zend Framework 2.0",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [

            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51223",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "There are a variety of reasons to use conditionals + throw. Using assert() does not necessarily change that -- we still have to check if the condition is false, and notify the caller (typically via an exception). \r\n\r\nIf you can demonstrate tangible benefits -- specifically, a pull request, with benchmarks -- we can consider this change. That said, it's a broad change, and not one likely to get support unless you or somebody else invested in such a change is willing to drive it through contributions.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-06-28T21:18:28.000+0000",
                    "updated": "2012-06-28T21:18:28.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51224",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Additionally, please read the following:\r\n\r\n* http:\/\/www.travisswicegood.com\/2005\/08\/09\/assert_good_or_evil\/\r\n* http:\/\/php.net\/assert\r\n\r\nThat last link, from the PHP manual itself, provides some interesting feedback contrary to your request:\r\n\r\n{quote}\r\nAssertions should be used as a debugging feature only. You may use them for sanity-checks that test for conditions that should always be TRUE and that indicate some programming errors if not or to check for the presence of certain features like extension functions or certain system limits and features.\r\n\r\nAssertions should not be used for normal runtime operations like input parameter checks. As a rule of thumb your code should always be able to work correctly if assertion checking is not activated.\r\n{quote}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-06-28T21:20:52.000+0000",
                    "updated": "2012-06-28T21:20:52.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51225",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Closing, as requires somebody to drive, and due to evidence indicating request may not have the intended effect.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-06-28T21:22:01.000+0000",
                    "updated": "2012-06-28T21:22:01.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51227",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bouchery",
                        "name": "bouchery",
                        "displayName": "Frederic Bouchery",
                        "active": true
                    },
                    "body": "I'm fighting every single day to make it clear to developers the difference between user data checking and developer design checking.\r\nThe PHP manuel is a little bit wrong : \"assert\" is not a \"debugging\" feature, but a code design check, like type hint.\r\nExample : \r\n<?php\r\nfunction MyFuntion(MyClass $object, array $array, $string, $int) {\r\n  assert('is_string($string) and is_int($int)');\r\n  \/\/\/...\r\n}\r\n?>\r\n\r\nIf you are using \"type hint\", you can understand \"assert\" : when code design is stabilized, on production server, assert are deactivated, and no more check are performed => performance.\r\n\r\nHere a sample from ZF2 module manager in loadModule method : \r\n\r\n<?php\r\n        \/\/  ....\r\n        $module = $result->last();\r\n\r\n        if (!is_object($module)) {\r\n            throw new Exception\\RuntimeException(sprintf(\r\n                'Module (%s) could not be initialized.',\r\n                $moduleName\r\n            ));\r\n        }\r\n        \/\/  ....\r\n?>\r\n\r\nWhen development and configuration are stabilized, why continue to test if \"$module\" is an object because, it will be true each time ?\r\nIn this case, \"assert\" is a kind of \"type hint\" for method result.\r\nI think, each time you use \"RuntimeException\", it can be replace with an assert.\r\n\r\nI can drive these changes if you want, but it is necessary for other developers to understand \"design by contract\" and \"assertion\" to stop using \"RuntimeException\".\r\n\r\nFrederic - Developer since 1983, PHP developer since 1998, architect and lead developer for ages :)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bouchery",
                        "name": "bouchery",
                        "displayName": "Frederic Bouchery",
                        "active": true
                    },
                    "created": "2012-06-29T07:39:44.000+0000",
                    "updated": "2012-06-29T07:39:44.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51255",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bouchery",
                        "name": "bouchery",
                        "displayName": "Frederic Bouchery",
                        "active": true
                    },
                    "body": "My apologies, I performed some benchmark, and I noticed \"assert(instanceof)\" is 20 times slower than \"if(!instanceof)\" with assertions disabled (and 50 times when enabled).\r\n\r\nMy whole world is falling apart ;)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=bouchery",
                        "name": "bouchery",
                        "displayName": "Frederic Bouchery",
                        "active": true
                    },
                    "created": "2012-07-04T11:52:17.000+0000",
                    "updated": "2012-07-04T11:52:17.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51265",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Frederic -- that was the conclusion in the first link I provided as well -- that performance of assert() is very bad regardless of whether or not it is enabled (the author there noticed only a 25% improvement between enabling and disabling, and these numbers were still many times worse than not using assert() at all).\r\n\r\nI suspect this may be part of the reasoning behind the note in the PHP manual recommending them for development and debugging only.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-07-05T13:29:35.000+0000",
                    "updated": "2012-07-05T13:29:35.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-381\/transitions"
}