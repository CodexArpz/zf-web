{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-260",
    "key": "ZF2-260",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Support for classnames as parameter value in DI"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/2",
                "name": "New Feature",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-260\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/1",
                "name": "Fixed"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-06-25T21:27:08.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                "name": "dershao",
                "displayName": "Stefan Kleff",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2012-04-11T14:52:13.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-06-25T21:27:08.000+0000"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "Currently I'm trying to configure Doctrine2 with ZF2\/DI and in some cases it's necessary to specify a class name (string).\r\nExample: \"defaultRepositoryClassName\" parameter of Doctrine\\ORM\\Configuration should be something like \"MyLib\\MyRepository\" \r\nThis is (afaik) not possible with the current DIC because \"MyLib\\MyRepository\" will be recognized as class and therefore it will we instantiated and a reference will be used during injection."
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/3",
                "name": "Major"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-260\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [
                "ClassName",
                "DI",
                "Doctrine",
                "String"
            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                "name": "ralph",
                "displayName": "Ralph Schindler",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF2",
                "key": "ZF2",
                "name": "Zend Framework 2.0",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/component\/10620",
                    "id": 10620,
                    "name": "Zend\\Di",
                    "description": "Dependency Injection Component",
                    "isAssigneeTypeValid": false
                }
            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50280",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                        "name": "dershao",
                        "displayName": "Stefan Kleff",
                        "active": true
                    },
                    "body": "{code}\r\nreturn array(\r\n    'di' => array(\r\n        'definition' => array(\r\n            'class' => array(\r\n                'Doctrine\\ORM\\Configuration' => array(\r\n                    'methods' => array(\r\n                        'setDefaultRepositoryClassName' => array(\r\n                                'defaultRepositoryClassName' => array('type' => false, 'required' => true)\r\n                        ),\r\n                     ),\r\n                ),\r\n            ),\r\n        ),\r\n    ),\r\n);\r\n{code}",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2012-04-11T15:14:48.000+0000",
                    "updated": "2012-05-31T20:24:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50281",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                        "name": "dershao",
                        "displayName": "Stefan Kleff",
                        "active": true
                    },
                    "body": "'type' => false does the magic ;)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                        "name": "dershao",
                        "displayName": "Stefan Kleff",
                        "active": true
                    },
                    "created": "2012-04-11T15:15:20.000+0000",
                    "updated": "2012-04-11T15:15:20.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/50323",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                        "name": "dershao",
                        "displayName": "Stefan Kleff",
                        "active": true
                    },
                    "body": "Assuming that type => false is the correct way to inject strings instead of classnames, I found another part where this is currently not working:\r\n\r\nUse case:\r\nThere is a class with a method which expects a classname (not an instance). You want to inject multiple class names in this method\r\n\r\nGiven:\r\ndefinition with method \"addMyParam\" and a param \"myClassName\" => array('type'=>false).\r\ninstance with 'injections' array to set the classnames.\r\n\r\nResult:\r\nSomehow the class definition of the given class names is already known by DI. Maybe because of some RunetimeDefinition (I just started looking into DI). During resolveMethodParameters() in the \"priority 1\"-code the given string (classname) will be checked if the string is a known class name (which is the case) and instantiated. \r\n\r\nExpected:\r\nStill assuming that type=>false indicates that it is a string instead of an object, it should not instntiate the class.\r\n\r\nBugfix:\r\nChecking if the classname is known by the DI \r\nAND checking if type !== false\r\n",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=dershao",
                        "name": "dershao",
                        "displayName": "Stefan Kleff",
                        "active": true
                    },
                    "created": "2012-04-18T09:47:58.000+0000",
                    "updated": "2012-04-18T09:47:58.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51212",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "body": "Fixed in master",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=ralph",
                        "name": "ralph",
                        "displayName": "Ralph Schindler",
                        "active": true
                    },
                    "created": "2012-06-25T21:27:08.000+0000",
                    "updated": "2012-06-25T21:27:08.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-260\/transitions"
}