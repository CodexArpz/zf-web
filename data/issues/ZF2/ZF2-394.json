{
    "expand": "html",
    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-394",
    "key": "ZF2-394",
    "fields": {
        "summary": {
            "name": "summary",
            "type": "java.lang.String",
            "value": "Capitalizing a letter in action name in URL makes everything crash"
        },
        "timetracking": {
            "name": "timetracking",
            "type": "com.atlassian.jira.issue.fields.TimeTrackingSystemField"
        },
        "issuetype": {
            "name": "issuetype",
            "type": "com.atlassian.jira.issue.issuetype.IssueType",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issueType\/1",
                "name": "Bug",
                "subtask": false
            }
        },
        "votes": {
            "name": "votes",
            "type": "com.atlassian.jira.issue.fields.VotesSystemField",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-394\/votes",
                "votes": 0,
                "hasVoted": false
            }
        },
        "security": {
            "name": "security",
            "type": "com.atlassian.jira.issue.security.IssueSecurityLevel"
        },
        "resolution": {
            "name": "resolution",
            "type": "com.atlassian.jira.issue.resolution.Resolution",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/resolution\/6",
                "name": "Not an Issue"
            }
        },
        "fixVersions": {
            "name": "fixVersions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "resolutiondate": {
            "name": "resolutiondate",
            "type": "java.util.Date",
            "value": "2012-07-12T13:39:34.000+0000"
        },
        "reporter": {
            "name": "reporter",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                "name": "matskrug",
                "displayName": "Mats Svensson",
                "active": true
            }
        },
        "created": {
            "name": "created",
            "type": "java.util.Date",
            "value": "2012-07-12T11:59:30.000+0000"
        },
        "updated": {
            "name": "updated",
            "type": "java.util.Date",
            "value": "2012-07-12T15:01:29.000+0000"
        },
        "description": {
            "name": "description",
            "type": "java.lang.String",
            "value": "I have a controller named UserAdmin that is routed to as \"useradmin\". One of the actions is named newuserAction().\r\n\r\nCalling i like http:\/\/localhost\/useradmin\/newuser works as expected\r\nTrying to do something like http:\/\/localhost\/useradmin\/notavalidaction will of course show an error, as the action doesn't exist.\r\n\r\nHOWEVER, doing something like http:\/\/localhost\/useradmin\/newUser\r\nwill make everything crash. It will properly dispatch the newuserAction(), BUT it will look for a template file called new-user.phtml instead of the existing one; newuser.phtml\r\n\r\nIt's a bit annoying how hard it crashes. I think it should either crash as not a valid action, or just use the proper template.\r\n\r\nI can work around it by creating a ViewModel and specify the template, but that is a bit tedious.\r\n\r\nMats"
        },
        "priority": {
            "name": "priority",
            "type": "com.atlassian.jira.issue.priority.Priority",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/priority\/4",
                "name": "Minor"
            }
        },
        "duedate": {
            "name": "duedate",
            "type": "java.util.Date"
        },
        "customfield_10022": {
            "name": "Fix Version Priority",
            "type": "com.atlassian.jira.plugin.system.customfieldtypes:select"
        },
        "watcher": {
            "name": "watcher",
            "type": "watcher",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-394\/watchers",
                "isWatching": false,
                "watchCount": 0
            }
        },
        "worklog": {
            "name": "worklog",
            "type": "worklog",
            "value": [

            ]
        },
        "status": {
            "name": "status",
            "type": "com.atlassian.jira.issue.status.Status",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/status\/5",
                "name": "Resolved"
            }
        },
        "labels": {
            "name": "labels",
            "type": "com.atlassian.jira.issue.label.Label",
            "value": [

            ]
        },
        "assignee": {
            "name": "assignee",
            "type": "com.opensymphony.user.User",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                "name": "matthew",
                "displayName": "Matthew Weier O'Phinney",
                "active": true
            }
        },
        "links": {
            "name": "links",
            "type": "issuelinks",
            "value": [

            ]
        },
        "attachment": {
            "name": "attachment",
            "type": "attachment",
            "value": [

            ]
        },
        "sub-tasks": {
            "name": "sub-tasks",
            "type": "issuelinks",
            "value": [

            ]
        },
        "versions": {
            "name": "versions",
            "type": "com.atlassian.jira.project.version.Version",
            "value": [

            ]
        },
        "project": {
            "name": "project",
            "type": "com.atlassian.jira.project.Project",
            "value": {
                "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/project\/ZF2",
                "key": "ZF2",
                "name": "Zend Framework 2.0",
                "roles": {

                }
            }
        },
        "components": {
            "name": "components",
            "type": "com.atlassian.jira.bc.project.component.ProjectComponent",
            "value": [

            ]
        },
        "comment": {
            "name": "comment",
            "type": "com.atlassian.jira.issue.fields.CommentSystemField",
            "value": [
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51330",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This is intended behavior. An action (or controller, or module namespace, for that matter) using camelCase implies word separation, and the default behavior when resolving view scripts is to use a word separator.\r\n\r\nIf you want different behavior, register a listener on the application's \"dispatch\" event, at a priority greater than -90 (we're going to introduce constants for this before RC1) that normalizes the names as you want them, and which injects that name into the result view model. Alternately, explicitly return a view model from your controllers, and manually inject the template name.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-07-12T13:39:21.000+0000",
                    "updated": "2012-07-12T13:39:21.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51331",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "body": "Not sure if I don't get what you're saying, or if you are not seeing my point here. :)\r\n\r\nIs it intended that by altering the case of the letters in the URL, the SAME ACTION will be dispatched, but it will look for DIFFERENT template files that possibly doesn't exist and then crash the application?\r\n\r\nI know that camelCase will look for camel-case templates, but that's not my issue here.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "created": "2012-07-12T13:54:18.000+0000",
                    "updated": "2012-07-12T13:56:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51332",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "Altering the case in your URL is technically a different URL -- path_info is case sensitive. So, the other possibility is that you should tighten up your routes to only match a single case. Alternately, add a route listener at low priority that will lowercase the action name if you want to allow case insensitive action names, which will also address the issue.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-07-12T13:57:47.000+0000",
                    "updated": "2012-07-12T13:57:47.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51336",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "body": "Just a bit annoying with inconsistency. URL is case sensitive, then it dispatches an action case-insensitive before looking up the template case sensitive(\/based on case).\r\n\r\nThen I would much better like the default behavior to match the action by case as well. As you wrote, http:\/\/localhost\/useradmin\/newUser is technically a different URL than http:\/\/localhost\/useradmin\/newuser, and so I consider it a misspelling in the same way as http:\/\/localhost\/useradmin\/newXser. After all, my action is in all lowercase.\r\nIt works the other way as well. I can have newUser as the preferred URL, and new-user.phtml as template. But someone accessing useradmin\/newuser will then crash hard, as it cannot find newuser.phtml. Here, disabling uppercase in route is not an option.\r\n\r\nNow the latter one will produce a message that the action doesn't exist, while the newUser (which is wrong as well) will be run and crash harder.\r\nMy issue is that users can make it crash hard by altering the URL, just convert a single letter's case. Not 404 hard as you would expect from changing the URL, but much harder.\r\n\r\nSo if it's intended behavior, fine. But it's pretty inconvenient and I would suggest having a different default behavior. To fix it I would have to stop returning an array of values, I would instead have to manually set up the view with the right template and return it for every action.\r\n\r\nI'm not going to bother you anymore with this issue now, just making sure you understand what I mean and the problems I'm having. :)\r\nHave a nice day.\r\nMats",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "created": "2012-07-12T14:24:34.000+0000",
                    "updated": "2012-07-12T14:24:34.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51337",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "This behavior is exactly the same in ZF1, and has been for years; we introduced it to ZF2 as well in part because many developers were expecting it to work exactly this way. :)\r\n\r\nAs I noted: if you are going to allow case-insensitive URLs that resolve to the same action, you'll need to take care to either (a) explicitly set the template you intend in the view model you return from your action, or (b) munge the action in the route match to lowercase via a listener somewhere.\r\n\r\nOur recommendation is that you should use case sensitive matching of URLs, as it avoids these issues.",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-07-12T14:30:53.000+0000",
                    "updated": "2012-07-12T14:30:53.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51338",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "body": "> Our recommendation is that you should use case sensitive matching of URLs, as it avoids these issues.\r\nI WOULD like the URLs to be case sensitive, but currently they are not as different cases resolve to the same action, which is my issue here. Am I missing something here, or how should that be configured? As for now, I'm just extending AbstractActionController with a basic [a-zA-Z][a-zA-Z0-9_-]* action match in the routing.\r\n\r\n(sorry, your answer raised some questions)",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matskrug",
                        "name": "matskrug",
                        "displayName": "Mats Svensson",
                        "active": true
                    },
                    "created": "2012-07-12T14:44:08.000+0000",
                    "updated": "2012-07-12T14:44:08.000+0000"
                },
                {
                    "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/comment\/51339",
                    "author": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "body": "That regex is case insensitive -- you're matching both lowercase and uppercase. To make it case insensitive use either the range \"a-z\" or \"A-Z\", but not both (i.e., \"[a-z][a-z0-9_-]*\" or \"[A-Z][A-Z0-9_-]*\").",
                    "updateAuthor": {
                        "self": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/user?username=matthew",
                        "name": "matthew",
                        "displayName": "Matthew Weier O'Phinney",
                        "active": true
                    },
                    "created": "2012-07-12T15:01:29.000+0000",
                    "updated": "2012-07-12T15:01:29.000+0000"
                }
            ]
        }
    },
    "transitions": "http:\/\/fw02.zend.com\/issues\/rest\/api\/latest\/issue\/ZF2-394\/transitions"
}