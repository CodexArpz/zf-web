233,234c233,234
<         if (array_key_exists($locale, $this->_translate)) {
<            if (array_key_exists($messageId, $this->_translate[$locale])) {
---
>         if (array_key_exists($locale, $this->_translate) and
>             array_key_exists($messageId, $this->_translate[$locale])) {
237d236
<            }
258c257
<      * 
---
>      *
282,283c281,282
<         if (array_key_exists($locale, $this->_translate)) {
<            if (array_key_exists($messageId, $this->_translate[$locale])) {
---
>         if (array_key_exists($locale, $this->_translate) and
>             array_key_exists($messageId, $this->_translate[$locale])) {
286d284
<            }
