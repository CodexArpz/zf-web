<h2>ZF-4924: Zend_Amf_Server setClass ignores additional arguments passed as argv</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-11-12T05:29:55.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-12-21T05:57:03.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.7.1 (01/Dec/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Wade Arnold (wadearnold)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Amf</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The method setClass($class, $namespace = '', $argv = null) of Zend_Amf_Server ignores the third argument which should be used to pass additional arguments to the later called method.</p>

<p>Current source code Zend/Amf/Server.php line 394:
    if (3 &lt; func_num_args()) {</p>

<p>Since the number of arguments is equal 3 if additional arguments are passed as $argv the test should be modified to:
    if (2 &lt; func_num_args()) {</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Wade Arnold (wadearnold) on 2008-11-16T14:36:56.000+0000</p> 
        <div class="body">
            <p>I was able to recreate this issue. The count is 3 in order to add arguments but it is a base zero count so it needs to be 2. 0-1-2 to check that arguments were passed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wade Arnold (wadearnold) on 2008-11-19T16:03:08.000+0000</p> 
        <div class="body">
            <p>I have checked in this issue to the 1.7.0 trunk to close this bug.</p>

<p>Wade</p>

        </div>
    </div>
    </div>

