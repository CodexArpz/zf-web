<h2>ZF-4859: Array not escaped properly in ZendX_JQuery_Form_Element_AutoComplete</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-11-07T11:20:13.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-11-22T18:25:41.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Dolf Schimmel (Freeaqingme) (freak)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>ZendX_JQuery</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <pre class="highlight"><code>$lastname = new ZendX_JQuery_Form_Element_AutoComplete("Lastname", array('label' =&gt; 'Lastname'));
$this-&gt;addElement($lastname);
$this-&gt;Lastname-&gt;setJQueryParam('data',$array);</code></pre>

<p>//renders to:
    $("#Lastname").autocomplete({"data":[["Schimmel"]]});
// while it should be:
    $("#Lastname").autocomplete({"data":["Schimmel"]});</p>

<p>$array:
array(1) {
  [0]=&gt;
  string(8) "Schimmel"
}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2008-11-07T22:39:01.000+0000</p> 
        <div class="body">
            <p>Hello Dolf,</p>

<p>i have added a test-case into ZendX_JQuery_Form_ElementTest. Can you verify this one?</p>

<p>I have checked with both encoding mechanisms, that your behaviour should not appear. Can you provide
more information on this case? Maybe even try to do an Xdebug session and check, when</p>

<p>$data = array(array(0 =&gt; 'John Doe'));</p>

<p>happens.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Dolf Schimmel (Freeaqingme) (freak) on 2008-11-22T18:25:39.000+0000</p> 
        <div class="body">
            <p>Just fixed it. Stupidity of the developer turned out to be the problem.</p>

        </div>
    </div>
    </div>

