<h2>ZF-2226: Zend_Db_Statement prints out debug information</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2007-11-22T12:41:42.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-11-26T15:32:04.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.0.3 (30/Nov/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Revision 6903 contains print commands:</p>

<p>182:        // get a version of the SQL statement with all quoted
183:        // values and delimited identifiers stripped out
184:        // remove "foo\"bar"
185:print "\<a>n1:/$d</a>($de|[^$d])<em>$d/";
186:        $sql = preg_replace("/$d($de|[^$d])</em>$d/", '', $sql);
187:        // remove 'foo\'bar'
188:print "\<a>n2:/$q</a>($qe|[^$q])<em>$q/";
189:        $sql = preg_replace("/$q($qe|[^$q])</em>$q/", '', $sql);</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jeffrey Sambells (jeffrey) on 2007-11-22T12:56:30.000+0000</p> 
        <div class="body">
            <p>Here's a patch to fix it:</p>

<h1>Index: wc-5-288/zend/library/Zend/Db/Statement.php</h1>

<p>--- wc-5-288/zend/library/Zend/Db/Statement.php (revision 6903)
+++ wc-5-288/zend/library/Zend/Db/Statement.php (working copy)
@@ -182,10 +182,8 @@
         // get a version of the SQL statement with all quoted
         // values and delimited identifiers stripped out
         // remove "foo\"bar"
-print "\<a>n1:/$d</a>($de|[^$d])<em>$d/";
         $sql = preg_replace("/$d($de|[^$d])</em>$d/", '', $sql);
         // remove 'foo\'bar'
-print "\<a>n2:/$q</a>($qe|[^$q])<em>$q/";
         $sql = preg_replace("/$q($qe|[^$q])</em>$q/", '', $sql);</p>

<pre><code>     return $sql;
</code></pre>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-11-26T15:32:04.000+0000</p> 
        <div class="body">
            <p>Fixed with SVN6922 by peptolab</p>

        </div>
    </div>
    </div>

