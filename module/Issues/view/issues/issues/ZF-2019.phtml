<h2>ZF-2019: Zend_Http_Client-&gt;setHeaders() is too strict... </h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2007-10-01T09:08:33.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-07-24T04:25:46.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.5.0 (17/Mar/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Eric Coleman (eric)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Shahar Evron (shahar)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Http_Client</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-6333">ZF-6333</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/10833/zend-http-client-strict.patch">zend-http-client-strict.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>setHeaders() checks the header name to make sure it's valid.  Some vendors, such as SWSoft provide a API that requires several non-standard HTTP headers.  I attached a patch to make it strict/not strict</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Kevin McArthur (kevin) on 2007-10-10T15:15:09.000+0000</p> 
        <div class="body">
            <p>I'd suggest that instead of adding strict mode settings that instead the job of adding http compliant headers be left up to the programmer. At the least, we shouldn't purposefully make sw-softs api incompatible, and at the best, the regexp just isnt needed and is only extra processing and weight.</p>

<p>I'd change the patch to remove the check.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-10-15T14:01:35.000+0000</p> 
        <div class="body">
            <p>Assigned to Shahar</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Shahar Evron (shahar) on 2007-10-16T12:07:28.000+0000</p> 
        <div class="body">
            <p>Should now be fixed in r. 6648. You can disable header name checking by passing the 'strict' =&gt; 'false' configuration option to the client.</p>

        </div>
    </div>
    </div>

