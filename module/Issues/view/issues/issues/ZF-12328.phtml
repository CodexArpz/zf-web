<h2>ZF-12328: Zend Dojo Form Viewscript does not provide a way to add the form to the zenddijits array</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2012-07-09T19:21:11.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-07-13T06:55:52.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Garth T Ogle (riverc)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
            <li>documentation</li>
            <li>viewscript</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Essentially, if I use (while in a zend dojo form constructor)</p>

<pre class="highlight"><code>
$this-&gt;setDecorators(array(
                array('ViewScript', array('viewScript' =&gt; '[viewscript].phtml'))
            ));
</code></pre>

<p>Then the following:</p>

<p>(in the view itself)</p>

<pre class="highlight"><code>
&lt;?php Zend_Dojo::enableView($this); ?&gt;
</code></pre><div class="nihilo&gt; &lt;?php echo $this-&gt;form; ?&gt; &lt;/div&gt; &lt;/code&gt;&lt;/pre&gt; In the viewscript all elements echoed using &lt;pre class="><code><code>
$this-&gt;element-&gt;[name] 
</code>
Are properly created as dijits.

However, there is no documented method of getting the form added to the list, i.e:
</code><pre class="highlight"><code><code>
// 
</code></code></pre><code>
Which is to say, either this method does not exist (to get the form added you must omit the viewscript entirely) or it exists but there is insufficient documentation. If there is documentation, I cannot find it. In fact, I cannot find information on whether this function exists or not. 

Note that if I omit the viewscript file and instead do
</code><pre class="highlight"><code><code>
    &lt;?php echo $this-&gt;form; ?&gt;
</code></code></pre><code>
But this precludes the creation of designer / developer partitioning templates; i.e. templates that are simple html and can be edited and re-arranged by a designer. 

I'm not sure if this is a bug, a feature, or a documentation/community failure. But this is a major problem for us, since I did not read anything warning me against trying to combine dojo with viewscripts.

Note, I can confirm the problem is that it is not added as a dijit. On regular non-viewscript forms we see (in firebug)
</code><pre class="highlight"><code><code>
dijit.byId('form-id'); 
</code></code></pre><code>

</code><p><code>returns a valid dijit object. When we use a viewscript, it does not.</code></p><code>

</code><p><code>Since I have not found any assistance on the issue, I'm assuming it is a bug/documentation problem.</code></p><code>
</code></div><code></code>
    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

