<h2>ZF-12142: Code128 Barcode Object does not respect barThinWidth option</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2012-04-10T12:36:06.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-04-13T08:57:56.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.11.12 (22/Jun/12)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Mickael Perraud (mikaelkael)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Barcode</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-11106">ZF-11106</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>In Zend_Barcode_Object_Code128 when adding entries to the $barcodeTable in _prepareBarcode all entries are added with a width of 1 pixel instead of respecting the barThinWidth option.</p>

<p>This results in barcodes being output where the bars fill only a fraction of the available width.</p>

<p>It's worth noting that _calculateBarcodeWidth does respect this option correctly.</p>

<pre class="highlight"><code>
$barcodeTable[] = array($c, 1, 0, 1);
</code></pre>

<pre class="highlight"><code>
$barcodeTable[] = array($c, $this-&gt;_barThinWidth, 0, 1);
</code></pre>

<p>As a workaround the scaling factor option may be provided instead so long as the barThinWidth is left at 1.  This is not ideal however and does of course impact other sizing calculations.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Trevor North (trevor) on 2012-04-13T08:38:02.000+0000</p> 
        <div class="body">
            <p>Version number blindness on my part here. This is in fact resolved as part of ZF-11106.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Mickael Perraud (mikaelkael) on 2012-04-13T08:57:55.000+0000</p> 
        <div class="body">
            <p>Exactly, that was corrected with ZF-11106</p>

        </div>
    </div>
    </div>

