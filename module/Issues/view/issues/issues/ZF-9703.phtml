<h2>ZF-9703: Zend_Json::decode(Zend_Json::encode(&quot;1&quot;)) returns NULL instead of &quot;1&quot;</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-04-18T20:32:09.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-04-26T00:22:18.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.4 (28/Apr/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Stephan Nachtsheim (mestrona_nachtsheim)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Json</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Json::decode(Zend_Json::encode("1"))</p>

<p>expecting: string(1) "1"
actual: NULL</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by __jul__ (__jul__) on 2010-04-24T09:26:05.000+0000</p> 
        <div class="body">
            <p>I'm unable to reproduce this bug:</p>

<p>var_dump(Zend_Json::decode(Zend_Json::encode("1")));</p>

<p>-&gt; string(1) "1"</p>

<p>I've tested it in 1.10.2 and 1.10.3 - both versions yield the same result.</p>

<p>[EDIT: I was unable to reproduce the bug, but someone pointed out to me that it could be a PHP-related bug, because Zend_Json mostly uses <a href="http://php.net/json">http://php.net/json</a>. Can you tell us what version of PHP you are using?]</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Stephan Nachtsheim (mestrona_nachtsheim) on 2010-04-25T01:02:26.000+0000</p> 
        <div class="body">
            <p>yes, it's about the php-functions json_encode and json_decode. Zend Framework uses them, if the functions exist.</p>

<p>there is also a related bug-report: <a href="http://bugs.php.net/bug.php?id=38680">http://bugs.php.net/bug.php?id=38680</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by __jul__ (__jul__) on 2010-04-25T02:38:30.000+0000</p> 
        <div class="body">
            <p>Thanks - I have a better understanding of the underlying problem now, but according to that bug report, it sounds as though they've squashed the bug.</p>

<p>To confirm, I installed PHP 5.2.4 (the earliest version of PHP that ZF currently supports), and I was still unable to reproduce the bug.</p>

<p>Are you using an earlier version of PHP? If so, I think we should resolve this as "could not reproduce" or "not a bug".</p>

<p>However, if you're using 5.2.4 or greater, then I guess we'll have to dig a bit deeper to find out what's going on.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Stephan Nachtsheim (mestrona_nachtsheim) on 2010-04-26T00:07:14.000+0000</p> 
        <div class="body">
            <p>you are right, its still PHP 5.2.0-8+etch16</p>

        </div>
    </div>
    </div>

