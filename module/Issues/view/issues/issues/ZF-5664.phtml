<h2>ZF-5664: getTotalResults return object, not integer</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-01-31T16:50:07.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-04-02T16:37:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.1 (12/May/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Philip Kimmey (philipk)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Trevor Johns (tjohns)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>On a Gdata feed getTotalResults returns an object not an integer as the documentation suggests.</p>

<p>It is possible I am making an error of some sort, but this seems to be a pretty big problem.</p>

<p>Example code is as follows:</p>

<p>$resultsNum = $feed-&gt;getTotalResults();
echo gettype($resultNum);</p>

<p>This returns "object" rather than the expected "integer"</p>

<p>Thanks.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2009-02-21T02:46:53.000+0000</p> 
        <div class="body">
            <p>I correct the component from Zend_Feed to Zend_Gdata and auto re-assign.</p>

<p>Because Zend_Gdata_Feed has this issue ,  not in Zend_Feed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-02-23T13:45:00.000+0000</p> 
        <div class="body">
            <p>This is a documentation bug. getTotalResults() is used to return the openSearch:totalResults element.</p>

<p>The code you want to use:</p>

<p>$resultsNumObj = $feed-&gt;getTotalResults();
$resultsNum = $resultsNumObj-&gt;getText();
echo gettype($resultNum);</p>

<p>I'll update the documentation...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-02-23T13:53:01.000+0000</p> 
        <div class="body">
            <p>Patch sent to [~jhartmann] for review:</p>

<p><a href="http://codereview.appspot.com/20052">http://codereview.appspot.com/20052</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-02-26T17:11:45.000+0000</p> 
        <div class="body">
            <p>Since this is just a doc issue, I'm lowering the priority to trivial.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-04-02T16:37:32.000+0000</p> 
        <div class="body">
            <p>Committed to trunk as r14614.
Committed to release-1.7 as r14615.
Marking as fixed for next mini release.</p>

<pre class="literal">
commit 359584d5b5858bc836b5c5f5bdfc6c326a51644c
Author: tjohns 
Date:   Thu Apr 2 23:28:37 2009 +0000

    ZF-5664: Update Zend_Gdata_Feed documentation to indicate proper
    argument/return-value types on OpenSearch setters and getters.
    
    Review URL: <a href="http://codereview.appspot.com/20052">http://codereview.appspot.com/20052</a>
    
    git-svn-id: <a href="http://framework.zend.com/svn/framework/standard/trunk@14614">http://framework.zend.com/svn/framework/…</a> 44c647ce-9c0f-0410-b52a-842ac1e357ba

commit a14fbc2302f7afab486e2acb3761668299fe9498
Author: tjohns 
Date:   Thu Apr 2 23:33:39 2009 +0000

    Merge r14614 from trunk to release-1.7.
    
    ZF-5664: Update Zend_Gdata_Feed documentation to indicate proper
    argument/return-value types on OpenSearch setters and getters.
    
    Review URL: <a href="http://codereview.appspot.com/20052">http://codereview.appspot.com/20052</a>
    
    git-svn-id: <a href="http://framework.zend.com/svn/framework/standard/branches/release-1.7@14615">http://framework.zend.com/svn/framework/…</a> 44c647ce-9c0f-0410-b52a-842ac1e357ba
</pre>

        </div>
    </div>
    </div>

