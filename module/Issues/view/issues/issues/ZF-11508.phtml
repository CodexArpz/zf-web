<h2>ZF-11508: Zend_Navigation doesn't take route name into account for &quot;active&quot; pages</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-06-24T07:33:21.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-06-24T08:47:22.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Dennis Becker (radhad)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Dolf Schimmel (Freeaqingme) (freak)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Navigation</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I have created a small navigation and for some elements I have created routes. Routes defintion is as following:</p>

<pre class="highlight"><code>
array(
    'photographGallery' =&gt; array(
        'type'   =&gt; 'Zend_Controller_Router_Route',
        'route'  =&gt; 'photograph/:action/:id',
        'defaults' =&gt; array(
            'module' =&gt; 'default',
            'controller' =&gt; 'gallery',
            'action' =&gt; 'index',
            'id' =&gt; 0,
            'typeId' =&gt; 1,
        ),
    ),
    'paintingGallery' =&gt; array(
        'type'   =&gt; 'Zend_Controller_Router_Route',
        'route'  =&gt; 'painting/:action/:id',
        'defaults' =&gt; array(
            'module' =&gt; 'default',
            'controller' =&gt; 'gallery',
            'action' =&gt; 'index',
            'id' =&gt; 0,
            'typeId' =&gt; 2,
        ),
    ),
);
</code></pre>

<p>This is the navigation structure:</p>

<pre class="highlight"><code>array(
    array(
        'label' =&gt; 'Homepage',
        'module' =&gt; 'default',
        'controller' =&gt; 'index',
        'action' =&gt; 'index',
        'route' =&gt; 'default',
    ),
    array(
        'label' =&gt; 'Photograph',
        'module' =&gt; 'default',
        'controller' =&gt; 'gallery',
        'action' =&gt; 'index',
        'route' =&gt; 'photographGallery',
    ),
    array(
        'label' =&gt; 'Painting',
        'module' =&gt; 'default',
        'controller' =&gt; 'gallery',
        'action' =&gt; 'index',
        'route' =&gt; 'paintingGallery',
    ),
);
</code></pre>

<p>When I know open the website on my dev machine and navigate to "Photograph" or "Painting", both navigation pages have the "active" class on the "li" element. I guess Zend_Navigation doesn't take the route name into account for finding the active navigation page. Routing is ok so far.</p>

<p>This behaviour blocks me to publish the website at the moment.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Dolf Schimmel (Freeaqingme) (freak) on 2011-06-24T07:42:00.000+0000</p> 
        <div class="body">
            <p>Please check if this issue occurs on trunk as well. I think I patched this issue already a few weeks ago (if it is, it will be released in 1.11.8).</p>

<p>Thanks.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Dennis Becker (radhad) on 2011-06-24T08:40:21.000+0000</p> 
        <div class="body">
            <p>I'll wait for the release of 1.11.8 and update this issue if it's working or not. Thank you for your fast response :)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Dolf Schimmel (Freeaqingme) (freak) on 2011-06-24T08:46:50.000+0000</p> 
        <div class="body">
            <p>Closing this issue in the mean time. If it turns out it had not already been resolved feel free to reopen the issue.</p>

        </div>
    </div>
    </div>

