<h2>ZF-4889: Zend_Cache_Page needs options to include SERVER[HTTP_HOST] in id calculation</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-11-09T21:00:54.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:52:55.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Cache</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-4632">ZF-4632</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>As it stands the Page front-end can (optionally) base the hash id on session content, cookies, etc. It also involves the request URI. The latter, however, does not contain the "host" component. If one wishes to use a ZF application behind a set of multiple virtual hosts there is a problem. If you generate absolute links on the page (necessary in case of a desired switch from http to https or vv. the link on the page will be absolute and point to the first host for which the page entry is generated and cached.).
Visitors under other hosts names will now receive the cached page that points to the other host.</p>

<p>Simple adding two options: cache_with_host_variables, and make_id_with_host_variables, and an additional case inside the swith in _makeId would do the trick.</p>

<p>Of course, in the mean time, one could use a custom front end to do this.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Fabien MARTY (fab) on 2009-07-17T11:03:34.000+0000</p> 
        <div class="body">
            <p>change Assignee because I'm inactive now</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:52:55.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

