<h2>ZF2-141: AJAX-ready sessions</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2012-01-14T15:30:31.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-10-08T20:15:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Mehran Ziadloo (mehran)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend\Session</li>
            <li>condition</li>
            <li>race</li>
            <li>session</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Due to asynchronous nature of AJAX requests, it's probable for two requests of same client race each other for a session data. ZendFramework has already included the prefect implementation for JSON-RPC and XML-RPC servers. Any RPC server is useless without exclusive access to session data. I believe the following functionalities is what is missing right now in Zend_Session and/or Zend/Session classes:</p>

<ul><li>Exclusive inter-request access to each session namespace.</li>
<li>Specifying the access type prior loading a namespace. Access types include: read-only, read &amp; write. And for namespaces loaded as read-only, changing any part of session should throw an exception. I believe that it's obvious that read-only accesses share their locks while read &amp; write accesses hold an exclusive one.</li>
</ul><p>Suggestions for implementation:
One can save each namespace in different file and lock it using flock when sessions are to be saved as files. As for the sessions in database, the database engine should lock the namespace record which MySQL supports.</p>

<p>Please let me know if I can be of any help. I'll be glad to know if my proposal is feasible or not.</p>

<p>Regards,
Mehran Ziadloo</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2012-10-08T20:15:34.000+0000</p> 
        <div class="body">
            <p>This issue has been closed on Jira and moved to GitHub for issue tracking.  To continue following the resolution of this issues, please visit: <a href="https://github.com/zendframework/zf2/issues/2450">https://github.com/zendframework/zf2/issues/2450</a></p>

        </div>
    </div>
    </div>

