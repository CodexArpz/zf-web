<h2>ZF-3548: Improper handling of no-body HTTP responses</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-07-01T15:28:02.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-02T10:38:56.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Shahar Evron (shahar)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Http_Client</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-3333">ZF-3333</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Currently, Zend_Http_Client tries to read a response body even from a response that has no body (eg. 304, 204, no body-length header).</p>

<p>This mostly works but if keep-alive is enabled, it causes major slowdowns because the client tries to read until the connection is closed by the server. Additionally this causes requests with 304 etc. responses to always close (and never utilize keep-alive or persistent modes) - see ZF-3333 as well.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Shahar Evron (shahar) on 2008-07-01T15:29:27.000+0000</p> 
        <div class="body">
            <p>Both are symptoms of the same problem. Solving this one should also solve ZF-3333</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Shahar Evron (shahar) on 2008-07-02T00:29:56.000+0000</p> 
        <div class="body">
            <p>Fixed in r. 9870. Does not break BC.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:38:56.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
    </div>

