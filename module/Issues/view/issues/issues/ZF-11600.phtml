<h2>ZF-11600: Zend_Form_Element_Multi InArray validator validates when required is set to false</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-07-23T15:11:19.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-07-23T15:11:19.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Garry Childs (kryten)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Christian Albrecht (alab)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Form</li>
            <li>Zend_Validate</li>
            <li>Zend_Form_Element_Multi</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi,</p>

<p>When I create a Zend_Form_Multi_Checkbox element and populate it with an enumerated array the Zend_Validate_InArray validator will work even if the element required is set to false and no value is sent for the element.</p>

<p>For example:</p>

<p>$this-&gt;addElement('multiCheckbox', 'test', array(
    'required'      =&gt; false,
    'filters'       =&gt; array('Int'),
    'multiOptions'          =&gt; array(1 =&gt; 'One', 2 =&gt; 'Two', 3 =&gt; 'Three')
));</p>

<p>If the above element is validated as part of a form and 'test' is not sent the InArray validator will still check the 'test' element and return the error "'0' was not found in the haystack".  Surely if the element is not required then the InArray validation should be skipped or is this an intended action of ZF?</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

