<h2>ZF-7930: Zend_Pdf Unable to load PDF File - Destination Target exception</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-09-23T00:53:26.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-07-05T07:05:04.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Alexander Veremyev (alexander)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Pdf</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12249/doesnotcrash.pdf">doesnotcrash.pdf</a></li>
            <li><a href="/issues/secure/attachment/12248/Makeig.IntJNeuropharm.09.pdf">Makeig.IntJNeuropharm.09.pdf</a></li>
            <li><a href="/issues/secure/attachment/12250/reproduce.php">reproduce.php</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Simply trying to load a PDF file I get:</p>

<p>PHP Fatal error:  Uncaught exception 'Zend_Pdf_Exception' with message 'Destination target must be a page number or page dictionary object.' in /www/ZendFramework/library/Zend/Pdf/Destination/Explicit.php:96
Stack trace:</p>

<h1>0 /www/ZendFramework/library/Zend/Pdf/Destination.php(69): Zend_Pdf_Destination_Explicit-&gt;__construct(Object(Zend_Pdf_Element_Array))</h1>

<h1>1 /www/ZendFramework/library/Zend/Pdf/Target.php(62): Zend_Pdf_Destination::load(Object(Zend_Pdf_Element_Array))</h1>

<h1>2 /www/ZendFramework/library/Zend/Pdf.php(530): Zend_Pdf_Target::load(Object(Zend_Pdf_Element_Reference))</h1>

<h1>3 /www/ZendFramework/library/Zend/Pdf.php(353): Zend_Pdf-&gt;_loadNamedDestinations(Object(Zend_Pdf_Element_Reference), '1.4')</h1>

<h1>4 /www/ZendFramework/library/Zend/Pdf.php(292): Zend_Pdf-&gt;__construct('Makeig.IntJNeur...', NULL, true)</h1>

<h1>5 /www/sites/papers.cnl.salk.edu/etc/Zend Bugs/Streams copy/reproduce.php(9): Zend_Pdf::load('Makeig.IntJNeur...')</h1>

<h1>6 {main}</h1>

<p>thrown in /www/ZendFramework/library/Zend/Pdf/Destination/Explicit.php on line 96</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2009-09-23T00:56:27.000+0000</p> 
        <div class="body">
            <p>Reproduces with this PDF</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2009-09-23T00:57:53.000+0000</p> 
        <div class="body">
            <p>Uploading a control PDF - does not crash when loading this PDF.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2009-09-23T00:58:19.000+0000</p> 
        <div class="body">
            <p>Uploading script to reproduce the problem in 1.9.3</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2010-04-19T16:20:12.000+0000</p> 
        <div class="body">
            <p>Still an issue in 1.10.3</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2010-04-19T16:21:12.000+0000</p> 
        <div class="body">
            <p>PHP Fatal error: Uncaught exception 'Zend_Pdf_Exception' with message 'Destination target must be a page number or page dictionary object.' in /www/ZendFramework/library/Zend/Pdf/Destination/Explicit.php:97 Stack trace: #0 /www/ZendFramework/library/Zend/Pdf/Destination.php(69): Zend_Pdf_Destination_Explicit-&gt;__construct(Object(Zend_Pdf_Element_Array)) #1 /www/ZendFramework/library/Zend/Pdf/Target.php(62): Zend_Pdf_Destination::load(Object(Zend_Pdf_Element_Array)) #2 /www/ZendFramework/library/Zend/Pdf.php(498): Zend_Pdf_Target::load(Object(Zend_Pdf_Element_Reference)) #3 /www/ZendFramework/library/Zend/Pdf.php(316): Zend_Pdf-&gt;_loadNamedDestinations(Object(Zend_Pdf_Element_Reference), '1.4') #4 /www/ZendFramework/library/Zend/Pdf.php(253): Zend_Pdf-&gt;__construct('Makeig.IntJNeur...', NULL, true) #5 /www/sites/papers.cnl.salk.edu/etc/Zend Bugs/Destination Target/reproduce.php(14): Zend_Pdf::load('Makeig.IntJNeur...') #6 {main} thrown in /www/ZendFramework/library/Zend/Pdf/Destination/Explicit.php on line 97</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Stefan Wetterau (websiteschmied) on 2012-07-05T07:05:04.000+0000</p> 
        <div class="body">
            <p>Has there been a solution to this issue? I have the same problems with some PDFs in a large collection of files where the majority works.</p>

        </div>
    </div>
    </div>

