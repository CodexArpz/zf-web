<h2>ZF-9173: Zend_Form triggers error when filter Rename is used with filter Count set to 1</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-02-14T08:29:30.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-06-12T03:00:55.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.6 (22/Jun/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_File_Transfer</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>For code like this (called from within class extending Zend_Form):</p>

<pre class="highlight"><code>
$thumbnail = $this-&gt;createElement('file', 'thumbnail')
    // ensure only 1 file
    -&gt;addValidator('Count', false, 1)
    -&gt;addValidator('Size', false, $maxFilesize)
    -&gt;addValidator('IsImage', false)
    -&gt;addFilter('Rename', array(
        'target' =&gt; realpath($newName), 
        'overwrite' =&gt; false));
</code></pre>

<p>I'm getting form error after calling isValid method, that more than one file was passed (even if it's for sure only one file), but still isValid returns true. I'm not sure if it is a bug, or correct behaviour.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Christian Albrecht (alab) on 2010-03-13T07:55:43.000+0000</p> 
        <div class="body">
            <p>Would you please change Component to Zend_File and Zend_Validate, thanks.
Not an issue for Zend_Form.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-12T03:00:52.000+0000</p> 
        <div class="body">
            
&lt;?php echo $form-&gt;render(new Zend_View());?&gt;

        </div>
    </div>
    </div>

