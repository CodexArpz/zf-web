<h2>ZF-8469: Zend_Rest_Route::assemble() does not implement the $encode parameter</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-12-04T10:03:53.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-12-21T17:28:35.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.0 (27/Jan/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Luke Crouch (lcrouch)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Rest_Route</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12457/ZF-8469.patch">ZF-8469.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Rest_Route::assemble() does not implement the $encode parameter (it is in the method signature but never used). This is sometimes needed when using the index action with parameters. Please encode values when the $encode parameter is set to true. Also consider encoding the id value when $encode is set to true (although this is probably needed less often).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Bradley Holt (bradley.holt) on 2009-12-04T10:06:34.000+0000</p> 
        <div class="body">
            <p>This patch will encode values (other than id) when the $encode parameter is set to true.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bradley Holt (bradley.holt) on 2009-12-04T10:30:02.000+0000</p> 
        <div class="body">
            <p>Also, Zend_Rest_Route::match() does not URL decode values. URL parameters should be decoded.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bradley Holt (bradley.holt) on 2009-12-05T10:44:40.000+0000</p> 
        <div class="body">
            <p>My last comment seems to be not entirely correct. It appears that values <em>do</em> get URL decoded (but I don't see where) however IDs do <em>not</em> get URL decoded. Consider URL decoding ID values.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Luke Crouch (lcrouch) on 2009-12-21T17:28:34.000+0000</p> 
        <div class="body">
            <p>added urlencode to assemble() param values, and urldecode of id param values to match()</p>

        </div>
    </div>
    </div>

