<h2>ZF-929: Test errors and failures in Zend_Translate</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2007-02-16T19:26:54.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:50.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.9.0 (17/Mar/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Translate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Unit test errors and failure in Zend_Translate, as of revision 3506:</p>

<pre class="highlight"><code>
There were 6 errors:

1) testAddTranslation(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:68

2) testSetLocale(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:85

3) testSetLanguage(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:96

4) testGetLanguageList(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:107

5) testIsAvailable(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:117

6) testTranslate(Zend_TranslateTest)
Zend_Translate_Exception: The given Language () does not exist
C:\zf\incubator\library\Zend\Translate.php:140
C:\zf\incubator\tests\Zend\TranslateTest.php:127
There was 1 failure:

1) testLoadTranslationData(Zend_Translate_GettextTest)
Failed asserting that  is equal to .
expected string &lt;óÏÏÂÝÅÎÉÅ 2 (ru)&gt;
difference      
got string      &lt;ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 2 (ru)&gt;
C:\zf\incubator\tests\Zend\Translate\GettextTest.php:59
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-02-16T19:27:52.000+0000</p> 
        <div class="body">
            <p>C:\zf\incubator\tests&gt;php -v</p>

<pre class="highlight"><code>
PHP 5.2.0 (cli) (built: Nov  2 2006 11:57:36)
Copyright (c) 1997-2006 The PHP Group
Zend Engine v2.2.0, Copyright (c) 1998-2006 Zend Technologies
    with Xdebug v2.0.0RC1, Copyright (c) 2002, 2003, 2004, 2005, 2006, by Derick Rethans
</code></pre>

<p>PHPUnit 3.0.0</p>

<p>Windows XP.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-02-17T04:09:51.000+0000</p> 
        <div class="body">
            <p>SVN 3512 should fix 5 of them.</p>

<p>The unit tests had switched parameters.
The 6th test I must check because I did not make the mo file and I actualy used the spare time while the code freeze to upgrade my machine to PHP5.2.1 and Apache 2.2.4.</p>

<p>It will need some hours to get it all back to work again, so I can check the 6th issue.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-02-23T03:11:02.000+0000</p> 
        <div class="body">
            <p>Solved with SVN 3591.</p>

<p>(The original source was not UTF8, so all messages which are tested have to be converted to UTF8 to be compared)</p>

        </div>
    </div>
    </div>

