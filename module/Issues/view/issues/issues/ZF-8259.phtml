<h2>ZF-8259: Zend_Ldap-&gt;search() fails to bind if not yet bound</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-11-09T12:21:16.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-11-10T02:56:29.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.0 (27/Jan/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Stefan Gehrig (sgehrig)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Ldap</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using Zend_Ldap-&gt;search() without explicitly binding first, the search will fail because there is no ldap resource. To me it seems the logical way to fix this is to extend the getResource function with a bind (if not yet bound), because this can also eliminate the check in a lot of other places in the code, and it will ensure getResource() returns a resource or throws an exception.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Stefan Gehrig (sgehrig) on 2009-11-10T02:56:06.000+0000</p> 
        <div class="body">
            <p>fixed in trunk (r18918).
{{Zend_Ldap::getResource()}} now always returns a connected and bound {{ext/ldap}} resource (given the fact that a connection can be made and a user can be bound with the given options)</p>

        </div>
    </div>
    </div>

