<h2>ZF-2230: View helper for checkbox is not compatible with array</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2007-11-23T19:19:13.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-02-26T12:56:02.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.0.4 (26/Feb/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Michal Vrchota (techi)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_View</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-1666">ZF-1666</a></li>
            <li><a href="/issues/browse/ZF-1639">ZF-1639</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_View_Helper_FormCheckbox should NOT render hidden element with "0" value when the name of the checkbox is array-like variable such as</p>

<p>$this-&gt;formCheckbox('languages[]', ...</p>

<p>Because programmer usually needs submit only those items, which are checked and not fill the array with zeros</p>

<p>I vote to modify the code something like that</p>

<p>$is_array = substr($name, -2) == '[]';
if (!$is_array)
{
  $xhtml .= $this-&gt;_hidden($name, $options[1]);
}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-11-30T08:52:53.000+0000</p> 
        <div class="body">
            <p>Assigning to [~matthew] and marking to fix for 1.1.0 or next mini release.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-02-13T08:37:38.000+0000</p> 
        <div class="body">
            <p>Resolved in trunk. The 'options' argument now is no longer used; simply provide a true value to the 'checked' attribute, and the checkbox will be checked appropriately (a false value will leave it unchecked).</p>

        </div>
    </div>
    </div>

