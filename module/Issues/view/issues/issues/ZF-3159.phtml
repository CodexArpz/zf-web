<h2>ZF-3159: Zend_Filter_Int and required fields</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-04-21T15:33:38.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-12-17T12:43:12.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Jordan Ryan Moore (jordanryanmoore)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Validate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When Zend_Filter_Int is used in validating forms, a field that is set as required cannot assume a value of zero.
0 is a perfectly valid value, but it's evaluated as a "" because Zend_Validate_NotEmpty casts to string every value, so the problem resides there).
In general,when value the filter chain is applied, informartion on whether the user input was "" (non valid) or "0" (valid) is lost, so I think some validators has to work before the filters.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jordan Ryan Moore (jordanryanmoore) on 2008-05-06T09:09:29.000+0000</p> 
        <div class="body">
            <p>The problem has nothing to do with "0" being cast to a string in Zend_Validate_NotEmpty. If you look closely, the actual value that is validated is the original $value variable that was passed in. On the other hand, "0" is considered an empty value in PHP, so what you probably want to do is use Zend_Validate_StringLength to ensure that the length is greater than 0.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-12-17T12:43:12.000+0000</p> 
        <div class="body">
            <p>Bookkeeping. Trying to assign all issues that are resolved to the people who resolved them. The only unassigned issues should be new, unreviewed ones.</p>

        </div>
    </div>
    </div>

