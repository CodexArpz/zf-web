<h2>ZF-2162: Zend_Config_Xml usage without sections bug</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2007-11-06T22:39:44.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-12-15T21:46:38.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.0.3 (30/Nov/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Geoffrey Tran (potatobob)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Rob Allen (rob)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Config</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/10932/application.xml">application.xml</a></li>
            <li><a href="/issues/secure/attachment/10906/Zend_Config_Xml.diff">Zend_Config_Xml.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>It appears the Zend_Config_Xml class does not differ from a SimpleXMLElement that contains children vs on that does not (eg a string) when not using sections.</p>

<p>For instance:</p>

<pre class="highlight"><code>
$config = new Zend_Config_Xml('ourFile.xml', null);
</code></pre>

<p>This would load everything under the root element without the use of sections, but because of this bug, it will set any 1st level element within the root element that is a string to an empty Zend_Config object instead of a string which is expected.</p>

<pre class="highlight"><code>
../applicationbar</code></pre>

<p>The following would be accessed like this:</p>

<pre class="highlight"><code>
echo $config-&gt;home; // Errors out because it contains an empty Zend_Config obj;
</code></pre>

<p>Attached is the patch</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-11-09T14:01:40.000+0000</p> 
        <div class="body">
            <p>Assigning to [~rob] to initiate issue review.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2007-11-15T10:30:24.000+0000</p> 
        <div class="body">
            <p>Hi Geoffrey,</p>

<p>Can you provide an example config.xml please ?</p>

<p>Thanks,</p>

<p>Rob...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Geoffrey Tran (potatobob) on 2007-11-16T17:42:27.000+0000</p> 
        <div class="body">
            <p>ok attaching the file...</p>

<p>The bug would happen on access to home and  throw_exceptions since they are 1st level elements</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2007-11-23T16:32:25.000+0000</p> 
        <div class="body">
            <p>Resolved in svn 6906 and svn 6907</p>

        </div>
    </div>
    </div>

