<h2>ZF-1305: Zend_Service_Amazon_OfflineTest failure</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2007-04-22T11:26:07.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:44:06.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.0.0 RC1 (28/May/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Darby Felton (darby)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Service_Amazon</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Service_Amazon_OfflineTest::testItemSearchOptionSearchIndexMissing failing</p>

<p>testItemSearchOptionSearchIndexMissing(Zend_Service_Amazon_OfflineTest)
Expected Zend_Service_Exception not thrown
/home/sebastian/Work/ZendFramework/tests/Zend/Service/Amazon/OfflineTest.php:117</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-04-23T13:14:06.000+0000</p> 
        <div class="body">
            <p>Cannot reproduce on PHPUnit 3.1.0beta2, PHP 5.1.4, WinXP. Hopefully made the test harness easier to run with <a href="http://framework.zend.com/fisheye/changelog/Zend_Framework/?cs=4582">SVN r4582</a>. Issue remains open for further investigation.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-04-23T13:49:22.000+0000</p> 
        <div class="body">
            <p>I'm not able to reproduce this error either.</p>

<p>Environment: PHPUnit 3.1.0beta4, PHP 5.2.1, Xdebug 2.0.0RC4, Windows XP.</p>

<p>I confirm that the exception is thrown in the testItemSearchOptionSearchIndexMissing() test method.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-05-06T05:02:30.000+0000</p> 
        <div class="body">
            <p>Still reproducable @ revision 4728:</p>

<p>4) testItemSearchOptionSearchIndexMissing(Zend_Service_Amazon_OfflineTest)
Expected Zend_Service_Exception not thrown
/home/sebastian/Work/ZendFramework/tests/Zend/Service/Amazon/OfflineTest.php:108
Warning: DOMDocument::loadXML(): Start tag expected, '&lt;' not found in Entity, line: 1 in /home/sebastian/Work/ZendFramework/library/Zend/Service/Amazon.php on line 115</p>

<p>Call Stack:
    0.0002      53032   1. {main}() /opt/php/bin/phpunit:0
    0.0024     168756   2. require('/opt/php/lib/php/PHPUnit/TextUI/Command.php') /opt/php/bin/phpunit:44
    0.1077    2696028   3. PHPUnit_TextUI_Command::main() /opt/php/lib/php/PHPUnit/TextUI/Command.php:401
    7.1204   54608408   4. PHPUnit_TextUI_TestRunner-&gt;doRun() /opt/php/lib/php/PHPUnit/TextUI/Command.php:100
    7.1207   54609232   5. PHPUnit_Framework_TestSuite-&gt;run() /opt/php/lib/php/PHPUnit/TextUI/TestRunner.php:247
    7.1208   54609232   6. PHPUnit_Framework_TestSuite-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:478
   73.3936   72137652   7. PHPUnit_Framework_TestSuite-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:478
   73.4420   72178492   8. PHPUnit_Framework_TestSuite-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:478
   73.4420   72178756   9. PHPUnit_Framework_TestSuite-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:478
   73.4435   72184636  10. PHPUnit_Framework_TestSuite-&gt;runTest() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:491
   73.4435   72184700  11. PHPUnit_Framework_TestCase-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestSuite.php:510
   73.4435   72184764  12. PHPUnit_Framework_TestResult-&gt;run() /opt/php/lib/php/PHPUnit/Framework/TestCase.php:223
   73.4436   72185284  13. PHPUnit_Framework_TestCase-&gt;runBare() /opt/php/lib/php/PHPUnit/Framework/TestResult.php:529
   73.4443   72189996  14. PHPUnit_Framework_TestCase-&gt;runTest() /opt/php/lib/php/PHPUnit/Framework/TestCase.php:243
   73.4444   72190852  15. ReflectionMethod-&gt;invoke() /opt/php/lib/php/PHPUnit/Framework/TestCase.php:300
   73.4444   72190996  16. Zend_Service_Amazon_OfflineTest-&gt;testItemSearchOptionSearchIndexMissing() /home/sebastian/Work/ZendFramework/tests/Zend/Service/Amazon/OfflineTest
.php:0
   73.4444   72191156  17. Zend_Service_Amazon-&gt;itemSearch() /home/sebastian/Work/ZendFramework/tests/Zend/Service/Amazon/OfflineTest.php:107
   73.4465   72190116  18. DOMDocument-&gt;loadXML() /home/sebastian/Work/ZendFramework/library/Zend/Service/Amazon.php:115</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-05-17T05:57:39.000+0000</p> 
        <div class="body">
            <p>Output of Â§response is btw. string(41) "Thanks for making the web a better place."</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-05-18T13:28:24.000+0000</p> 
        <div class="body">
            <p>Hopefully resolved with <a href="http://framework.zend.com/fisheye/changelog/Zend_Framework/?cs=4861">SVN r4861</a>. Please reopen if problems persist.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-05-18T13:36:51.000+0000</p> 
        <div class="body">
            <p>I can confirm that it is fixed.</p>

        </div>
    </div>
    </div>

