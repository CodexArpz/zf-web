<h2>ZF-5964: Zend_Acl::Zend_Acl_Resource - equal childs for different parents</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Community Driven Feature</dd>

    <dt>Created:</dt>
    <dd>2009-03-07T16:32:24.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-03-27T17:47:59.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Acl</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi.</p>

<h2>I have structure of Resourses</h2>

<p>Parent1 - ( can be House #1)
  Child1 - ( can be Flat #1)
Parent2 - ( can be House #2)</p>

<h2>  Child1 - ( can be Flat #1)</h2>

<p>So i can't do this
1: $acl-&gt;add(new Zend_Acl_Resource('Parent1'));
2: $acl-&gt;add(new Zend_Acl_Resource('Parent2'));</p>

<p>3: $acl-&gt;add(new Zend_Acl_Resource('Child1'),'Parent1');
4: $acl-&gt;add(new Zend_Acl_Resource('Child1'),'Parent2');</p>

<p>While complie i see message Child1 allready present in resource list - error in line 4.</p>

<p>Thanks.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Peter Moolenaar (petermoolenaar) on 2009-04-01T05:59:50.000+0000</p> 
        <div class="body">
            <p>Hi,</p>

<p>I would expect the resources to behave in a similar way to the roles. Is there a concrete reason this was implemented as is? I mean, was the before mentioned case simply overlooked or is there a more subtle reason.</p>

<p>Regards,
Peter</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2009-09-10T09:46:29.000+0000</p> 
        <div class="body">
            <p>I actually have a hard time understanding the use case where resources need to be inherited from multiple parents aside from the more technical demonstration in the issue report.  Do you have a real world use case?</p>

<p>While this might be a worthwhile feature, the ZF team will not develop this feature, but if a community member would like to pick up and develop it, they may make an assignment of it.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Peter Moolenaar (petermoolenaar) on 2009-09-10T10:08:32.000+0000</p> 
        <div class="body">
            <p>When imagining one flat being part of 2 houses is indeed quite hard, a real life situation would be to define access control based through different paths.</p>

<p>For example when defining a road to be both a side-walk and a cycleway
Or maybe a room to be a lecture room and a project room</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Beth Macknik (macknik) on 2009-10-25T06:47:28.000+0000</p> 
        <div class="body">
            <p>Does this example make the issue a little clearer?</p>

<p>Parent1 - ( is Condo #1 )
Child1   - ( is Swimming Pool )
Parent2 - ( is Condo #2 )
Child1   - ( is Swimming Pool )</p>

<p>There is only one swimming pool in the condo complex.  To get access to the swimming pool you must have access to one or more condos.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-03-21T10:28:14.000+0000</p> 
        <div class="body">
            <p>Reassigned to component maintainer</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Andries Seutens (andries) on 2012-03-27T17:47:59.000+0000</p> 
        <div class="body">
            <p>Resources are arranged as a tree, a tree node can not have &gt; 1 parent.</p>

<p>The interface "Resource" has a method "getResourceId()".
According to the architecture of Zend_Acl, this ID should be unique (identity pattern).</p>

        </div>
    </div>
    </div>

