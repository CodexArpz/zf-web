<h2>ZF-11807: Zend_Form_Element getDecorator showing NOTICES</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-10-07T19:40:18.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-10-07T19:40:18.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Gildonei Mendes Anacleto Junior (gildonei)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Christian Albrecht (alab)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Form</li>
            <li>Zend_Form_Element</li>
            <li>getDecorator</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I added a Custon Decorator to an element and when I outputted the form I got some notices</p>

<p>"Warning: Illegal offset type in isset or empty in /var/www/project/library/Zend/Form/Element.php on line 1932
Notice: Array to string conversion in /var/www/project/library/Zend/Form/Element.php on line 1933
Warning: substr_compare() expects parameter 2 to be string, array given in /var/www/project/library/Zend/Form/Element.php on line 1939"</p>

<p>$element-&gt;addDecorator(array('row' =&gt; 'HtmlTag'), array('tag' =&gt; 'div', 'id' =&gt; 'user_content','class' =&gt; 'content colunas3', 'openOnly' =&gt; true));</p>

<p>Debbuging I solved this problem adding a verification of type on "getDecorator" method available in Zend_Form_Element</p>

<p>"
public function getDecorator($name)
    {
        if (is_array($name)) {
        $name = $name[key($name)];
    }
...
"</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

