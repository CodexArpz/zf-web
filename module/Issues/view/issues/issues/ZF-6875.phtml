<h2>ZF-6875: &quot;ArrayOfArrayOf...&quot; to Zend_Soap_AutoDiscover / Zend_Soap_Wsdl</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-06-01T08:19:43.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-09-13T05:58:08.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Renan de Lima (renanbr)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Renan de Lima (renanbr)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Server</li>
            <li>Zend_Soap_Wsdl</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-6742">ZF-6742</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Adding complex array structure to WSDL generated by Zend_Soap_Wsdl and Zend_Soap_AutoDiscover.</p>

<p>Some people use WSDL as the webservice API documentation. WSDL that shows just "array" as input or output request doesn't help the client side team. This issue may provide additional information to WSDL when server side wants to work with array. The major goal is to answer the commom question: what does this array contain? an integer? a string? an object?</p>

<p>h2. first usage</p>

<pre class="highlight"><code>
&lt;?php

class MyService
{
    /**
     * @param integer[]
     * @return void
     */ 
    public function xxx(array $number){} 

    /**
     * @param array of integer
     * @return void
     */ 
    public function xxx(array $number){} 
}
</code></pre>

<p>WSDL must contain in "message" part:</p>

<pre class="highlight"><code>
</code></pre>

<p>WSDL must contain in "types" part:</p>

<pre class="highlight"><code>
</code></pre>

<p>h2. second usage</p>

<pre class="highlight"><code>
&lt;?php

class MyService2
{
    /**
     * @param integer[][]
     * @return void
     */ 
    public function xxx(array $number){} 

    /**
     * @param array of array of integer
     * @return void
     */ 
    public function xxx(array $number){} 
}
</code></pre>

<p>WSDL must contain in "message" part:</p>

<pre class="highlight"><code>
</code></pre>

<p>WSDL must contain in "types" part:</p>

<pre class="highlight"><code>
</code></pre>

<p>h2. third usage</p>

<pre class="highlight"><code>
&lt;?php

class MyService3
{
    /**
     * @param MyClass[][]
     * @return void
     */ 
    public function xxx(array $number){} 
}
</code></pre>

<p>WSDL must contain in "message" part:</p>

<pre class="highlight"><code>
</code></pre>

<p>WSDL must contain in "types" part:</p>

<pre class="highlight"><code>

        ...
    </code></pre>

<p>h2. reference</p>

<pre><code>*  &lt;a rel="nofollow" href="http://www.w3.org/2002/ws/databinding/edcopy/advanced/advanced.html#pattern-SOAPEncodedArray"&gt;http://w3.org/2002/ws/&amp;hellip;&lt;/a&gt;
* &lt;a rel="nofollow" href="http://www.w3.org/2002/ws/databinding/examples/6/09/SOAPEncodedArray/"&gt;http://w3.org/2002/ws/&amp;hellip;&lt;/a&gt;
* &lt;a rel="nofollow" href="http://www.w3.org/TR/wsdl#_types"&gt;http://www.w3.org/TR/wsdl#_types&lt;/a&gt;
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Kevin Nuut (kevinnuut) on 2009-06-19T07:53:35.000+0000</p> 
        <div class="body">
            <p>This would create WS-I non-compliant array blocks.  Per WS-I, soap-enc:Array is no longer valid.  Support for multidimensional arrays can be added by patching ArrayOfTypeSequence with issue ZF-6742.  However, there is the issue of array currently being mapped to soap-enc:Array which needs to be changed to the WS-I compliant version of arrays.</p>

<p></p>

<p><a href="http://framework.zend.com/issues/browse/ZF-6742">http://framework.zend.com/issues/browse/ZF-6742</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ramon Henrique Ornelas (ramon) on 2010-09-13T05:58:01.000+0000</p> 
        <div class="body">
            <p>fixed with r16935 ZF-6742</p>

        </div>
    </div>
    </div>

