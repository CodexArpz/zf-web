<h2>ZF-11347: Zend_Controller_Request_Http store query in superglobal and can be setted</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-05-05T17:36:51.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-08-20T16:39:20.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Pádraic Brady (padraic)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller</li>
            <li>zf-crteam-padraic</li>
            <li>zf-crteam-priority</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>setQuery() and setPost() method add param in $_GET and $_POST superglobals.
So query and post are not properties of Requests, and so this method must be static
Or
Considering query and post are properties of Requests, and so they must be stored in, I think so.
Else
Request is design to be use one time and so must make a singleton pattern.</p>

<p>Example :
$request = new Zend_Controller_Http_Request();</p>

<p>$requestBis = clone $request;
$requestBis-&gt;setQuery('__mykey', 'myvalue');</p>

<p>echo $request-&gt;getQuery('__mykey', 'novalue');</p>

<p>Actual result :
myvalue
Expected result:
novalue</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Pádraic Brady (padraic) on 2011-08-20T16:39:20.000+0000</p> 
        <div class="body">
            <p>It's not the prettiest situation, however changing the global behaviour would be a backwards incompatible change for those relying on it. As such, I'm marking the issue won't-fix.</p>

        </div>
    </div>
    </div>

