<h2>ZF-10597: Zend_Queue_Adapter_Db provides no mechanism for using custom table names</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2010-10-25T13:01:35.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2013-03-13T20:55:22.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>Next Mini Release ()</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Marc Hodgins (mjh_ca)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Queue</li>
            <li>FixForZF1.12.1</li>
            <li>zf-crteam-review</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13487/ZF-10597-test-setup.txt">ZF-10597-test-setup.txt</a></li>
            <li><a href="/issues/secure/attachment/13485/ZF-10597.patch">ZF-10597.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>In order to use table names other than 'queue' and 'message' in Zend_Queue_Adapter_Db, one must currently extend three classes:</p>

<ol><li>Zend_Queue_Adapter_Db_Message to change the message table name</li>
<li>Zend_Queue_Adapter_Db_Queue to change the queue table name</li>
<li>Zend_Queue_Adapter_Db to override __construct or add table setter methods to override the default table usage.</li>
</ol><p>It seems like this is something that should and could be supported easily through an option key or setter method.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Marc Hodgins (mjh_ca) on 2010-11-25T08:43:40.000+0000</p> 
        <div class="body">
            <p>Patch with unit test and updated docs attached.</p>

<p>Also attaching instructions on TestConfiguration.php settings and related steps to turn on the the Zend_Queue_Db unit tests to make it easier for whoever is testing/applying this patch.  Thanks!</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by paulo vitor bettini de albuquerque lima (paulovitorbal) on 2011-06-30T13:14:36.000+0000</p> 
        <div class="body">
            <p>As well as the name of the table, we should have an option to the schema too. It will be nice, while working with postgres.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by paulo vitor bettini de albuquerque lima (paulovitorbal) on 2011-06-30T13:35:33.000+0000</p> 
        <div class="body">
            <p>While working with the Db adapter, why not use the Zend_Db_Table classes, for message and queue? Doing this, we could intercept the methods used by, like the insert, or the update.Instead of using the database adapter methods for update, select, insert, I purpose to use the Zend_Db_Table methods.</p>

        </div>
    </div>
    </div>

