<h2>ZF-10338: Performing a SOAP request ends in an infinite loop</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-08-19T02:26:41.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-12-19T15:46:24.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Gerhard Ebelshäuser (drahreg80)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Jan Pieper (jpieper)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Client</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Performing a SOAP request ends in an infinite loop with error:</p>

<pre class="literal"> 
Fatal error: Maximum function nesting level of '100' reached, aborting! in .../Zend/Soap/Client.php on line 75

Call Stack:
    0.0883     664488   1. {main}() .../test.php:0
    0.0896     767000   2. Zend\Soap\Client-&gt;foo() .../test.php:37
    0.0896     767440   3. .../Zend/Soap/Client.php:0
    0.0902     824608   4. SoapClient-&gt;__soapCall() .../Zend/Soap/Client.php:1088
    0.0904     825608   5. Zend\Soap\Client\Common-&gt;__doRequest() .../Zend/Soap/Client/Common.php:0
    0.0904     825656   6. call_user_func() .../Zend/Soap/Client/Common.php:75
    0.0904     825720   7. Zend\Soap\Client-&gt;_doRequest() .../Zend/Soap/Client/Common.php:0
    0.0904     825720   8. .../Zend/Soap/Client.php:969
    0.0904     825768   9. call_user_func() .../Zend/Soap/Client/Common.php:75
...
</pre>

<p>Testing Code:</p>

<pre class="highlight"><code>
...
$client = new \Zend\Soap\Client($wsdl);
$bar = $client-&gt;foo();
</code></pre>

<p>I have tested different webservices and all of them works great with soapUI and the PHP SOAP extension.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jan Pieper (jpieper) on 2010-10-17T14:13:05.000+0000</p> 
        <div class="body">
            <p>Am i right you are already using ZF2?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Gerhard Ebelshäuser (drahreg80) on 2010-10-22T06:10:20.000+0000</p> 
        <div class="body">
            <p>bq. Am i right you are already using ZF2?</p>

<p>I am using Zend Framework Version 2.0dev1, so I thought it would be right in affected Version: Next Major Release</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jan Pieper (jpieper) on 2010-11-03T11:28:54.000+0000</p> 
        <div class="body">
            <p>I requested to pull my changes to fix this bug: <a href="https://github.com/zendframework/zf2/pull/67">https://github.com/zendframework/zf2/pull/67</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jan Pieper (jpieper) on 2010-12-19T15:46:21.000+0000</p> 
        <div class="body">
            <p>Matthew merged my pull request, so it is fixed in ZF2's git repository.</p>

        </div>
    </div>
    </div>

