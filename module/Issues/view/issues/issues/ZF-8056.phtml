<h2>ZF-8056: View Helper HeadStyle does not accept comma separated strings with spaces for media attribute</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-10-12T13:49:05.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-10-16T06:37:53.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.9.5 (27/Oct/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Stefan Gehrig (sgehrig)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_View</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12299/HeadStyleCommaSeparatedMediaAttribute.diff">HeadStyleCommaSeparatedMediaAttribute.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using headStyle, the media attribute works when set to 'screen,projection' or array('screen', 'projection') but not 'screen, projection' (with a space).</p>

<p>This is inconsistent with headLink which accepts the space, and the css specifications which allow the space: <a href="http://www.w3.org/TR/CSS2/media.html">http://www.w3.org/TR/CSS2/media.html</a></p>

<p>This is because, unlike headLink, headStyle for some reason checks the media types specified, and retrieves them from the string using explode (which will leave extra spaces). This also means that headLink and headStyle treat the media attribute differently in another way (headLink allows any media type, headStyle only allows those specified in its code).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Travis Pew (travisp) on 2009-10-12T13:50:54.000+0000</p> 
        <div class="body">
            <p>A patch that would allow spaces in the comma separated media attribute and a unit test to make sure that it works.</p>

<p>I wonder though if it wouldn't be better to just make headStyle work entirely like headLink and not check against the list of "allowed" media types because CSS3 allows media to be specified as follows: "screen, 3d-glasses, print and resolution &gt; 90dpi"</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Stefan Gehrig (sgehrig) on 2009-10-16T06:37:53.000+0000</p> 
        <div class="body">
            <p>Fixed in trunk (r18571) and in 1.9-release branch (r18572)</p>

        </div>
    </div>
    </div>

