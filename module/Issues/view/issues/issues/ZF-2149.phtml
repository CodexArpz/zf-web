<h2>ZF-2149: isValidModule() in Zend_Controller_Dispatcher_Standard does not check if $module is a string</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2007-11-05T17:18:23.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-02-26T12:56:08.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.0.4 (26/Feb/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Daniele Princiotta (shadowdani)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Michal Minicki (martel)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/10962/Standard.php.patch">Standard.php.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The method isValidmodule() in Zend_Controller_Dispatcher_Standard tries to check if $module is present in the $controllerDir array, but misses to check if the submitted value is a string.</p>

<p>This causes a PHP warning to be displayed if, for example, in a controller class you use the _forward method and omit (mistakenly) the module name, but add as 3rd parameter an array: $this-&gt;_forward('index','index',array('testvalue1','testvalue2'))</p>

<p>The warning is the following:
Warning: Illegal offset type in isset or empty in /home/www/files/Zend/Controller/Dispatcher/Standard.php...</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2007-11-16T14:51:04.000+0000</p> 
        <div class="body">
            <p>Scheduling for 1.0.3</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jordan Ryan Moore (jordanryanmoore) on 2007-12-13T15:27:47.000+0000</p> 
        <div class="body">
            <p>Attached a patch that fixes the bug.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Michal Minicki (martel) on 2008-01-11T06:48:36.000+0000</p> 
        <div class="body">
            <p>Good catch. Fixed in revision 7386. Thanks, Daniele.</p>

        </div>
    </div>
    </div>

