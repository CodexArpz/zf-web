<h2>ZF-212: Some extra methods for Zend_Filter</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2006-07-09T05:03:13.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:13.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.9.0 (17/Mar/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Darby Felton (darby)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Filter</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/10114/testEmptyPatch.diff">testEmptyPatch.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <pre class="highlight"><code>
    /**
     * Test whether the length of a string is greater than a certain amount
     *
     * @param string $value
     * @param integer $length
     * @return bool
     */
    public static function testLengthGreaterThan($value, $length)
    {
        return strlen($value) &gt; $length;
    }
    /**
     * Test whether the length of a string is less than a certain amount
     *
     * @param string $value
     * @param integer $length
     * @return bool
     */
    public static function testLengthLessThan($value, $length)
    {
        return strlen($value) &lt; $length;
    }
    /**
     * Test whether the key is empty. 
     * 
     * @param string $value
     * @return bool
     */
    public function testEmpty($value)
    {
        return empty($value);
    }
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Mark Evans (sparky) on 2006-07-09T10:12:37.000+0000</p> 
        <div class="body">
            <p>I think these are a good suggestion..</p>

<p>I will get a patch organised.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Oliver Saunders (irkengir) on 2006-07-09T10:18:28.000+0000</p> 
        <div class="body">
            <p>Great thank you.</p>

<p>Just realised the testLengthLessThan() and testLengthGreaterThan() functions should have an $inclusive argument to conform with existing testGreaterThan() and testLessThan()</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2006-10-16T22:37:24.000+0000</p> 
        <div class="body">
            <p>What is the status of this patch?  Do you think that it will make it into the 0.1.6 release?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2006-10-23T18:23:20.000+0000</p> 
        <div class="body">
            <p>This is a patch to have the filter object has a testEmpty in the Zend_Filter_Input Class and a isEmpty function in the Zend_Filter Class.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2006-10-23T22:51:35.000+0000</p> 
        <div class="body">
            <p>Ok so i am sorry about my first patch submitted but it doesnt work correctly.  after doing more testing i found a quick bug in it that i am currently fixing.  I will post a new one once i'm sure it works across the board.  I didnt see a way to delete or mark a file a out dated.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2006-11-13T15:23:35.000+0000</p> 
        <div class="body">
            <p>Changing fix version to 0.9.0.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Waldemar Schott (wschott) on 2006-11-15T12:45:56.000+0000</p> 
        <div class="body">
            <p>In my opinion the testEmpty() and isEmpty() methods are completeley unnecessary. In fact it's a oneliner.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2006-11-19T13:42:00.000+0000</p> 
        <div class="body">
            <p>I don't see them as being unnecessary as right now to test is something is empty you would have to set it to a variable then test the variable to see if it's empty, which makes it two lines not one.</p>

<p>This code will not work as it generates a parse error.</p>

<pre class="highlight"><code>
if(empty($name = $filterList-&gt;getRaw('an_name'))) {
</code></pre>

<p>I see a value in having a testEmpty function as then you can easily test to see if it's empty in one line instead of setting it to a variable and then testing that variable.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-03-16T12:18:16.000+0000</p> 
        <div class="body">
            <p>{{Zend_Filter}} no longer uses static methods for filtering. Instead, {{Zend_Validate_StringLength}} may be used for the string length testing purposes.</p>

<p>If the need remains for an "isEmpty" validation class, please feel free to formalize the suggestion by writing a proposal that covers the use cases and solution details.</p>

        </div>
    </div>
    </div>

