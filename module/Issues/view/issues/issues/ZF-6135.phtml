<h2>ZF-6135: Set of &quot;Undefined variable: majorProtocolVersion&quot; errors</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2009-03-26T14:09:32.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-03-27T05:37:41.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.7.8 (30/Mar/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Jochen Hartmann (jhartmann)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>{panel}
2) testImportFile(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:835</p>

<p>3) testHTTPETagsPropagateToEntriesOnGet(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:219</p>

<p>4) testImportUrlSetsMajorProtocolVersionOnEntry(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:219</p>

<p>5) testImportUrlSetsMinorProtocolVersionOnEntry(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:219</p>

<p>6) testImportUrlSetsNullVersionIfNoVersionHeaderOnEntry(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:219</p>

<p>7) testImportUrlSetsMajorProtocolVersionOnFeed(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:204</p>

<p>8) testImportUrlSetsMinorProtocolVersionOnFeed(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:204</p>

<p>9) testImportUrlSetsNullVersionIfNoVersionHeaderOnFeed(Zend_Gdata_AppTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:204</p>

<p>10) testIfNoneMatchSetOnReload(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>11) testIfNoneMatchCanBeSetOnReload(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>12) testReloadReturnsEntryObject(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>13) testReloadPopulatesEntryObject(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>14) testReloadDoesntThrowExceptionIfNoEtag(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>15) testReloadExtractsURIFromEditLink(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>16) testReloadAllowsCustomURI(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>17) testCanSetReloadReturnClassname(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265</p>

<p>18) testReloadInheritsClassname(Zend_Gdata_App_EntryTest)
Undefined variable: majorProtocolVersion
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:808
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App.php:748
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Gdata/App/Entry.php:265
{panel}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-03-26T15:18:49.000+0000</p> 
        <div class="body">
            <p>It looks like the method signature for importString() is wrong, possibly due to a failed/missing merge from trunk into release-1.7.</p>

<p>trunk:
 798     public static function importString($string,
 799         $className='Zend_Gdata_App_Feed', $majorProtocolVersion = null,
 800         $minorProtocolVersion = null)
 801     {</p>

<p>release-1.7:
 793     public static function importString($string,
 794         $className='Zend_Gdata_App_Feed')
 795     {</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jochen Hartmann (jhartmann) on 2009-03-26T15:32:20.000+0000</p> 
        <div class="body">
            <p>Fixed in release1-7 in r14500, sorry about that.</p>

        </div>
    </div>
    </div>

