<h2>ZF-6166: Zend_Form_Dojo_Editor promotes insecurities and should have a default filter to strip malicious code</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>New Feature</dd>

    <dt>Created:</dt>
    <dd>2009-03-31T03:00:24.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:53:29.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The Dojo Editor generates HTML markup and thus the standard striptags filter cannot be used with it.  When echoing the output from it, it cannot be escaped for the same reason.  This opens up a significant attack vector to modern ZF applications.</p>

<p>Therefore a new filter should be enabled by default on this element, one which allows only the HTML tags generated by the editor and strips out any non-standard tags.</p>

<p>I've implemented this using HTMLPurifier, but given the simple HTML markup generated this is probably overkill, and anyway I doubt you want to bring all of the HTMLPurifier codebase into ZF. See forum post <a href="http://www.nabble.com/Zend_Form_Dojo-Editor-security-concern">http://nabble.com/Zend_Form_Dojo-Editor-security-câ€¦</a>-(escaping-output)-td22782919.html#a22801743</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:53:29.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

