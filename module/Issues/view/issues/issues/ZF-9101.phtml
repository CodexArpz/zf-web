<h2>ZF-9101: Cannot open a PDF file with more than two levels of depth in bookmarks by default</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-02-06T06:46:55.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-10-22T02:43:19.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.11.0 (02/Nov/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Christian Chaplais (woof)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Alexander Veremyev (alexander)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Pdf</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-9725">ZF-9725</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13016/Convergent+Evidence+for+Abnormal+Striatal+Synaptic+Plasticity+in+Dystonia+2010-4172.pdf">Convergent Evidence for Abnormal Striatal Synaptic Plasticity in Dystonia 2010-4172.pdf</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>If you call Zend_Pdf::load('test.pdf') and 'test.pdf' opens by default with more than 2 levels of bookmarks, you get the following error:</p>

<p>Fatal error: Uncaught exception 'Zend_Pdf_Exception' with message 'Outline childs load error.' in C:\fimarkets\site\dev\php\common\Zend\Pdf\Outline\Loaded.php:341 Stack trace: #0 C:\fimarkets\site\dev\php\common\Zend\Pdf.php(549): Zend_Pdf_Outline_Loaded-&gt;__construct(Object(Zend_Pdf_Element_Reference)) #1 C:\fimarkets\site\dev\php\common\Zend\Pdf.php(317): Zend_Pdf-&gt;_loadOutlines(Object(Zend_Pdf_Element_Reference)) #2 C:\fimarkets\site\dev\php\common\Zend\Pdf.php(253): Zend_Pdf-&gt;__construct('test.pdf', NULL, true) #3 C:\fimarkets\site\dev\php\common\test_zend_pdf.php(66): Zend_Pdf::load('test.pdf') #4 {main} thrown in C:\fimarkets\site\dev\php\common\Zend\Pdf\Outline\Loaded.php  on line 341</p>

<p>Tested with a PDF file generated by OpenOffice 3.1.1</p>

<p>The workaround is to generate the PDF file so that in the UI tab of the PDF options dialog box of Open Office, the "visible outline levels" are set to 2 or less.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Chris Hiestand (dimmer) on 2010-04-19T15:43:08.000+0000</p> 
        <div class="body">
            <p>I'm uploading another file which reproduces this error in Zend 1.9.x and 1.10.x, but not 1.8.5.</p>

<p>The only workaround for me right now is to use 1.8.5.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Roman Snitko (snowcore) on 2010-10-18T09:22:26.000+0000</p> 
        <div class="body">
            <p>The same for me.
Works on older version 1.7.2, but doesn't work on 1.10.5</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2010-10-21T22:50:41.000+0000</p> 
        <div class="body">
            <p>Fixed (fix is already available with ZF 1.11.0 RC1).</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Roman Snitko (snowcore) on 2010-10-22T02:43:17.000+0000</p> 
        <div class="body">
            <p>Alex, thank you very much!
It Works perfectly!</p>

        </div>
    </div>
    </div>

