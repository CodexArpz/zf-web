<h2>ZF-10867: Captcha image background color</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2010-12-24T04:29:29.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-06-18T12:33:10.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Sougata Mondal (sougata)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Stanislav Malyshev (stas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Captcha</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-4265">ZF-4265</a></li>
            <li><a href="/issues/browse/ZF-4459">ZF-4459</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13814/captcha_color_demo.zip">captcha_color_demo.zip</a></li>
            <li><a href="/issues/secure/attachment/13815/Image.patch">Image.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The zend captch class is great but there should be an option to change captcha image background color and font color. Upto Zend version 1.11 there is no option to change this property. if you want to change these property then you have to change the _generateImage function in Image.php.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Sandra Schneider (haruka) on 2011-03-22T19:19:55.000+0000</p> 
        <div class="body">
            <p>I hope this may be useful in anyway to solve this issue</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Christian Ludwig (ludwig) on 2012-01-16T20:16:38.000+0000</p> 
        <div class="body">
            <p>It seems like there are many users looking forward to have Zend_Captcha_Image been improved.</p>

<p>What I do not understand is what it is good for defining a $_startImage when it gets overlayed by a rectangle filled with the background color. Maybe it would be better to use imagecolorallocatealpha() instead of imagecolorallocate() or to leave the background alone if a startImage is set.</p>

<p>I think Sandras code is a great step for enhancing Zend_Captcha_Image but as mentioned above, I would prefer using imagecolorallocatealpha() and having a fourth parameter for the alpha.</p>

<p>Thanks Stanislav for reading this.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Gopal Aggarwal (gopal1035) on 2012-06-18T12:33:10.000+0000</p> 
        <div class="body">
            <p>Thanks for the meticulous attachments. They helped me in my project.</p>

        </div>
    </div>
    </div>

