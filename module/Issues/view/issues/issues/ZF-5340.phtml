<h2>ZF-5340: Zend_Form_Element_File getFileMimeType() and getFileSize  method</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-12-22T12:47:51.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-02-01T12:41:57.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.0 (30/Apr/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Form</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>It would be nice to have a functions  like getFileMimeType() and getFileSize   in Zend_Form_Element_File class.</p>

<p>public function getFileMimeType() {</p>

<pre><code>$content = $this-&gt;getTransferAdapter()-&gt;getFileInfo($this-&gt;getName());
$mimetype = $content['type'];

if (!isset($mimetype)) {
        return null;
    }        

    return $mimetype;
</code></pre>

<p>}</p>

<p>public function getFileSize() {
    $content = $this-&gt;getTransferAdapter()-&gt;getFileInfo($this-&gt;getName());
    $bytes = $content['type'];</p>

<pre><code>if (!isset($bytes)) {
        return null;
    }   
/* this method might return formated size in specific unit like kB,mB,gB ... */

return $bytes;
</code></pre>

<p>}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-12-22T12:53:44.000+0000</p> 
        <div class="body">
            <p>MimeType and FileSize might not be given.
It can not guaranteed that this values are filled by the webserver.</p>

<p>The transfer adapter itself does therefor not provide this methods.
When available it's still possible to get this data by using the getFileInfo() method. See the keys 'size' and 'type'.</p>

<p>Btw: Your second method will not work.</p>

<p>Also to note, your examples do not work when using multifiles.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-02-01T12:41:57.000+0000</p> 
        <div class="body">
            <p>Implemented with r13935</p>

        </div>
    </div>
    </div>

