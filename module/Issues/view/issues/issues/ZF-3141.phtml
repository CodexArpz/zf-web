<h2>ZF-3141: Zend_Translate CSV adapter is not RFC 4180 compliant</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>New Feature</dd>

    <dt>Created:</dt>
    <dd>2008-04-18T01:55:29.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-02T10:38:54.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Translate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11245/csvtest.zip">csvtest.zip</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The CSV file format is specified in RFC 4180 "Common Format and MIME Type for CSV Files". ( <a href="http://tools.ietf.org/html/rfc4180">http://tools.ietf.org/html/rfc4180</a> )</p>

<p>This format specifies that to use the separator character in values, the values must be surrounded by double quotes (double quotes in the value must be included by doubling the double-quote character). However, the Zend_Translate CSV adapter is not compatible with such files.</p>

<p>As a result, CSV files edited with Excel are not compatible with the CSV adapter, severely decreasing its applicability.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-04-18T02:03:51.000+0000</p> 
        <div class="body">
            <p>The CSV adapter was never intended to be RFCxxx compilant so this is not a bug but a feature enhancement.</p>

<p>Also RFC's are no standards, they are informational drafts which will lead to a standard. Until now such a standard has not been defined.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-04-18T02:05:29.000+0000</p> 
        <div class="body">
            <p>Please give an example file where you see problems...
Until now all CSV files worked, even from Excel 2003 which I worked with.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Joeri Sebrechts (jsebrech) on 2008-04-18T02:59:04.000+0000</p> 
        <div class="body">
            <p>I produced a file in Excel 2003. First column "FOO1", second column "Foo,;"1" (without the surrounding quotes).</p>

<p>This file when opened in notepad looks like this:</p>

<pre class="highlight"><code>

Outputting a translation from php with this code:
</code></pre>

<p>require_once("Zend/Translate.php");
$translate = new Zend_Translate("csv", "translation.csv", "en", array('separator' =&gt; ';'));
echo $translate-&gt;_("FOO1");</p>

<pre class="highlight"><code>

On screen I get:
</code></pre>

<p>While I expect:
```</p>

<p>Attached you'll find the CSV file and PHP script.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-06-02T14:07:46.000+0000</p> 
        <div class="body">
            <p>Integrated with r9585</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:38:54.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
    </div>

