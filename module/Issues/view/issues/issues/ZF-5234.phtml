<h2>ZF-5234: Unit Test Failures For Db2 Adapter</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2008-12-12T13:31:55.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-01-11T22:01:10.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Adapter_Db2</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Unit test failures on both i5 and windows.</p>

<pre class="highlight"><code>
There were 7 failures:

1) testAdapterZendConfigEmptyDriverOptions(Zend_Db_Adapter_Db2Test)
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ -1,3 +1,5 @@
 Array
 (
+    [autocommit] =&gt; 1
+    [DB2_ATTR_CASE] =&gt; 0
 )


2) testAdapterListTables(Zend_Db_Adapter_Db2Test)
Failed asserting that an array contains .

3) testAdapterQuoteArray(Zend_Db_Adapter_Db2Test)
Failed asserting that two strings are equal.
expected string &lt;'it\'s', 'all', 'right!'&gt;
difference      &lt;   x&gt;
got string      &lt;'it''s', 'all', 'right!'&gt;

4) testAdapterQuoteDoubleQuote(Zend_Db_Adapter_Db2Test)
Failed asserting that two strings are equal.
expected string &lt;'St John\"s Wort'&gt;
difference      &lt;        xxxxxxxx?&gt;
got string      &lt;'St John"s Wort'&gt;

5) testAdapterQuoteSingleQuote(Zend_Db_Adapter_Db2Test)
Failed asserting that two strings are equal.
expected string &lt;'St John\'s Wort'&gt;
difference      &lt;        x&gt;
got string      &lt;'St John''s Wort'&gt;

6) testAdapterQuoteIntoDoubleQuote(Zend_Db_Adapter_Db2Test)
Failed asserting that two strings are equal.
expected string 
difference      &lt;           xxxxxxxx?&gt;
got string      

7) testAdapterQuoteIntoSingleQuote(Zend_Db_Adapter_Db2Test)
Failed asserting that two strings are equal.
expected string 
difference      &lt;             x&gt;
got string      

FAILURES!
Tests: 94, Assertions: 357, Failures: 7.
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2008-12-15T13:54:02.000+0000</p> 
        <div class="body">
            <pre class="highlight"><code>
1) testStatementBindParamByName(Zend_Db_Statement_Db2Test)
Failed asserting that two strings are equal.
expected string 
difference      &lt;                      xxxxxxxxx????&gt;
got string      

2) testStatementBindValueByName(Zend_Db_Statement_Db2Test)
Failed asserting that two strings are equal.
expected string 
difference      &lt;                      xxxxxxxxx????&gt;
got string      </code></pre>

<p>As well.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2009-01-11T22:01:10.000+0000</p> 
        <div class="body">
            <p>fixed in 1.7.2</p>

        </div>
    </div>
    </div>

