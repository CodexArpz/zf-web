<h2>ZF-5649: Reduce Zend_Gdata latency</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Task</dd>

    <dt>Created:</dt>
    <dd>2009-01-28T18:33:19.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:38:11.000+0000</dd>

    <dt>Status:</dt>
    <dd>In Progress</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Trevor Johns (tjohns)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12996/mylyn-context.zip">mylyn-context.zip</a></li>
            <li><a href="/issues/secure/attachment/11858/takeChildFromDom_patch_and_tests.zip">takeChildFromDom_patch_and_tests.zip</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Performance for Zend_Gdata is currently less than ideal. Excluding time blocked on network I/O, we're spending 650 ms to parse the YouTube top rated videos feed. This should be lower.</p>

<p>This is a general tracking bug. Fixes for individual performance hotspots should be filed as subtasks.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Paul Mitchell (libertus) on 2009-04-05T07:32:18.000+0000</p> 
        <div class="body">
            <p>While profiling an application that uses the Zend_Gdata_Photos API, I discovered that lookupNamespace() was particularly heavily called and dominates the runtime of the app. I tracked this down to the implementation of the various takeChildFromDOM methods.</p>

<p>I've attached a zip file containing a test program, test data and a patch against ZF 1.7.8 that illustrate the issue. With the patch applied I achieved a 2.5x increase in performance.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Paul Mitchell (libertus) on 2009-04-05T07:37:02.000+0000</p> 
        <div class="body">
            <p>Test program, data and patch that highlight poor performance of the various takeChildFromDOM methods.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2009-04-07T17:57:10.000+0000</p> 
        <div class="body">
            <p>Paul, thanks for this patch!</p>

<p>However, before I can review and commit it, you'll need to have a CLA on file with the Zend Framework project. The instructions for this are here:</p>

<p><a href="http://framework.zend.com/community/contribute">http://framework.zend.com/community/contribute</a></p>

<p>Would you be okay with this? If so, please let me know once your CLA has been received and processed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Paul Mitchell (libertus) on 2009-04-08T23:57:38.000+0000</p> 
        <div class="body">
            <p>Hi Trevor,</p>

<p>I'm happy to help!</p>

<p>I didn't intend for the patch to be directly applied. I produced it to illustrate the issue and help people think about a solution. I'd be delighted if you can use it to inform the development of a better patch. You surely know the Gdata architecture far better than I. :)</p>

<p>I'm currently investigating both this issue and ZF-5959. I hope to soon provide a more comprehensive and holistic set of recommendations to improve the performance of the Gdata library. I'm comfortable signing the CLA but it doesn't seem necessary at this early stage. If, however, you need me to sign it in order to use what I have provided thus far, of course I shall do so forthwith.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Roy Ganor (royganor) on 2010-04-14T09:08:42.000+0000</p> 
        <div class="body">
            <p>my temportary context</p>

        </div>
    </div>
    </div>

