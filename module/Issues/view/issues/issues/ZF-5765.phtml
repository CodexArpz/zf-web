<h2>ZF-5765: Zend_Date unit test alters value of static variable fix_dst. This biases later tests.</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2009-02-12T14:06:08.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-02-19T15:22:10.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.0 (30/Apr/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Georg-Hendrik Haan (haan)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Date</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend/DateTest.php, function testAddMonth, line 4180:</p>

<pre class="highlight"><code>
Zend_Date::setOptions(array('fix_dst' =&gt; false));
</code></pre>

<p>The above code alters a static variable such that it differs from the default. This influences the outcome of later tests.</p>

<p>This is the cause of the ZF-5745.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Georg-Hendrik Haan (haan) on 2009-02-18T08:27:12.000+0000</p> 
        <div class="body">
            <p>This issue has been stale for a week, while other issues are being solved.</p>

<p>Was I wrong to label this as a blocker?
Is it not the case that 20% of Zend_Date unit test results are corrupt due to this?
Can someone please confirm this as a problem?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-02-18T10:21:03.000+0000</p> 
        <div class="body">
            <p>Please be patient.
We can not solve all 1000 bugs and feature requests in one week.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Georg-Hendrik Haan (haan) on 2009-02-19T11:00:10.000+0000</p> 
        <div class="body">
            <p>Please note that I'm not asking you to solve all 1000 bugs and feature requests in one week.</p>

<p>My comment was a plea to follow the priority system.</p>

<p>Issue ZF-5765 causes data loss and other irreversible damage for Zend Framework users.
The issue is labeled as critical, is clearly explained and is easy to confirm or disprove.
Still, low priority issues filed after this one are being resolved while 5765 seemed to be ignored.</p>

<p>I could not find a logical explanation for this other than that somehow this issue does not show in reports or similar.
Now that you've acknowledged, I can rest assured that this will be fixed in an appropriate time frame.</p>

<p>Kind regards,</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-02-19T11:14:43.000+0000</p> 
        <div class="body">
            <p>I don't know from where you get your knowledge but I have not solved any other issue except those which are no issue at all.</p>

<p>Only because I am working in the background does not mean that there is nothing done at all.
A solution, decission or negotation of this issue is only done when all cases have been prooved.</p>

<p>So please be patient. That is all I've asked for.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-02-19T15:22:09.000+0000</p> 
        <div class="body">
            <p>Unittests changed. Testbed passes without problems.</p>

        </div>
    </div>
    </div>

