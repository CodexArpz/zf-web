<h2>ZF-5736: Soap AutoDiscover: setUri() should support GET parameters</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-02-10T17:18:11.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-11-15T06:33:32.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.0 (30/Apr/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Wsdl</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-10660">ZF-10660</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hello, 
for a soap server I wrote the following code:</p>

<p>if(isset($_GET['wsdl'])) {</p>

<p>$autodiscover = new Zend_Soap_AutoDiscover();</p>

<p>$autodiscover-&gt;setUri("http://mydomain/soapserver.php?token=4444&amp; amp;key=5555"); //need &amp; amp; otherwise &amp; character will cause a loadXML() error</p>

<p>$autodiscover-&gt;handle();</p>

<p>}</p>

<p>Here setUri create a soap service with a soap:address attribut =&gt;  "http://mydomain/soapserver.php?token=4444&amp; amp;amp;key=5555"
The soap address should be "http://mydomain/soapserver.php?token=4444&amp; amp;key=5555" or "http://mydomain/soapserver.php?token=4444&amp;key=5555"</p>

<p>Note: 
if you encounter this problem too, a temporary solution could be to use / instead of GET parameter= &gt; 
$autodiscover-&gt;setUri("http://mydomain/soapserver.php/4444/5555")</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-04-15T03:03:21.000+0000</p> 
        <div class="body">
            <p>Fixed</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-04-15T08:16:05.000+0000</p> 
        <div class="body">
            <p>i just found a mistake in this fix, sorry. I reopen until i have found it.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-04-15T08:40:35.000+0000</p> 
        <div class="body">
            <p>fixed now</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jerome Mouneyrac (mouneyrac) on 2009-05-05T22:20:14.000+0000</p> 
        <div class="body">
            <p>Thanks Benjamin</p>

        </div>
    </div>
    </div>

