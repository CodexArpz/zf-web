<h2>ZF-3646: Automaticly add attachments for included images</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>New Feature</dd>

    <dt>Created:</dt>
    <dd>2008-07-14T16:36:43.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-01-30T13:00:24.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Michal Vrchota (techi)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Mail</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-3645">ZF-3645</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11392/example.php">example.php</a></li>
            <li><a href="/issues/secure/attachment/11391/Part.php">Part.php</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Most common email clients do not show embeded images, unless the user allow that
Therefore there should be some functionality which automaticly send embeded images as email attachments with correct headers.
I believe this is worth to implement.</p>

<p>Programmer just passes $mail-&gt;setBodyHTML() and something like $mail-&gt;sendEmbededImagesAsAttachment() and all <img src="xxx" alt="xxx" /> will be automaticly included in email as attachments with correct headers</p>

<p>working example with source code inside attachment</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Michal Vrchota (techi) on 2008-07-14T16:37:15.000+0000</p> 
        <div class="body">
            <p>Zend_Mime_Part with content-location header ability</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Michal Vrchota (techi) on 2008-07-14T16:38:07.000+0000</p> 
        <div class="body">
            <p>Example how to automaticly load attachments for embeded images in email</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Michal Vrchota (techi) on 2008-07-14T16:38:58.000+0000</p> 
        <div class="body">
            <p>This feature requires Content-Location header</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Nico Edtinger (nico) on 2008-11-07T17:14:33.000+0000</p> 
        <div class="body">
            <p>That sounds like too much magic for Zend_Mail. It's already possible to parse the html body and fetching the mails before creating the mail message. And normally you'd use the content-id with a cid: URL. If we leave that out of Zend_Mail you also have to possibility to use data: URIs, or inline stylesheets or javascript - adding all this possibilities to Zend_Mail makes it just bloated.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-01-16T09:43:06.000+0000</p> 
        <div class="body">
            <p>This is an extension that should reside in userland code, not in Zend_Mail itself.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Michal Vrchota (techi) on 2009-01-16T11:20:14.000+0000</p> 
        <div class="body">
            <p>You have conviced me :) I agree this feature will really bloat the code little bit.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-01-16T11:29:17.000+0000</p> 
        <div class="body">
            <p>issue is only resolved not closed.</p>

        </div>
    </div>
    </div>

