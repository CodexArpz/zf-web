<h2>ZF-8677: Send method in Zend_Queue defaults to ByteMessage type</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-12-31T04:42:12.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:37:38.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                D Saxena (d_saxena)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Queue</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The current implementation seems to default sending a message as a ByteMessage which means that reading messages on the client side(for example we have an MDB that receives this message) is cumbersome (we have to read sequential bytes and parse content based on byte number) I am not sure if the current implementation allows sending MapMessage ?This would make reading messages on client side a lot easier</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by D Saxena (d_saxena) on 2010-01-01T05:03:44.000+0000</p> 
        <div class="body">
            <p>One way of doing this might be to allow setting of JMS Header property 'transformation' to 'jms-map-json' somewhere within Zend_Queue/Adapter. At least in the case of ActiveMq, it will tell ActiveMq that the incoming message is JSON format and needs to be converted into a MAP. However, an issue has been raised earlier that currently there is no elegant way of setting custom JMS headers</p>

        </div>
    </div>
    </div>

