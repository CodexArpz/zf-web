<h2>ZF-4461: dijit.Editor plugins should generate dojo.require statements</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-10-03T04:32:27.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-10-16T10:54:11.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.9.5 (27/Oct/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11928/zf-4461-2.patch">zf-4461-2.patch</a></li>
            <li><a href="/issues/secure/attachment/11774/zf-4461-test.patch">zf-4461-test.patch</a></li>
            <li><a href="/issues/secure/attachment/11769/zf-4461.patch">zf-4461.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Currently, when adding Editor plugins via the addPlugin() method of Zend_Dojo_Form_Element_Editor, you have to manually do the dojo()-&gt;requireModule() statements that correspond to the plugin module. In most cases, the plugin will correspond to dijit._editor.plugins., and thus we can generate the dojo.require statement automatically.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Giorgio Sironi (giorgiosironi) on 2009-02-25T03:12:22.000+0000</p> 
        <div class="body">
            <p>However, most plugins are builtin in the editor (such as bold, italic, etc.), and does not require a dojo.require call; unfortunately the kick-ass buttons like LinkDialog are implemented as external plugins. I'll try to write a patch today.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Giorgio Sironi (giorgiosironi) on 2009-02-25T06:37:58.000+0000</p> 
        <div class="body">
            <p>This is a patch for Zend_Dojo as included in 1.7.5.
Beautiful editor commands included: createLink, fontName, fontSize, formatBlock, foreColor, hiliteColor. Specify it in plugins to include in editor:
$this-&gt;addElement('Editor', 'richtext', array(
    plugins =&gt; array('bold', 'italic', 'underline', 'createLink', 'foreColor', 'hiliteColor')
));
Hope to see this in next minor version (1.7.6 I think).</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-02-25T07:16:58.000+0000</p> 
        <div class="body">
            <p>Patch looks good -- but if you could also provide unit tests, it will make it that much easier for me to apply. :)</p>

<p>BTW, since it adds new functionality, it cannot be released until the next minor release, 1.8.0 (1.7.6 would be the next <em>mini</em> release, and is happening on Monday).</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Giorgio Sironi (giorgiosironi) on 2009-02-26T02:55:53.000+0000</p> 
        <div class="body">
            <p>Patch for EditorTest.php that make it fail in 1.7.5 and not fail in 1.7.5 after applying zf-4461.patch.
Good.. 1.8 will be fine.. :)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Giorgio Sironi (giorgiosironi) on 2009-05-15T00:02:04.000+0000</p> 
        <div class="body">
            <p>New patch against 1.8 that adds also insertImage plugin. I recommend the inclusion in this branch.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-10-16T10:54:09.000+0000</p> 
        <div class="body">
            <p>Patch applied against trunk and 1.9 release branch; I added a unit test to verify the behavior as well.</p>

        </div>
    </div>
    </div>

