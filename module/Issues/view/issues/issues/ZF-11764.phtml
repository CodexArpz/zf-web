<h2>ZF-11764: Bind variables lost when calling Zend_Db_Select-&gt;union() </h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-09-22T17:35:07.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-03-05T22:37:12.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Mason Malone (masonm)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Select</li>
            <li>state:need-feedback</li>
            <li>state:patch-ready-for-review</li>
            <li>zf-crteam-review</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/14708/ZF-11764.diff">ZF-11764.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>If you call Zend_Db_Select-&gt;union() with an array of Zend_Db_Select objects, any bind variables from those objects will not be copied over to the first select, resulting in an error when the union is executed. Tested in both release and in Subversion (r24460).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Mason Malone (masonm) on 2011-09-22T17:39:24.000+0000</p> 
        <div class="body">
            <p>Here's a patch to fix this, complete with a test case:
<a href="https://gist.github.com/1235429">https://gist.github.com/1235429</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Mason Malone (masonm) on 2011-10-11T16:14:39.000+0000</p> 
        <div class="body">
            <p>p.s. could someone give me file attachment permissions? It does not seem I am able to attach files to tickets.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Adam Lundrigan (adamlundrigan) on 2011-10-19T17:50:44.000+0000</p> 
        <div class="body">
            <p>Only those who have signed a CLA can receive file attachment permissions.
See here: <a href="http://framework.zend.com/wiki/display/ZFPROP/Contributor+License+Agreement">http://framework.zend.com/wiki/display/â€¦</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Adam Lundrigan (adamlundrigan) on 2011-11-08T14:37:31.000+0000</p> 
        <div class="body">
            <p>I've reviewed your patch, and everything seems A-OK to me.  The test you have provided passes, as does the whole {{Zend_Db}} test suite (excluding the normal fails I get back from the sqlite portion of {{Zend_Db}} on my system).</p>

        </div>
    </div>
    </div>

