<h2>ZF-8124: Zend_Mail_Storage_Pop3 header dont show to and from email address</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-10-22T15:08:21.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-11-20T09:39:28.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Nico Edtinger (nico)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Mail_Storage</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-7321">ZF-7321</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I am using Zend_Mail_Storage_Pop3 to read emails from the mailbox. I need to get from email address and to email address as there might be multiple user in to.
I am just getting name not email address. When I see header from outlook and thunderbird it shows both name and email address.
Suppose to contains     XYZ <a href="mailto:XYZ@domain.com">XYZ@domain.com</a>, then i just get name only and when i see header from thunderbird it displays both email and name. So how to get email address from header.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Elliot Anderson (elliot) on 2009-10-23T03:56:52.000+0000</p> 
        <div class="body">
            <p>Please post some code to demonstrate how you are getting the To: header contents</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by kadam (kadamnayak) on 2009-10-23T04:40:24.000+0000</p> 
        <div class="body">
            <p>$mail = new Zend_Mail_Storage_Pop3(array('host' =&gt; 'domain.com','user' =&gt; 'username','password' =&gt; 'password'));
        foreach ($mail as $message) 
        {</p>

<pre><code>        echo "From : " . $message-&gt;from;
        echo "&lt;br /&gt;";
        echo "To : " . $message-&gt;to;
        echo "&lt;br /&gt;";
        echo "From : ".$message-&gt;getHeader('from'); 
        echo "&lt;br /&gt;";
        echo "To : ".$message-&gt;getHeader('to'); 
        echo "&lt;br /&gt;";

        $header=$message-&gt;getHeaders(); 
        echo "Whole Header ";
        echo "&lt;br /&gt;";
        print_r($header);
        echo "&lt;br /&gt;";
        echo "&lt;br /&gt;";
        foreach ($message-&gt;getHeaders() as $name =&gt; $value)
        {
            if (is_string($value))
            {
                echo " $name: $value\n"; continue; 
            }
            foreach ($value as $entry)
            {
                echo " $name: $entry\n";
            }
        }


    }
</code></pre>

<p>I tried all this ways but just getting only name from the "name<a href="mailto:name@domain.com">name@domain.com</a>" not email address.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Nico Edtinger (nico) on 2009-11-05T04:26:03.000+0000</p> 
        <div class="body">
            <p>If you're using a browser to look at the output you might want to use htmlentities().</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Steve Hollis (stevehollis) on 2009-11-20T09:39:28.000+0000</p> 
        <div class="body">
            <p>Not a bug.</p>

        </div>
    </div>
    </div>

