<h2>ZF-7481: Zend_Filter_HtmlEntities legacy constructor is not handled properly</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-08-04T23:17:30.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-08-24T14:52:28.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.9.3 (22/Sep/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Björn Graf (bjoern)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Filter</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12125/HtmlEntities.php.patch">HtmlEntities.php.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The updated Zend_Filter_HtmlEntities constructor to favor a single options array does not translate the deprecated constructor call properly. While the backwards compatibility code path retrieves the functions argument array (line 67) it does not make any use of it (lines 68 and 70), causing a notice to be emitted and resulting in ignoring the passed in charset argument.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Björn Graf (bjoern) on 2009-08-04T23:44:59.000+0000</p> 
        <div class="body">
            <p>Patch to fix replace the $options in lines 68 and 70 with $argv.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-08-24T14:52:28.000+0000</p> 
        <div class="body">
            <p>Fixed with r17808</p>

        </div>
    </div>
    </div>

