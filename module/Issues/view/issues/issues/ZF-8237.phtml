<h2>ZF-8237: Zend Http Client Redirect header</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-11-05T16:21:58.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-11-07T23:36:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Shahar Evron (shahar)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Http_Client</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When we use Zend_Http_Client to request a page, usually, it look at the response header, find if there any redirect header like 'Location: abc.com' then forward the connection to new location.</p>

<p>But there some site that they're not only redirect to a new location but also set the cookie to track the redirection. If cookies is not match, then the new location output is very different from the matching cookie one. Currently, Zend_Http_Client is just forward to the new location but do nothing about the cookie.</p>

<p>So i recommend that before redirect to new location, Zend_Http_Client must read in the response header. If there're any 'Set-Cookie' header, then it must set the cookie header to the new location request header.</p>

<p>Example url that have both redirection header and set-cookie header:
<a href="http://www.oocl.com/oocl/Includes/eLink/ExpressLink.aspx?eltype=ct&amp;bl_no=&amp;cont_no=OOLU6022600">http://oocl.com/oocl/Includes/…</a></p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Shahar Evron (shahar) on 2009-11-07T23:36:32.000+0000</p> 
        <div class="body">
            <p>Please read the docs about Zend_Http_Cookiejar (<a href="http://files.zend.com/help/Zend-Framework/zend.http.cookies.html">http://files.zend.com/help/Zend-Framework/…</a>).</p>

<p>It's fairly easy to use and does exactly what you are looking for.</p>

        </div>
    </div>
    </div>

