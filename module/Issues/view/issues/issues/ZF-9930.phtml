<h2>ZF-9930: Spanish translation for Zend_Validate messages</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2010-06-01T16:00:57.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-06-05T13:14:41.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.6 (22/Jun/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Carlos Aguado (caaguado@xcentra.com)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Validate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13118/Zend_Validate.php">Zend_Validate.php</a></li>
            <li><a href="/issues/secure/attachment/13123/Zend_Validate_es_fixed.php">Zend_Validate_es_fixed.php</a></li>
            <li><a href="/issues/secure/attachment/13124/Zend_Validate_utf8.php">Zend_Validate_utf8.php</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi,</p>

<p>Please find attached the Spanish (es_ES) translation of the Zend_Validate messages. This should be put under /resources/languages/es/</p>

<p>I can't find this alredy there as of r22347</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Dolf Schimmel (Freeaqingme) (freak) on 2010-06-01T16:02:07.000+0000</p> 
        <div class="body">
            <p>thank you for contributing. However, no file was attached.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Carlos Aguado (caaguado@xcentra.com) on 2010-06-01T16:03:08.000+0000</p> 
        <div class="body">
            <p>Please note that the file revision fields and associated information should be updated within the file before committing it to trunk.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Carlos Aguado (caaguado@xcentra.com) on 2010-06-01T16:05:29.000+0000</p> 
        <div class="body">
            <p>Hi Dolf,</p>

<p>Now there's one. Sorry, it's my first improvement report and it took me a while to find my way.</p>

<p>Cheers, Carlos.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-03T03:49:34.000+0000</p> 
        <div class="body">
            <p>The added resource files have 2 problems.
I would ask to correct them because I dont want to add files which have problems before they have been integrated.</p>

<p>Note that the resource files must be kept up to date with the english resources, otherwise it could be that the spanish resources are deleted in future.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Carlos Aguado (caaguado@xcentra.com) on 2010-06-03T13:54:30.000+0000</p> 
        <div class="body">
            <p>Hi Thomas,</p>

<p>Thanks for your feedback. Please note that I've just compared the current version of file /standard/trunk/resources/languages/en/Zend_Validate.php (r22365) in trunk with the corresponding one delivered in ZF 1.10.5 (r22306) and they're both identical. As I made the translation on the 1.10.5 (r22306) version of the file, the translations should be fully valid now and onwards, at least until new validation messages are added to Zend_Validate_*.</p>

<p>Apart of that, I honestly can't find the 2 faults you mention, but if you tell me where they are located, I'll be more than happy to fix them and re-post the corrected file. I fully agree no defective files should be integrated in trunk.</p>

<p>Thanks, Carlos.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-04T06:44:47.000+0000</p> 
        <div class="body">
            <p>Actual Trunk gives the following errors:</p>

<pre class="highlight"><code>
1) testTranslationAvailableInEnglish(resources_languages_Zend_ValidateTest)
array (
  'es 1' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'fr 2' =&gt; 'The key "\'%value%\' contains not only digit characters" isn\'t available within english translation file',
  'it 3' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'ru 4' =&gt; 'The key "\'%value%\' contains not only digit characters" isn\'t available within english translation file',
  'ru 5' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'ru 6' =&gt; 'The key "\'%value%\' does not appear to be an postal code" isn\'t available within english translation file',
  'sr 7' =&gt; 'The key "\'%value%\' contains not only digit characters" isn\'t available within english translation file',
  'sr 8' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'sr 9' =&gt; 'The key "\'%value%\' does not appear to be an postal code" isn\'t available within english translation file',
  'sv 10' =&gt; 'The key "\'%value%\' contains not only digit characters" isn\'t available within english translation file',
  'sv 11' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'sv 12' =&gt; 'The key "\'%value%\' does not appear to be an postal code" isn\'t available within english translation file',
  'uk 13' =&gt; 'The key "The token \'%token%\' does not match the given token \'%value%\'" isn\'t available within english translation file',
  'uk 14' =&gt; 'The key "\'%value%\' does not appear to be an postal code" isn\'t available within english translation file',
)
C:\Voxtronic\3rdParty\Zend Framework\tests\resources\languages\Zend_ValidateTest
.php:133

2) testAllTranslated(resources_languages_Zend_ValidateTest)
array (
  'es 1' =&gt; 'Message "The two given tokens do not match" not translated',
  'fr 2' =&gt; 'Message "Invalid type given, the value should be a string" not translated',
  'it 3' =&gt; 'Message "Invalid type given, value should be string" not translated',
  'it 4' =&gt; 'Message "The two given tokens do not match" not translated',
  'ru 5' =&gt; 'Message "\'%value%\' contains characters which are not digits; but only digits are allowed" not translated',
  'ru 6' =&gt; 'Message "The two given tokens do not match" not translated',
  'ru 7' =&gt; 'Message "Invalid type given. The value should be a string or a integer" not translated',
  'ru 8' =&gt; 'Message "\'%value%\' does not appear to be a postal code" not translated',
  'ru 9' =&gt; 'Message "There was an internal error while using the pattern \'%pattern%\'" not translated',
  'ru 10' =&gt; 'Message "Invalid type given, the value should be a string" not translated',
  'ru 11' =&gt; 'Message "Invalid type given, the value should be a integer, a float or a numeric string" not translated',
  'sr 12' =&gt; 'Message "The two given tokens do not match" not translated',
  'sr 13' =&gt; 'Message "Invalid type given. The value should be a string or a integer" not translated',
  'sr 14' =&gt; 'Message "\'%value%\' does not appear to be a postal code" not translated',
  'sr 15' =&gt; 'Message "There was an internal error while using the pattern \'%pattern%\'" not translated',
  'sr 16' =&gt; 'Message "Invalid type given, the value should be a string" not translated',
  'sr 17' =&gt; 'Message "Invalid type given, the value should be a integer, a float or a numeric string" not translated',
  'sv 18' =&gt; 'Message "\'%value%\' contains characters which are not digits; but only digits are allowed" not translated',
  'sv 19' =&gt; 'Message "The two given tokens do not match" not translated',
  'sv 20' =&gt; 'Message "Invalid type given. The value should be a string or a integer" not translated',
  'sv 21' =&gt; 'Message "\'%value%\' does not appear to be a postal code" not translated',
  'sv 22' =&gt; 'Message "There was an internal error while using the pattern \'%pattern%\'" not translated',
  'sv 23' =&gt; 'Message "Invalid type given, the value should be a string" not translated',
  'sv 24' =&gt; 'Message "Invalid type given, the value should be a integer, a float or a numeric string" not translated',
  'uk 25' =&gt; 'Message "The two given tokens do not match" not translated',
  'uk 26' =&gt; 'Message "Invalid type given. The value should be a string or a integer" not translated',
  'uk 27' =&gt; 'Message "\'%value%\' does not appear to be a postal code" not translated',
  'uk 28' =&gt; 'Message "There was an internal error while using the pattern \'%pattern%\'" not translated',
  'uk 29' =&gt; 'Message "Invalid type given, the value should be a string" not translated',
  'uk 30' =&gt; 'Message "Invalid type given, the value should be a integer, a float or a numeric string" not translated',
)
C:\Voxtronic\3rdParty\Zend Framework\tests\resources\languages\Zend_ValidateTest
.php:212

FAILURES!
Tests: 6, Assertions: 0, Failures: 2.
</code></pre>

<p>as you can see there are 2 failures for the language "es". I tested with r22365 as mentioned by you.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Carlos Aguado (caaguado@xcentra.com) on 2010-06-04T09:47:11.000+0000</p> 
        <div class="body">
            <p>Hi Thomas,</p>

<p>Ummmmmm, I see. I really don't understand what happened. Anyway, the attached file should now be fixed. Actually, the 2 assertion failures were for the same wrong Zend_Validate_Identical message, one for the key that shouldn't be there, the other one for the key that was missing.</p>

<p>Thanks for the feedback!</p>

<p>Best regards, Carlos.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-04T14:42:31.000+0000</p> 
        <div class="body">
            <p>Added with r22375</p>

<p>Note: Keep in mind to keep this language up to date. Otherwise it could be reverted from core (ru, sv, sr and uk will probably be reverted for the next release)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-04T14:46:17.000+0000</p> 
        <div class="body">
            <p>Reopened:</p>

<p>The given file contains invalid characters. &amp;xxx; character encoding is not allowed.</p>

<p>All content have to be given in UTF8. Please change the resource file.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Carlos Aguado (caaguado@xcentra.com) on 2010-06-04T15:42:35.000+0000</p> 
        <div class="body">
            <p>Hi Thomas,</p>

<p>Here you go! The new attached file is purely in UTF-8. Besides, as I read all the strings again to remove HTML entities, I also corrected some few minor errors, so the translations are a bit more "accurate" now.</p>

<p>Excuse my ignorance: I understand the need for UTF-8, but it shouldn't have anything to do with whether certain HTML entities are used or not, right? For example, ZF makes use of PHP's htmlentities() in different parts of the framework to escape content that could perfectly be in UTF-8, and still HTML entities are thus used. So, is this more a style decision, or has it a "deeper" intention?</p>

<p>Thanks for your patience. As I said, I'm new contributing ZF and I'd like to continue learning along the process, so any feedback is, again, welcome!</p>

<p>Best regards, Carlos.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-04T16:07:29.000+0000</p> 
        <div class="body">
            <p>Thank you.. I'll commit it tomorrow.</p>

<p>UTF-8:
The translations are not only used for HTML but also for other views. So it is not fixed that we have htmlentities in place. Therefor all content (especially translations) must be given as UTF-8.</p>

<p>Beside that it is a rule for ZF itself that everything has to be given in UTF-8.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-06-05T13:14:41.000+0000</p> 
        <div class="body">
            <p>Implemented with r22386</p>

        </div>
    </div>
    </div>

