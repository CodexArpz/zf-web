<h2>ZF-11926: Zend_Validate_Date should not check date format when validating array</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-12-05T10:17:21.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-02-24T18:14:12.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Validate</li>
            <li>state:patch-ready-for-review</li>
            <li>zf-crteam-review</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/14751/Zend_Validate_DateTest-group-annotations.diff">Zend_Validate_DateTest-group-annotations.diff</a></li>
            <li><a href="/issues/secure/attachment/14750/zf-11926.v2.diff">zf-11926.v2.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When validating an invalid date given as an array the validator the error message should Zend_Validate_Date::INVALID_DATE instead of Zend_Validate_Date::FALSEFORMAT</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Antonio J García Lagar (ajgarlag) on 2011-12-06T15:20:57.000+0000</p> 
        <div class="body">
            <p>My first patch ;)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Adam Lundrigan (adamlundrigan) on 2011-12-07T02:05:53.000+0000</p> 
        <div class="body">
            <p>I've tested your patch...it applies cleanly and works as expected with no visible side-effects.  I'm  not intimately familiar with this class, and also can't comment on whether changing error message behavior like this is considered a BC break, so I'll have to defer to the component maintainer who can commit your patch if it passes his inspection.</p>

<p>One thing to note for future reference is that your test case should use the {{@group}} annotation to denote the issue the test is associated with, like so:</p>

<pre class="highlight"><code>
/**
 * @group ZF-11926
 */
public function testArrayValidationErrorMessage()
...
</code></pre>

<p>I assume you modeled your test after the existing ones in that class, and many of those break this rule, so that omission is completely understandable.  Using that docblock annotation format allows us to run tests in isolation (ie: to run just tests for this bug, run {{./runtests.sh ZF-11926}} from {{tests}} folder).</p>

<p>Thank you for your contribution!</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Antonio J García Lagar (ajgarlag) on 2011-12-07T07:30:24.000+0000</p> 
        <div class="body">
            <p>Thanks for your comment.</p>

<p>I've edited the docblock to annotate the test group properly.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Antonio J García Lagar (ajgarlag) on 2011-12-07T07:35:27.000+0000</p> 
        <div class="body">
            <p>As a bonus for my previous fault I've added a patch to fix the group annotations for the other tests.</p>

        </div>
    </div>
    </div>

