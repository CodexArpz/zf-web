<h2>ZF-3207: Zend_Form input element fails W3C validation due to omitted end tag</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-05-06T07:47:06.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-05-26T02:21:42.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Russell Moorman (rmoorman)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Form</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>End tags for all input elements (Zend_Form_Element_Text, Zend_Form_Element_Submit, et al.) are omitted.</p>

<p>The following code:
$form = new Zend_Form();
$form-&gt;setAction($this-&gt;view-&gt;url(array('action'=&gt;'query')))
           -&gt;setMethod('post');
$form-&gt;addElement( new Zend_form_Element_Text('location', array('label' =&gt; 'Location')) );
$form-&gt;addElement( new Zend_form_Element_Submit('submit', array('label' =&gt; 'Update', 'class' =&gt; 'button')) );</p>

<p>Renders the following input elements:
</p>

<p>Output should be:
</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jordan Ryan Moore (jordanryanmoore) on 2008-05-06T08:57:35.000+0000</p> 
        <div class="body">
            <p>Use Zend_View_Helper_Doctype to set an XHTML doctype, and the form view helpers will output as you were expecting.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Russell Moorman (rmoorman) on 2008-05-06T10:04:37.000+0000</p> 
        <div class="body">
            <p>I'm using XHTML1_TRANSITIONAL; apparently this doesn't support closing tags under the Zend Framework, though I'm pretty sure it should.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Joó Ádám (ceriak) on 2008-05-25T12:38:12.000+0000</p> 
        <div class="body">
            <p>I renders the same using XHTML1_STRICT too.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Pádraic Brady (padraic) on 2008-05-26T02:21:40.000+0000</p> 
        <div class="body">
            <p>You need to set the doctype prior to any form being generated. A good place for that is in the Bootstrap since that also centralises the Doctype setting for the entire application.</p>

        </div>
    </div>
    </div>

