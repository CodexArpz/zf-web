<h2>ZF-8596: Zend_Tool Application Create enhance to support suPHP</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-12-21T11:43:14.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:37:25.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                David Moring (davmor)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Tool</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The Zend Tool application provider does an excellent job of creating the index.php and .htaccess files for standard PHP installations.  Unfortunately, this default configuration is incompatible with suPHP, used by many hosts.</p>

<p>The suggestion is either incorporating this variant in the application provider or providing notes in the documentation on how to modify the .htaccess and index.php files.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2009-12-21T12:18:52.000+0000</p> 
        <div class="body">
            <p>Can you please elaborate?  What elements in the index.php and/or .htaccess are not compatible?</p>

<p>-ralph</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by David Moring (davmor) on 2009-12-22T09:24:52.000+0000</p> 
        <div class="body">
            <p>Good catch, my mistake.  Under suPHP, the system vars set via the .htaccess file (ie: SetEnv APPLICATION_ENV production) do not get transferred to the executing PHP environment.</p>

<p>I spent some time looking around, it seems that suPHP does not have a way to transfer in environment variables from .htaccess -- maybe someone deeper than I in suPHP has a way.</p>

<p>So one solution is to hack the index.php script that is produced by Zend Tool, but that seems inelegant, given how well the rest of Zend_Tool providers work in a staged development methodology.</p>

<p>Maybe a better approach would be to have the application provider add a line that looks for a site specific config file that can set the environment vars (and other stuff if needed).  Maybe even use a test to see if APPLICATION_ENV is empty before sourcing the site specific file, to increase performance.  This seems to be a design kind of decision, best made by you guys.</p>

<p>Hope this helps...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2010-10-21T07:45:03.000+0000</p> 
        <div class="body">
            <p>How is it incompatible? Can you provide a suggestion or notes to the specific inconsistency?</p>

        </div>
    </div>
    </div>

