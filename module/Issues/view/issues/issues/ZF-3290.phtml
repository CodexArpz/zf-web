<h2>ZF-3290: Zend_Locale::setDefault should check input type and react with Exception</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-05-19T01:11:50.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-02T10:39:30.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Locale</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When inserting non-string value to Zend_Locale::setDefault, PHP warning is issued:</p>

<p>Warning: array_key_exists() [function.array-key-exists]: The first argument should be either a string or an integer in ... on line 240</p>

<p>Zend_Locale should check type of parameter and throw an Exception in case the variable !is_string()</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-05-19T09:08:40.000+0000</p> 
        <div class="body">
            <p>And why do you think is there a API doc where "string" is defined as input format ?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matej Hump√°l (finwe) on 2008-05-20T09:53:24.000+0000</p> 
        <div class="body">
            <p>Well, I certainly would not try to force non-string value as a parameter, but phpdoc will not prevent me to do so by mistake. Moreover, ZF converts PHP errors to exceptions (or prevents them in the first place) on so many other places, so I don't see a reason why not to do so in this case.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-06-05T05:24:11.000+0000</p> 
        <div class="body">
            <p>There is no array_key_exists call within the trunk.
Seems to be fixed somewhere in the past.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:39:30.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
    </div>

