<h2>ZF-3783: SubControllers in default module create invalid helper prefix</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-07-28T14:26:28.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-02T10:39:25.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Loader</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11450/zf_helper_test.zip">zf_helper_test.zip</a></li>
            <li><a href="/issues/secure/attachment/11465/zf_helper_test_redefined.zip">zf_helper_test_redefined.zip</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Currently, when using sub controllers in the default module, a helper path based on the leading path segment is created, instead of using the default. For example:</p>

<pre class="highlight"><code>
application/
    controllers/
        Admin/
            FooController.php
    views/
        helpers/
            SomeHelper.php
</code></pre>

<p>application/views/helpers/SomeHelper.php would contain the class Zend_View_Helper_SomeHelper. If an action in Admin_FooController is invoked and the view calls the someHelper() helper, it will attempt to resolve it to Admin_View_Helper_SomeHelper and not find it.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-07-28T18:10:50.000+0000</p> 
        <div class="body">
            <p>Fixed in trunk and 1.6 release branch</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by michael depetrillo (klassicd) on 2008-07-29T00:42:19.000+0000</p> 
        <div class="body">
            <p>This is still broken.  I just checked revision 10525.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-07-29T06:54:10.000+0000</p> 
        <div class="body">
            <p>If you feel it is still broken, then I need a reproduce case. This should include the minimal amount of application structure necessary to reproduce the issue. I will re-open the issue once you have posted a reproduce case.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Zoran Lazic (zoki) on 2008-07-30T04:16:14.000+0000</p> 
        <div class="body">
            <p>This is minimum setup for recreate of bug.
Zip includes bootstrap and module Admin, View Helper and view scripts.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-08-07T07:01:08.000+0000</p> 
        <div class="body">
            <p>Unfortunately, you're using so many non-standard options, it's difficult to track down the issue.The combination of (a) not specifying a default module name (b) using non-standard paths in the ViewRenderer, and (c) not utilizing the error handler plugin is not helping unmask the problem. I'm attaching a tarball that <em>does</em> show the issue, however, using default settings for most cases.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-08-07T07:04:23.000+0000</p> 
        <div class="body">
            <p>Simplified example. Navigate to /admin/index/test to see the issue.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-08-07T07:28:57.000+0000</p> 
        <div class="body">
            <p>Re-marking as Zend_Loader issue. Fixed in trunk and 1.6 release branch.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:39:25.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
    </div>

