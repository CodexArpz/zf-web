<h2>ZF-6136: Large set of &quot;Zend_Session_Exception: Zend_Session is currently marked as read-only.&quot; errors</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2009-03-26T14:13:39.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-03-27T05:45:02.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.7.8 (30/Mar/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Alexander Veremyev (alexander)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Session</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-6137">ZF-6137</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>{panel}
19) testLogin(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>20) testLogout(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>21) testLoggedInUser(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>22) testAllowSite(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>23) testDenySite(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>24) testDelSite(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>25) testGetTrustedSites(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>26) testCheckIdImmediate(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider.php:208</p>

<p>27) testCheckIdSetup(Zend_OpenId_ProviderTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider.php:208</p>

<p>28) testGetLoggedInUser(Zend_OpenId_Provider_User_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Abstract.php:112
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:392
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/OpenId/Provider/User/Session.php:100</p>

<p>29) testMagicMethodsEmpty(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>30) testInitNamespaces(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>31) testGetIterator(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>32) testLock(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>33) testLockNamespace(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>34) testUnLockAll(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>35) testUnsetAll(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>36) testUnset(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>37) testUnsetNamespace(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>38) testUnsetAllNamespace(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>39) testSetExpirationSeconds(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>40) testSetExpireSessionHops(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300</p>

<p>41) testSetExpireSessionVarsByHops1(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:460</p>

<p>42) testSetExpireSessionVarsByHops2(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:460</p>

<p>43) testSetExpireSessionVarsByHopsOnUse(Zend_SessionTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:460</p>

<p>44) testSessionSaving(Zend_Session_SaveHandler_DbTableTest)
Zend_Session_Exception: Zend_Session is currently marked as read-only.
/home/cawa/ZendFramework/svn/framework/branches/release-1.7/library/Zend/Session/Namespace.php:300
{panel}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2009-03-26T14:15:16.000+0000</p> 
        <div class="body">
            <p>That's probably side effect of error in some other test. Previous session is not destroyed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2009-03-26T14:20:05.000+0000</p> 
        <div class="body">
            <p>Probably [ZF-6135] and [ZF-6137] related.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2009-03-27T05:45:00.000+0000</p> 
        <div class="body">
            <p>Fixed.</p>

        </div>
    </div>
    </div>

