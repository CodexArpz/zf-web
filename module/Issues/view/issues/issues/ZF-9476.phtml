<h2>ZF-9476: Trying to add some data to database from a form</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Coding Standards Violation</dd>

    <dt>Created:</dt>
    <dd>2010-03-18T18:03:41.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-03-19T07:38:59.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                stelios (invader7)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hello! I'm new at this tracker and i want your help for first time. I have a registration form and i'm trying to add data to database. After pushing register button it executes process action and i get</p>

<p>Fatal error: Uncaught exception 'Zend_Controller_Response_Exception' with message 'Cannot send headers; headers already sent in C:\xampp\htdocs\eshop\public\index.php, line 8' in C:\xampp\php\PEAR\Zend\Controller\Response\Abstract.php:282 Stack trace: #0 C:\xampp\php\PEAR\Zend\Controller\Response\Abstract.php(300): Zend_Controller_Response_Abstract-&gt;canSendHeaders(true) #1 C:\xampp\php\PEAR\Zend\Controller\Response\Abstract.php(727): Zend_Controller_Response_Abstract-&gt;sendHeaders() #2 C:\xampp\php\PEAR\Zend\Controller\Front.php(984): Zend_Controller_Response_Abstract-&gt;sendResponse() #3 C:\xampp\php\PEAR\Zend\Application\Bootstrap\Bootstrap.php(77): Zend_Controller_Front-&gt;dispatch() #4 C:\xampp\php\PEAR\Zend\Application.php(358): Zend_Application_Bootstrap_Bootstrap-&gt;run() #5 C:\xampp\htdocs\eshop\public\index.php(36): Zend_Application-&gt;run() #6 {main} thrown in C:\xampp\php\PEAR\Zend\Controller\Response\Abstract.php  on line 282</p>

<p>my processAction (code on my IndexController)</p>

<p>public function processAction()</p>

<p>{</p>

<p>require(APPLICATION_PATH."/configs/database.ini");</p>

<p>$DB = new Zend_Db_Adapter_Pdo_Mysql($params);</p>

<p>$request = $this-&gt;getRequest();</p>

<p>$sql = 
"INSERT INTO <code>users</code> (<code>username</code>) VALUES ('".$request-&gt;getParam('username')."')";</p>

<p>$DB-&gt;query($sql);</p>

<p>$this-&gt;view-&gt;assign('title','Register');
$this-&gt;view-&gt;assign('description','Success');</p>

<p>}</p>

<p>my process.phtml code</p>

<p></p><center>

&lt;?php

echo "

<h1>$this-&gt;escape $this-&gt;title</h1>
<h2>$this-&gt;escape $this-&gt;description</h2>

";

?&gt;

<p></p></center>

<p>and my index.php code</p>

<p></p>Eshop

&lt;?php
require('modules/header.php');
require('modules/menu.php');

// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));

// Define application environment
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));

// Ensure library/ is on include_path
set_include_path(implode(PATH_SEPARATOR, array(
    realpath(APPLICATION_PATH . '/../library'),
    get_include_path(),
)));

/** Zend_Application */
require_once 'Zend/Application.php';

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/configs/application.ini'
);
$application-&gt;bootstrap()-&gt;run();
?&gt;

<p>can someone help me ? thanks</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2010-03-19T07:38:42.000+0000</p> 
        <div class="body">
            <p>Please ask this question on the mailing lists; details for subscription are found on <a href="http://framework.zend.com/archives">http://framework.zend.com/archives</a></p>

<p>Use the issue tracker to report verified bugs only, please.</p>

        </div>
    </div>
    </div>

