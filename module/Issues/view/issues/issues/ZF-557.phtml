<h2>ZF-557: Unexpected behaviour in Zend_Db_Table-&gt;find()</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2006-11-15T07:55:36.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:28.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.9.0 (17/Mar/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Axel Christ (ach)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Bill Karwin (bkarwin)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Table</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The find() method of Zend_Db_Table accepts either a single value or an array as parameter. In case you provide an array they function will only retrieve results if the array has more then one elements. Since you might want to use find() on a generated list of ids this behaviour complicates scripts unnessecarily.</p>

<p>The responsible line of code is:</p>

<pre class="literal">
if (count($val) &gt; 1) {
</pre>

<p>Instead there should be something like:</p>

<pre class="literal">
if (is_array($val)) {
</pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2006-11-15T11:30:45.000+0000</p> 
        <div class="body">
            <p>Assigning to Bill Karwin, and setting fix version to 0.8.0.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-01-03T23:45:11.000+0000</p> 
        <div class="body">
            <p>See also ZF-21 for another confusing behavior of the find() method.  We should resolve both of these.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-01-05T17:06:23.000+0000</p> 
        <div class="body">
            <p>Recategorize as Zend_Db_Table component.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-03-16T01:23:35.000+0000</p> 
        <div class="body">
            <p>Fixed in revision 4008.</p>

        </div>
    </div>
    </div>

