<h2>ZF-10902: Missing translation support in JQuery view helpers and decorators</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-01-04T05:59:57.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-05-11T15:03:29.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Przemys?aw Wróbel (wrobel)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>ZendX_JQuery</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>ZendX_JQuery_Form_Decorator_UiWidgetElement does not set translator in its render() method. Similarly ZendX_JQuery_View_Helper_UiWidget does not implement translation since it is deriving directly from Zend_View_Helper_HtmlElement instead of Zend_View_Helper_FormElement.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Kim Blomqvist (kblomqvist) on 2011-04-23T11:47:29.000+0000</p> 
        <div class="body">
            <p>bq. ZendX_JQuery_Form_Decorator_UiWidgetElement does not set translator in its render() method.</p>

<p>Decorator should not be aware of translator or translations and nor is {{Zend_Dojo_Form_Decorator_DijitElement::render()}}, which is equivalent with {{ZendX_JQuery_Form_Decorator_UiWidgetElement::render()}}.</p>

<p>bq. Similarly ZendX_JQuery_View_Helper_UiWidget does not implement translation since it is deriving directly from Zend_View_Helper_HtmlElement instead of Zend_View_Helper_FormElement.</p>

<p>{{ZendX_JQuery}}'s UiWidget view helper is extended similarly than {{Zend_Dojo}}'s Dijit view helper so I guess that the problem is not in view helpers neither.</p>

<p>Could you provide some more info or code which details the problem.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Przemys?aw Wróbel (wrobel) on 2011-05-11T15:03:29.000+0000</p> 
        <div class="body">
            <blockquote>
  <p>Decorator should not be aware of translator or translations and nor is Zend_Dojo_Form_Decorator_DijitElement::render(), which is equivalent with ZendX_JQuery_Form_Decorator_UiWidgetElement::render().</p>
</blockquote>

<p>But Zend_Form_Decorator_ViewHelper is aware of translator - see lines 242:244
        $helperObject  = $view-&gt;getHelper($helper);
        if (method_exists($helperObject, 'setTranslator')) {
            $helperObject-&gt;setTranslator($element-&gt;getTranslator());
        }</p>

<p>and this allows view helpers deriving from Zend_View_Helper_FormElement to translate something when rendering...
other examples are: Zend_View_Helper_FormElement, Zend_View_Helper_FormSelect, Zend_View_Helper_HeadTitle</p>

<p>My problem is that I am writing a from element + view helper for a jQuery plugin and I would like to translate something during rendering like other non-jquery view helpers can.</p>

        </div>
    </div>
    </div>

