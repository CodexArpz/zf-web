<h2>ZF-8041: Layout controller plugin renders layout even if response was redirect</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-10-09T15:50:49.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-11-25T00:28:54.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.0 (27/Jan/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Olek (olek)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Marco Kaiser (bate)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Layout</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12294/layout_controller_plugin_no_render_on_redirect.diff">layout_controller_plugin_no_render_on_redirect.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend layout controller plugin does not return early on a redirect response code in postDispatch(), thus if the redirector is not configured to exit immediately after redirect (as in test environment), the layout template is still rendered, which may lead to exceptions while rendering (since the view may not be properly set up).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Olek (olek) on 2009-10-09T15:56:44.000+0000</p> 
        <div class="body">
            <p>A patch containing a failing test and a solution to make the test pass</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marco Kaiser (bate) on 2009-11-20T06:46:15.000+0000</p> 
        <div class="body">
            <p>fixed/added patch with r19090</p>

        </div>
    </div>
    </div>

