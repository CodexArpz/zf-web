<h2>ZF-6407: Create method to retreive actual destination</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-04-24T01:00:52.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-04-27T01:38:36.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.0 (30/Apr/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_File_Transfer</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Create method to retreive the actual destination of transferred file after a possible Rename filter is applied.</p>

<pre class="highlight"><code>
$upload = new Zend_File_Transfer_Adapter_Http();

$upload-&gt;setDetination('/tmp');

$upload-&gt;addFilter('Rename', 'C:\mypics\new\my_unique_filename.ext', 'upload');

$upload-&gt;receive();

$filename = $upload-&gt;getFileName('upload'); // Does not respect Rename filter and returns the "old" destination /tmp/uploaded_filename.ext

// Possible new method
$filename = $upload-&gt;getActualTransferedFileName('upload'); // Should return C:\mypics\new\my_unique_filename.ext
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-04-25T03:52:04.000+0000</p> 
        <div class="body">
            <p>Not reproducable in trunk (next major release)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jan Sorgalla (jsorgalla) on 2009-04-26T23:33:12.000+0000</p> 
        <div class="body">
            <p>It would be nice if you could correctly respond to issues reported. It took me some time to figure out that getFileName() was changed in trunk (<em>after</em> i filed this issue) to now respect Rename filters. So, "Not reproducable" was very misleading here...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-04-27T00:06:18.000+0000</p> 
        <div class="body">
            <p>You filled in a issue for trunk without giving a release number.
So my intention was that you are using the latest trunk version (next major release).</p>

<p>getFileName has not changed but another issue has been solved this week which has been told over IRC. It could be, based on your reply, that both issues are based on the same reason but as the other issue was based on another method and uses different code I thought that they are also based on different reasons.</p>

<p>I'm sorry if that seems irritating and would ask you next time to give the svn release number you've tested against.
This allows me to test against that special release and respect this within the reply.</p>

<p>I will change the solution to respect what you noted.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-04-27T00:08:35.000+0000</p> 
        <div class="body">
            <p>Already fixed by another issue within trunk release.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jan Sorgalla (jsorgalla) on 2009-04-27T01:38:33.000+0000</p> 
        <div class="body">
            <p>I actually used latest trunk version (at time of writing the issue). But yes, i will add the svn release number next time.
Thanks a lot for your work, really appreciated.</p>

        </div>
    </div>
    </div>

