<h2>ZF-9708: Floating point number converted to some negative exponent number</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-04-19T03:50:49.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:37:46.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                jagan langa (jagan)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Amf</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi, 
I'm using flex builder 3 and sdk3.3, in our last project we used ZendAmfphp as our server side script. when we send a floating point number in a value object (for example 3.8756 like some thing) to php,  the number get converted to some negative value (some thing like 1.9383e-28) in the php side when they try to get the value from the Value Object. Is there any one know, where we went wrong.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Wade Arnold (wadearnold) on 2010-05-05T12:54:21.000+0000</p> 
        <div class="body">
            <p>Can you supply a PHP class file example. This will help me pinpoint if this is and AMF0 or AMF3 issue. We are currently using 31.57 for the test case of the float value.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by jagan langa (jagan) on 2010-05-05T22:50:19.000+0000</p> 
        <div class="body">
            <p>Hi,</p>

<p>its working on solaris(intel hardware)with coolstock, but not work in same solaris version(sparc hardware).</p>

<p>Other details:</p>

<p>Server OS : SunOS 
File System : UFS
Apache Version : Apache/2.2.9
PHP Version : PHP/5.2.6
Apache API Version : 20051115
php API : 20041225</p>

<p>RenderVO.php
// Value object class in php 
class RenderVO
{
    var $photoId="";
    var $albumId = "";
    var $vFlip = 0;
    var $hFlip = 0;
    var $rotation = 0;
    var $cropX = 0;
    var $cropY = 0;
    var $cropWidth = 0;
    var $cropHeight = 0;
    var $vignette;
    var $mediumWidth = 0;
    var $mediumHeight = 0;
    var $colorEffects;
    var $tintColor;
    var $base64ImageSnapShot;
    var $originalMedSource = "";
    var $_explicitType = "com.source.model.render.vo.RenderVO";<br />
}</p>

<p>require_once "com/source/model/render/vo/RenderVO.php";
// Class which is used by flex to save details 
class PhotoService
{</p>

<p>function savePhoto($render=NULL, $saveAndReplace = false, $albumtype="", $shareid="")
{
    $vType = $saveAndReplace == 1 ? 2 : 1; 
    $render-&gt;photoId;
    $colorEffects = $render-&gt;colorEffects;
    $vData='rotation='.$render-&gt;rotation.',cropX='.$render-&gt;cropX.',cropY='.$render-&gt;cropY.',cropWidth='.$render-&gt;cropWidth.',cropHeight='.$render-&gt;cropHeight.',hFlip='.$render-&gt;hFlip.',vFlip='.$render-&gt;vFlip.',width='.$render-&gt;mediumWidth.',height='.$render-&gt;mediumHeight;<br />
}</p>

<p>}</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by jagan langa (jagan) on 2010-05-05T23:28:07.000+0000</p> 
        <div class="body">
            <p>hi, here is the updated h/w and s/w details,</p>

<p>OS : SunOS 5.10 Generic_142900-02
HARDWARE  : sparc 
openssl version 0.9.7d
apache and php installed using coolstack packages[1.3.1]
apache version 2.2.9
php version 5.2.6</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wade Arnold (wadearnold) on 2010-05-12T06:46:00.000+0000</p> 
        <div class="body">
            <p>Jagan,</p>

<p>I do not have access to such hardware. I have requested a test server from zend or someone from zend to look into this issue.</p>

        </div>
    </div>
    </div>

