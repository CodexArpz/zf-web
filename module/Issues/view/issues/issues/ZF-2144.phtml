<h2>ZF-2144: Allow where() to accept array as input</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2007-11-04T15:01:44.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-05-05T22:53:07.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Adam Lundrigan (adamlundrigan)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Select</li>
            <li>state:need-feedback</li>
            <li>zf-caretaker-adamlundrigan</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-2143">ZF-2143</a></li>
            <li><a href="/issues/browse/ZF-2228">ZF-2228</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Db_Select::where() should be able to accept arrays as input...</p>

<p>This can simplify input like in the following example:
old:</p>

<pre class="highlight"><code>
$db-&gt;where('column1 = ?', 2)
       -&gt;where('column2 = ?', 5)
       -&gt;where('column3 = ?', 10);
</code></pre>

<p>simplified:</p>

<pre class="highlight"><code>
$array = array(
    'column1' =&gt; 2,
    'column2' =&gt; 5,
    'column3' =&gt; 10);
$db-&gt;where($array);
</code></pre>

<p>This is of course only supported if named arrays are given.
The values from numeric arrays would be used for replacing existing placeholders</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-11-05T14:46:42.000+0000</p> 
        <div class="body">
            <p>Assigning to [~thomas].</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2007-11-08T22:01:23.000+0000</p> 
        <div class="body">
            <p>Setting this to Nice to Have for project management purposes. When it is completed it will be included in the release, it just won't be prioritized for completion by a member of the Zend team. All yours, Thomas. ;)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-11-09T01:01:54.000+0000</p> 
        <div class="body">
            <p>Actually I've discussed, with darby and simon, all 4 issues related to change the "where" clause where this issue also belongs to.</p>

<p>We already set the things on the road and cleared the acceptable use cases.
So I'll do my best :-)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-01-17T15:32:56.000+0000</p> 
        <div class="body">
            <p>Assigned to Darby because all other related and dependend issues are related to him</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2008-01-17T16:04:48.000+0000</p> 
        <div class="body">
            <p>If you want to work on this, please don't hesitate to reassign any Db-related issue that is currently assigned to me, including the ones on which this depends, as I won't likely have any time to get to them until after this release anyway.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Eric Marden (xentek) on 2008-02-29T08:48:14.000+0000</p> 
        <div class="body">
            <p>I'm being affected by this issue as well, and was going to file a new bug, until I saw this. However, shouldn't the the array look more like this?</p>

<pre class="highlight"><code>
$array = array(
'column1 = ?' =&gt; 1,
'column2 = ?'  =&gt; 'string',
'column3 = ?' =&gt; $var);
$db-&gt;where($array);
</code></pre>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-02-29T09:09:26.000+0000</p> 
        <div class="body">
            <p>No, you are not affected by this... ;-)</p>

<p>Until now array are not supported as described here and this feature is, for now, not integrated.
So you can't be affected by an issue which is not integrated nor described.</p>

<p>It will be integrated after 1.5 is out.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-03-11T03:35:01.000+0000</p> 
        <div class="body">
            <p>Class will be reworked by Simon... sorry if I confused anybody. He has a better overview over the complete Db design, not only Zend_Db_Select and will help better than me.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-03-25T22:06:44.000+0000</p> 
        <div class="body">
            <p>Resetting 'fix version priority' and 'fix version' to be re-evaluated for next release.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-06-09T12:53:08.000+0000</p> 
        <div class="body">
            <p>I'd like to see a use case with the latest Zend_Db_Select where this would be particularly useful.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-06-09T13:37:19.000+0000</p> 
        <div class="body">
            <p>Simon, is this a change that makes sense with the current Zend_Db_Select? If so, please schedule for a fix. I personally would like to see an example where it significantly clarifies or reduces code.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2009-01-06T10:57:03.000+0000</p> 
        <div class="body">
            <p>This issue has gone unaddressed for too long. I'm reassigning this to Ralph for re-evaluation and categorization.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Adam Lundrigan (adamlundrigan) on 2011-12-02T02:10:48.000+0000</p> 
        <div class="body">
            <p>Is this something that can still be implemented for ZFv1?  Or should it be postponed to 2.0?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Adam Lundrigan (adamlundrigan) on 2012-05-05T22:53:07.000+0000</p> 
        <div class="body">
            <p>After reviewing, I agree with Wil: I don't see a situation where this would significantly improve, clarify or simplify the use of Zend_Db_Select.  It's also been hanging around for half a decade now, so if it were necessary it would have been implemented by now. Closing as won't fix.</p>

        </div>
    </div>
    </div>

