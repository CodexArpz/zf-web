<h2>ZF-7151: Add totalCount to partialLoop view helper</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-06-28T07:29:11.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2013-01-10T11:02:48.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.12.2 (25/Feb/13)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Mark (lightflowmark)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Mark (lightflowmark)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_View</li>
            <li>FixForZF1.12.1</li>
            <li>zf-crteam-review</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12107/ZF-7151_fix.patch">ZF-7151_fix.patch</a></li>
            <li><a href="/issues/secure/attachment/12108/ZF-7151_test.patch">ZF-7151_test.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>It would be useful to have access to the total count of the model within the partialLoop, as we do with the current position in the loop (partialCounter).  This would allow you to do stuff like echo "item $this-&gt;partialCounter of $this-&gt;totalCount" as well as some HTML styling which requires a different class for the final </p> in an .

To implement, add code like:


Zend_View_Helper_Partial
74        if (isset($this-&gt;partialTotalCount)) {
75            $view-&gt;partialTotalCount= $this-&gt;partialTotalCount;
76       }


Zend_View_Helper_PartiaLoop:


89       $this-&gt;partialCount = count($model);


    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Mark (lightflowmark) on 2009-07-27T09:49:37.000+0000</p> 
        <div class="body">
            <p>Patched as outlined, adding partialTotalCount property.
Test attached also.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Frank Br√ºckner (frosch) on 2013-01-10T11:02:48.000+0000</p> 
        <div class="body">
            <p>Fixed on trunk (25202) and release-1.12 (25203)</p>

<p>Thanks to Mark!</p>

        </div>
    </div>
    </div>

