<h2>ZF-4505: Failure to save Uri in Constructor creates erroreous WSDL for Complex Types</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-10-07T00:28:27.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-11-13T14:10:11.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.7.0 (17/Nov/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Wsdl</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11564/WsdlSetUri.php.patch">WsdlSetUri.php.patch</a></li>
            <li><a href="/issues/secure/attachment/11565/WsdlTest.php.patch">WsdlTest.php.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The constructor of WSDL has a bug where $this-&gt;_uri is not properly saved. This leads to problems with complex types that rely on this information and inside the  tag the namespace is empty. This did not came up in the unit tests, because they also expected the wrong result.</p>

<p>Attached is a very simple patch for both WSDL and WSDLTest classes that solves this issue.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2008-10-07T00:29:24.000+0000</p> 
        <div class="body">
            <p>Solves the $this-&gt;_uri issue with two simple changes to the constructor.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2008-10-07T00:30:31.000+0000</p> 
        <div class="body">
            <p>Fixes the Unit Test that expects the wrong result. There are hundrets of whitespace changes in this patch too, since the WsdlTest was completly in DOS format.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-11-13T14:10:11.000+0000</p> 
        <div class="body">
            <p>Changing issues in preparation for the 1.7.0 release.</p>

        </div>
    </div>
    </div>

