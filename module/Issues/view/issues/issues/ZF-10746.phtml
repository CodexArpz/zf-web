<h2>ZF-10746: findFeeds ignores tag &lt;base href=&quot;&quot;/&gt;</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-11-26T02:09:58.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-05-13T20:29:44.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Gildas de Cadoudal (gdecad)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Pádraic Brady (padraic)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Feed</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The Zend_Feed::findFeeds find good tags link and its href attribute. But when he tries to canonize the url, it uses the path of the http client regardless of the tag 'base'.
This leads to the fact of building a bad url.</p>

<p>Example:
Zend_Feed::findFeeds('<a href="http://www.exemple.com/">http://www.exemple.com/</a>');</p>

<p>This url redirects to actually <a href="http://www.exemple.com/dir/page.html">http://www.exemple.com/dir/page.html</a>
and in this page there are link tags () and tag www.exemple.com/"/&gt;</p>

<p>Zend_Feed canonicalize the URL of the link tag in '<a href="http://www.exemple.com/dir/page.html/flux/rss.xml">http://www.exemple.com/dir/page.html/flux/rss.xml</a>' instead of '<a href="http://www.exemple.com/flux/rss.xml">http://www.exemple.com/flux/rss.xml</a>'</p>

<p>see Zend/Fees.php at line 346</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Pádraic Brady (padraic) on 2011-05-13T20:29:44.000+0000</p> 
        <div class="body">
            <p>Please note that any missing or non-standard behaviour will not be fixed. Users are advised that Zend_Feed is basically deprecated (not in ZF2) and they should use/migrate to Zend_Feed_Reader/Zend_Feed_Writer which are far more comprehensive, adherent to all standards, easier to use, simple to extend for RSS/Atom extensions and which have somewhere in excess of 1000 unit tests to back those statements up (or was it almost 1500?). Anyway - I almost broke my fingers in testing ;). Using the newer components will also make transitioning new functionality to ZF2 that much easier.</p>

        </div>
    </div>
    </div>

