<h2>ZF2-414: Throwing exception in template (and/or layout) doesnt fails gracefully</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2012-07-20T13:48:41.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-10-08T20:15:06.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend\View</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>template.phtml</p>

<p>&lt;?
throw \Exception('error');</p>

<p>shows:
Fatal error: Uncaught exception 'Exception' with message 'error' in /path/to/template.phtml on line 2</p>

<p>I would expect to catch those exceptions and forward (eg by forward plugin) to 404 page.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2012-07-20T15:15:22.000+0000</p> 
        <div class="body">
            <p>Why would you expect an exception in the view to lead to a 404 page? This makes no sense to me -- the route clearly was handled. If anything, I would expect a 500 page to occur. I'll mark this as a feature request for such functionality.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2012-07-20T15:16:36.000+0000</p> 
        <div class="body">
            <p>Not a critical issue, so downgrading to minor priority. Also modified issue type to "Improvement".</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marek Nos (fabicz) on 2012-07-20T20:09:53.000+0000</p> 
        <div class="body">
            <p>Correct, 500 page for sure.</p>

<p>But I see it as serious issue, because everyone who rely on lazyloading heavily, will run into exceptions just because everything is loaded once the Model classes are accessed in view layer. And also because there is no easy workaround how to emulate this by events. Or is there?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ralph Schindler (ralph) on 2012-10-08T20:15:06.000+0000</p> 
        <div class="body">
            <p>This issue has been closed on Jira and moved to GitHub for issue tracking.  To continue following the resolution of this issues, please visit: <a href="https://github.com/zendframework/zf2/issues/2506">https://github.com/zendframework/zf2/issues/2506</a></p>

        </div>
    </div>
    </div>

