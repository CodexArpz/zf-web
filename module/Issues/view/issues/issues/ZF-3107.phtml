<h2>ZF-3107: Use INSERT DELAYED for Zend_Log_Writer_Db</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-04-13T02:24:52.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-03-23T18:01:32.000+0000</dd>

    <dt>Status:</dt>
    <dd>Postponed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Nils Caspar (pencil)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Log</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-9484">ZF-9484</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13816/ZF-3107_ZF-7149_ZF-9484.patch">ZF-3107_ZF-7149_ZF-9484.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>{quote}
The DELAYED option for the INSERT statement is a MySQL extension to standard SQL that is very useful if you have clients that cannot or need not wait for the INSERT to complete. <em>This is a common situation when you use MySQL for logging</em> (...)
{quote}</p>

<p>Using INSERT DELAYED would improve the speed of Zend_Log_Writer_Db. But you can't check, if the INSERT was successful. So maybe it should be an optional feature.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Nils Caspar (pencil) on 2008-11-29T13:55:13.000+0000</p> 
        <div class="body">
            <p>Yes, No, Maybe..?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2009-01-21T14:39:29.000+0000</p> 
        <div class="body">
            <p>We'll consider this for 1.8. For now I am marking it postponed, which indicates that the feature request is sound, but we won't work on it immediately. Have you considered submitting a patch and a corresponding unit test to get it on to trunk sooner?
Since it adds a few feature, we will have to wait for the next minor release (1.8).</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-01-21T14:45:58.000+0000</p> 
        <div class="body">
            <p>one has to check for the mysql adapters when this is a mysql only option, which makes it somewhat more compliacated, otherwise it sounds like a good optimization.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-03-21T10:20:05.000+0000</p> 
        <div class="body">
            <p>Reassigning to component lead</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Kamil Dziedzic (arvenil) on 2011-03-06T17:21:58.000+0000</p> 
        <div class="body">
            <p>Here is a patch to resolve this issue and #ZF-9484. If you don't like it please write what's wrong with it so I could fix it.</p>

<p><a href="http://www.kamil.klecza.pl/zend/ZF-3107_ZF-9484.patch">http://kamil.klecza.pl/zend/ZF-3107_ZF-9484.patch/</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benoît Durand (intiilapa) on 2011-03-13T14:40:56.000+0000</p> 
        <div class="body">
            <p>@Kamil, you must first sign the <a href="http://framework.zend.com/cla">CLA</a> in order to use your patch.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Kamil Dziedzic (arvenil) on 2011-03-22T23:35:36.000+0000</p> 
        <div class="body">
            <p>Hello again. I've signed CLA and here is updated patch to ZF 1.11.4 and now it also includes changes to one more similar ticket #ZF-7149.</p>

<p><a href="http://framework.zend.com/issues/secure/attachment/13816/ZF-3107_ZF-7149_ZF-9484.patch">http://framework.zend.com/issues/secure/…</a></p>

<p>I'm waiting for comments.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benoît Durand (intiilapa) on 2011-03-23T18:01:32.000+0000</p> 
        <div class="body">
            <p>Reassign to the maintener of Zend_Db (Ralph)</p>

        </div>
    </div>
    </div>

