<h2>ZF-10278: Unable to upload file to docs.mydomain.com</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Docs:  Problem</dd>

    <dt>Created:</dt>
    <dd>2010-08-07T09:37:55.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-08-07T19:13:45.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Trevor Johns (tjohns)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi,</p>

<p>I am tring to upload a file from my server to google docs. But the google doc is with respect to my domain e.g. docs.smartsharemap.com. Following is the code I had written:</p>

<p>require_once "Zend/Loader/Autoloader.php";
$autoloader = Zend_Loader_Autoloader::getInstance();
$autoloader-&gt;setFallbackAutoloader(true);
Zend_Loader::loadClass('Zend_Gdata_ClientLogin');
Zend_Loader::loadClass('Zend_Gdata_Gapps');</p>

<p>$user = 'MyID@smartsharemap.com';
$pass = 'MYPassword';
$domain = '<a href="http://docs.smartsharemap.com/">http://docs.smartsharemap.com/</a>';</p>

<p>$service = Zend_Gdata_Docs::AUTH_SERVICE_NAME; // predefined service name for Google Documents
$httpClient = Zend_Gdata_ClientLogin::getHttpClient($user, $pass, $service);
$gdClient = new Zend_Gdata_Docs($httpClient);
$fileToUpload = $ourFileName;
$newDocumentEntry = $gdClient-&gt;uploadFile($fileToUpload,$fileToUpload,null,$domain);</p>

<hr /><p>But on calling this php file, I get this error:
Fatal error: Uncaught exception 'Zend_Uri_Exception' with message 'Invalid scheme: '/docaction?action=unsupported_browser'' in /home/openmapo/public_html/Zend/library/Zend/Uri/Http.php:183 Stack trace: #0 /home/openmapo/public_html/Zend/library/Zend/Gdata/App.php(643): Zend_Uri_Http::fromString('/DocAction?acti...') #1 /home/openmapo/public_html/Zend/library/Zend/Gdata.php(219): Zend_Gdata_App-&gt;performHttpRequest('POST', '/DocAction?acti...', Array, '</p>Up...', 'text/html', 5) #2 /home/openmapo/public_html/Zend/library/Zend/Gdata/App.php(694): Zend_Gdata-&gt;performHttpRequest('POST', '/DocAction?acti...', Array, 'Up...', 'text/html', 5) #3 /home/openmapo/public_html/Zend/library/Zend/Gdata.php(219): Zend_Gdata_App-&gt;performHttpRequest('POST', '<a href="http://docs.goo">http://docs.goo</a>...', Array, 'Up...', 'text/html', 5) #4 /home/openmapo/public_html/Zend/library/Zend/Gdata/App.php(694): Zend_Gdata-&gt;performHttpRequest('POST', '<a href="http://docs.goo">http://docs.goo</a>...', Array, 'Up...', 'text/html', 5) #5 /home/openmapo/publi in /home/openmapo/public_html/Zend/library/Zend/Uri/Http.php on line 183

<p>This file works if my id is a simple docs.google.com id....here it is docs.mydomain.com where mydomain is smartsharemap registered with google</p>

<p>Please help</p>

<p>Sriram</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Sriram Krishnan (sriramkrishnan06) on 2010-08-07T18:41:56.000+0000</p> 
        <div class="body">
            <p>Issue resolved...no need to use $domain. Replace it by Zend_Gdata_Docs::DOCUMENTS_LIST_FEED_URI in uploadfile()</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ramon Henrique Ornelas (ramon) on 2010-08-07T19:13:45.000+0000</p> 
        <div class="body">
            <p>The own reporter mentions that there is no problem.</p>

        </div>
    </div>
    </div>

