<h2>ZF-7170: Error rounding float value with Zend_Locale_Format::toNumber()</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-07-01T06:40:43.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-07-02T00:39:23.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Sasa Stamenkovic (umpirsky)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Locale</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I tried to round 98.99999625 value with Zend_Locale_Format::toNumber() and I get result 98, I expected 99.00.</p>

<p>Here is the code which reproduces this bug:</p>

<p>$result = Zend_Locale_Format::toNumber(98.99999625, array('precision' =&gt; 2));
Zend_Debug::dump($result);</p>

<p>Dump result:</p>

<p>string(5) "98.00"</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-07-01T07:10:51.000+0000</p> 
        <div class="body">
            <p>Running your code I receive:
string '98,99' (length=5)</p>

<p>Your result is not reproducable for me.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sasa Stamenkovic (umpirsky) on 2009-07-01T09:20:00.000+0000</p> 
        <div class="body">
            <p>ZF 1.8.4 Thomas?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sasa Stamenkovic (umpirsky) on 2009-07-01T23:50:58.000+0000</p> 
        <div class="body">
            <p>And set sv_SE locale.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-07-02T00:39:22.000+0000</p> 
        <div class="body">
            <p>Closing as non-issue.</p>

<p>Use toFloat() when you want to have float values.
Set a locale when you want to use a specific locale.</p>

<p>Please read the manual and the API doc for details.</p>

        </div>
    </div>
    </div>

