<h2>ZF-10847: ZEND + Restful service</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-12-18T18:52:06.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:38:12.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                hervouet (christophe)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Rest_Client</li>
            <li>Zend_Rest_Server</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hello</p>

<p>Firstly sorry for my poor english
I'm trying out RESTful services with Zend Framework and I encouter a problem
when I run my client script</p>

<p>message = REST Response Error: simplexml_load_string() [<a href="function.simplexml-load-string">function.simplexml-load-string</a>]: ^</p>

<p>My best thanks if you could help me</p>

<p>my scripts :
a)the service</p>

<p>&lt;?php
require_once 'Zend/Controller/Action.php';
class IndexController extends Zend_Controller_Action
{
// Action REST service
public function restAction()
{
require_once('Zend/Rest/Server.php');
$server = new Zend_Rest_Server();
$server-&gt;setClass('CustomTestClass');
$server-&gt;handle();
exit;
} 
}class CustomTestClass
{
/**
* say Hello
*
* @param string $name
* @return string
*/

public function sayHello($name)
{
return "hello".$name;

}
}
?&gt; b)the client</p>

<p>&lt;?php

require_once 'Zend/Controller/Action.php';
class ClientController extends Zend_Controller_Action
{
// Action REST client + LOG
public function indexAction()
{
try {
$logger = new Zend_Log();
require_once('/Zend/Rest/Client.php');
$client = new Zend_Rest_Client('<a href="http://127.0.0.1/webs/test-rest/public/index.php/index/rest">http://127.0.0.1/webs/test-rest/…</a>');
$toto='fanfan';
$result=$client-&gt;sayHello($toto)-&gt;get();
if ($result-&gt;isSuccess()) {
$this-&gt;view-&gt;result = $result; 
}
} catch (Zend_Exception $e)
{
$redacteur = new Zend_Log_Writer_Stream("log-rest");
$logger-&gt;addWriter($redacteur);
$logger-&gt;log("resultat service rest :".$prob."message :". $e-&gt;getMessage() ,Zend_Log::INFO);
} 
}
}
?&gt;Some more informations :
When I run the URL view-source:<a href="http://localhost/webs/test-rest/public/index.php/index/rest?method=sayHello&amp;name=Davey">http://localhost/webs/test-rest/…</a> into Chrome , I can see no problems
I use zend framework 1.1
I think that it have a problem to find the method sayHello
My very best regards</p>

<p>Christophe</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2010-12-19T08:32:40.000+0000</p> 
        <div class="body">
            <p>As there is no ZF version 1.1, can you please copy and paste the value of Zend_Version::VERSION, please? We have both 1.10 and 1.11, but no 1.1.</p>

<p>Second, is SimpleXML enabled on your PHP installation? If so, can you cut and paste the XML generated by the service, and pass it into simplexml_load_string() to see if there are errors that occur? If so, we'll know then if there are issues with the XML generation of the REST server.</p>

<p>Third, I'd recommend <em>not</em> using Zend_Rest_Server, and instead using Zend_Rest_Route + Zend_Rest_Controller in your MVC. It's a much cleaner, more RESTful way to do REST services.</p>

        </div>
    </div>
    </div>

