<h2>ZF-5231: Zend_Paginator_Adapter_DbSelect does not take into account aliased tables when Zend_Db_Select::DISTINCT is active inside count() method</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-12-12T11:24:49.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-02-21T15:05:13.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Jurrien Stutterheim (norm2782)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Paginator</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-5278">ZF-5278</a></li>
            <li><a href="/issues/browse/ZF-5233">ZF-5233</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Paginator_Adapter_DbSelect does not take into account aliased tables when Zend_Db_Select::DISTINCT is active inside count() method. On line 164 and 166 the table alias part of the column is completely disregarded. This has severe issues when joining tables with foreign key relationships having the same column name.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jurrien Stutterheim (norm2782) on 2008-12-23T11:03:20.000+0000</p> 
        <div class="body">
            <p>Could you please post some code that reproduces this issue? That would help me greatly in distilling a fix. Thanks!</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jurrien Stutterheim (norm2782) on 2009-02-21T15:05:08.000+0000</p> 
        <div class="body">
            <p>Resolved in revision 14136</p>

        </div>
    </div>
    </div>

