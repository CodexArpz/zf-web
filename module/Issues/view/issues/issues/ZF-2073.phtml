<h2>ZF-2073: Zend_Filter_Digits doesn't work in multibyte languages.</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2007-10-16T03:30:50.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-08-03T14:26:40.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.5.0 (17/Mar/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                old of Satoru Yoshida (yoshida@zend.co.jp)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Satoru Yoshida (satoruyoshida)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Filter</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-2107">ZF-2107</a></li>
            <li><a href="/issues/browse/ZF-2108">ZF-2108</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/10937/zf_2073_20071127.txt">zf_2073_20071127.txt</a></li>
            <li><a href="/issues/secure/attachment/10938/ZF_2073_20071127testpattern.txt">ZF_2073_20071127testpattern.txt</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend/Filter/Digits.php is not available in the multibyte languages.
The line 74 is written follow now.</p>

<p>$pattern = '/[\p{^N}]/';</p>

<p>I propose to change as attachment.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-11-07T12:11:45.000+0000</p> 
        <div class="body">
            <p>Perhaps you or someone else could contribute tests for {{Zend_Filter_DigitsTest}} ({{tests/Zend/Filter/DigitsTest.php}}) that would cover the proposed functionality? Though I attempted such a test with <a href="http://framework.zend.com/fisheye/changelog/Zend_Framework/?cs=6765">SVN r6765</a>, I'm having some difficulty adding multibyte characters to the unit tests with my system.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2007-11-07T12:12:29.000+0000</p> 
        <div class="body">
            <p>Lowering priority to minor since an easy workaround (extend the class) is present.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2007-11-26T03:49:02.000+0000</p> 
        <div class="body">
            <p>Sorry, My Description is harmful for in Zend_Validate_Ccnum. 
The component depends on Zend_Filter_Digits.</p>

<p>I want to cansel this Issue and SVN r6765.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2007-11-26T20:29:16.000+0000</p> 
        <div class="body">
            <p>I find a plan.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2007-11-27T00:07:08.000+0000</p> 
        <div class="body">
            <p>I make test pattern for Zend_Filter_DigitsTest.php .  I hope this will be useful.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2007-12-14T17:02:41.000+0000</p> 
        <div class="body">
            <p>What is the status of this issue? Do we have a fix? Is it checked in? Satoru, if you have a fix, I can assign this to you and you can close it.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2007-12-17T00:26:04.000+0000</p> 
        <div class="body">
            <p>I offered a solution in the file attachments, but it does not be discussed or applied as same as ZF-2107 and ZF-2108.
Yes I have an idea to fix. But how to edit  Zend/Filter/Digits.php and Zend/Filter/DigitsTest.php?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2008-01-29T09:51:01.000+0000</p> 
        <div class="body">
            <p>Assigning to [~yoshida@zend.co.jp]. Please contact me directly when you are ready to commit your changes, and I'll take care of giving you SVN credentials (e.g., username and password) needed to commit successfully. Thank you! :)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by old of Satoru Yoshida (yoshida@zend.co.jp) on 2008-03-09T10:34:23.000+0000</p> 
        <div class="body">
            <p>Resolved in SVN r8710</p>

        </div>
    </div>
    </div>

