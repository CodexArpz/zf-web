<h2>ZF-6280: Wrong return type for Zend_Dom_Query_Css2XPath::transform()</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Docs:  Problem</dd>

    <dt>Created:</dt>
    <dd>2009-04-12T21:10:26.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-07-29T19:35:03.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.9.0 (31/Jul/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Satoru Yoshida (satoruyoshida)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dom_Query</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-6281">ZF-6281</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11870/patch.diff">patch.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The docblock for Zend_Dom_Query_Css2XPath::transform() indicates that the only return type should be a string. However, when multiple expressions are specified, it is possible for it to return an array. It appears from its test suite that this is expected behavior. See the test suite method testTransformShouldReturnMultiplePathsWhenExpressionContainsCommas(). The docblock should be corrected to reflect this.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Turland (elazar) on 2009-04-12T21:11:01.000+0000</p> 
        <div class="body">
            <p>Patch to correct the docblock issue.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Turland (elazar) on 2009-04-12T21:14:57.000+0000</p> 
        <div class="body">
            <p>Zend_Dom_Query::query() passes the return value of Zend_Dom_Query_Css2XPath::transform() as the first parameter ($xpathQuery) to 
Zend_Dom_Query::queryXPath(). The docblock for Zend_Dom_Query::queryXPath() indicates that $xpathQuery may only be a string, but can obviously also be an array.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Turland (elazar) on 2009-04-12T21:16:16.000+0000</p> 
        <div class="body">
            <p>Updated patch to include fix for Zend_Dom_Query::queryXPath().</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-07-29T19:35:02.000+0000</p> 
        <div class="body">
            <p>Solve in SVN r17292</p>

        </div>
    </div>
    </div>

