<h2>ZF2-330: BaseInputFilter::isValid() fails for empty data values</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2012-05-30T09:48:51.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-06-13T19:58:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Paulo Assis (assisp)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend\InputFilter</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When submitting empty form elements, the data array entry associated with that element and used in the input filter validation (BaseInputFilter::isValid) will be set, but with an empty value ("").
The way isValid() checks for these is wrong as it only checks if the array entry is set or not, making the check (!isset) always false, causing empty fields not be accepted even if they are not required. 
Also the validation for empty elements will not produce an error message in the case that these are required.
The best way to handle these empty required fields is just to pass an empty string and let the validator handle it.
It will set a "The Value is required and cannot be empty" error message in these cases.</p>

<p>Note:
I've send a pull request with a possible solution for this issue but I will close it a and send a new one with the issue number.</p>

<p>Regards,
Paulo</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Paulo Assis (assisp) on 2012-05-30T13:30:29.000+0000</p> 
        <div class="body">
            <p>Ok, I've closed the first pull request since it was only for one specific commit and open a new one (for the all fix/zf2-330 branch) with a new commit fixing the syntax.</p>

<p>Regards,
Paulo</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Maks 3w (maks3w) on 2012-06-13T19:58:34.000+0000</p> 
        <div class="body">
            <p>This will be fixed with the PR <a href="https://github.com/zendframework/zf2/pull/1407">https://github.com/zendframework/zf2/pull/1407</a></p>

        </div>
    </div>
    </div>

