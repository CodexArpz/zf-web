<h2>ZF-1252: Imap: delete message</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2007-04-12T04:05:13.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:44:04.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.9.3 (05/May/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Nico Edtinger (nico)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Mail</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Sorry for my bad english:</p>

<p>At the moment i had to write a simple mailclient who communitate with an IMAP-Server. So i want to delete some messages. But in the method removeMessage (Zend_Mail_Storage_Imap) you can find:</p>

<pre class="highlight"><code>
 // TODO: real remove
        return false;
//        $this-&gt;_protocol-&gt;delete($id);
</code></pre>

<p>so i searched for a way to delete messages. i found out that i can set the deleted flag an than call the imap-command "EXPUNGE". So i extended the class with this method:</p>

<pre class="highlight"><code>
/**
 * Excecutes EXPUNGE Command:
 * 
 * The EXPUNGE command permanently removes all messages that have the 
 * \Deleted flag set from the currently selected mailbox.
 * (RFC 3501)
 *
 */
public function expunge() {
    $this-&gt;_protocol-&gt;requestAndResponse('EXPUNGE',array(),true);
}
</code></pre>

<p>does this help? or is it planed to complete the mail classes?</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-04-17T19:20:58.000+0000</p> 
        <div class="body">
            <p>Assign to Nico.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Nico Edtinger (nico) on 2007-04-17T20:10:49.000+0000</p> 
        <div class="body">
            <p>Sorry for the inconvenience. removeMessage() and noop() are now both implemented.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Adam (eagle) on 2007-04-18T03:03:56.000+0000</p> 
        <div class="body">
            <p>thanks, it works fine :-)</p>

        </div>
    </div>
    </div>

