<h2>ZF-10773: Format not set when using Date validator</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-12-03T05:46:11.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-02-14T14:58:12.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Przemys?aw Wróbel (wrobel)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Validate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using Zend_Validate_Date with Zend_Locale taken form registry I get following validation error: "'something' does not fit the date format ''" where format is empty. It seems that $this-&gt;_format is not set from $this-&gt;_locale. Zend_Date::isDate internally gets format from locale but outside in Zend_Validate_Date::isValid it is not known.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-12-05T12:05:31.000+0000</p> 
        <div class="body">
            <p>Which locale is being used?
Which date is used?
Which parameters are set within validate_date?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Przemys?aw Wróbel (wrobel) on 2010-12-06T01:59:42.000+0000</p> 
        <div class="body">
            <p>My Date validator does not have any additional parameters and is set-up like this
'validators' =&gt; array(
array('Date'),
)
Locale is set through application.ini:
resources.locale.default = "en"
resources.locale.force = true
When I enter any text into date field (with attached jquery Datepicker) I got message:
'foo' does not fit the date format ''</p>

<p>I believe the Date validator should get the date format from locale which is set-up and display it correctly to the user...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by rossi (segnior_rossi) on 2011-10-04T08:29:09.000+0000</p> 
        <div class="body">
            <p>I can confirm this bug.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marcin Dec (md23128) on 2012-02-14T14:58:11.000+0000</p> 
        <div class="body">
            <p>Same happens here... ZF 1.11.11. Setting Zend_Locale in the registry prevents Zend_Validate_Date from working with the following error message: "'2011-01-01' does not fit the date format '' " (with empty format).</p>

        </div>
    </div>
    </div>

