<h2>ZF-2471: Add isFlashRequest() to Zend_Controller_Request_Http</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>New Feature</dd>

    <dt>Created:</dt>
    <dd>2008-01-24T03:26:21.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-08-06T03:01:24.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.5.0 (17/Mar/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Jack Sleight (jacksleight)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-3866">ZF-3866</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>We already have an isXmlHttpRequest method, which is useful for detecting AJAX requests and returning different data (XML, JSON etc.) rather than HTML. However another common time when you'd probably rather return XML than HTML is if the request was made by a Flash movie, so I think an isFlashRequest method would be useful as well, like so:</p>

<pre class="highlight"><code>
public function isFlashRequest()
{
    return ($this-&gt;getHeader('USER_AGENT') == 'Shockwave Flash');
}
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-02-14T11:19:36.000+0000</p> 
        <div class="body">
            <p>Scheduling for 1.5 release</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-02-20T15:12:09.000+0000</p> 
        <div class="body">
            <p>Added in current trunk.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by C Snover (snover) on 2008-07-05T15:20:53.000+0000</p> 
        <div class="body">
            <p>I've also seen Flash on non-Windows platforms use "Flash Player [version number]" as the User-Agent string. Didn't really think it was worth opening a new bug over, though. I'm using this now to match:</p>

<pre class="highlight"><code>
return (bool) preg_match('/flash player|shockwave flash/i', $this-&gt;getHeader('USER_AGENT'));
</code></pre>

        </div>
    </div>
    </div>

