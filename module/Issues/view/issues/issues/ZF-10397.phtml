<h2>ZF-10397: Zend_Oauth not working with LinkedIn</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-08-30T04:33:55.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-09-10T21:44:42.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                PÃ¡draic Brady (padraic)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Oauth</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi, i have problems with getting Zend_Oauth work with LinkedIn
I use the same code i've used for twitter:</p>

<p>config.ini</p>

<p>oauth.requestTokenUrl = <a href="https://api.linkedin.com/uas/oauth/requestToken">https://api.linkedin.com/uas/oauth/requestToken</a>
oauth.userAuthorizationUrl = <a href="https://api.linkedin.com/uas/oauth/authorize">https://api.linkedin.com/uas/oauth/authorize</a>
oauth.accessTokenUrl = <a href="https://api.linkedin.com/uas/oauth/accessToken">https://api.linkedin.com/uas/oauth/accessToken</a>
oauth.consumerKey = xxx
oauth.consumerSecret = xxx</p>

<p>$config = ... // get config.ini
$config['oauth']['callbackUrl'] = '<a href="http://callback.local/">http://callback.local/</a>';</p>

<p>$consumer = new Zend_Oauth_Consumer($config['oauth']);
$token = $consumer-&gt;getRequestToken();
$_SESSION['LRT'] = serialize($token);
$consumer-&gt;redirect();</p>

<p>All I get is the following exception</p>

<p>Could not retrieve a valid Token response from Token URL: oauth_problem=signature_invalid&amp;oauth_problem_advice=com.linkedin.security.auth.pub.LoginDeniedInvalidAuthTokenException%20while%20obtaining%20request%20token%20for%20%3APOST%26https%253A%252F%252Fapi.linkedin.com%252Fuas%252Foauth%252FrequestToken%26oauth_callback%253Dhttp%25253A%25252F%25252Flol%2526oauth_consumer_key%253Dd6r4ISjRwV5yZTK9z7CYUUJMehBQkbUG8hatKMAO0fViMJkuan4xKziJLl68bAHw%2526oauth_nonce%253D654481c994b3646b769d2731c8292351%2526oauth_signature_method%253DHMAC-SHA1%2526oauth_timestamp%253D1281956176%2526oauth_version%253D1.0%0AOAU%3Ad6r4ISjRwV5yZTK9z7CYUUJMehBQkbUG8hatKMAO0fViMJkuan4xKziJLl68bAHw%7C%2A01%7C%2A01%7C%2A01%3A1281956176%3AMe7R3vLGlIIIQBuOaPhai3Vdzq0%3D</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Artur Wisniewski (aart3k) on 2010-09-02T06:45:11.000+0000</p> 
        <div class="body">
            <p>Solved - LinkedIn gave me keys that do not work :(
Bug is nonexistent</p>

        </div>
    </div>
    </div>

