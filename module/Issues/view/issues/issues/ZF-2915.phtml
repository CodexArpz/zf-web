<h2>ZF-2915: Hash Element Problem with FF2 and IE7 (not tested with safari yet)</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-03-18T12:19:44.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-02-17T14:56:55.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.12.0 (27/Aug/12)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Form</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-5182">ZF-5182</a></li>
            <li><a href="/issues/browse/ZF-10714">ZF-10714</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>While using FF2 and IE7 (not tested with safari, please check) when the user click on the back button the page is not reloaded, it is loaded from its own cache which creates the hash hidden form element with an incorrect value (an old value).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Amr Mostafa (alienbrain) on 2008-03-21T16:46:27.000+0000</p> 
        <div class="body">
            <p>It makes sense. Because the browser sends its cached POST data again to the form <em>without</em> requesting it (the form). This is just the same as if some random user tries to POST some data to the form without requesting it.</p>

<p>I totally understand the back button problem though, but I don't think it belongs to Zend_Form. You should be looking at implementing the <a href="http://en.wikipedia.org/wiki/Post/Redirect/Get">Post/Redirect/Get</a> pattern. I've seen previous discussions on the list regarding achieving it in lower levels so almost all the work is done.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Aldemar Bernal (aldemar.bernal) on 2008-03-22T01:05:49.000+0000</p> 
        <div class="body">
            <p>I've found that maybe this issue could be addressed by setting some headers like the expiration date at the same moment the form is created or a date before that. This will make the browser reload the page each time.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-03-25T20:29:10.000+0000</p> 
        <div class="body">
            <p>Please categorize/fix as needed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2008-04-22T10:28:30.000+0000</p> 
        <div class="body">
            <p>Scheduling for next minor release.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Kim Blomqvist (kblomqvist) on 2009-11-18T09:45:14.000+0000</p> 
        <div class="body">
            <p>How this will be fixed? I disagree with Amr Mostafa that this wouldn't be an issue. Actually I have used hash element to prevent resubmissions caused by back button.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Kim Blomqvist (kblomqvist) on 2010-08-07T10:35:33.000+0000</p> 
        <div class="body">
            <p>I cannot reproduce this anymore in ZF 1.10.7. Don't know why...</p>

        </div>
    </div>
    </div>

