<h2>ZF-3078: Handling Cache-Control proxy behaviour</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-04-08T15:02:17.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:53:09.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Andy Thompson (at465)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Cache</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>It would seem to me that having to specify rules for caching based on regular expressions of the uri is a bit redundant when there is a ruleset in place by the HTTP specification that should determine if a page should be cached or not.</p>

<p>With changing the HTTP Cache-Control headers, you can tell any cache whether to store/cache private/shared. i.e. private, no-cache, no-store.</p>

<p>Could the Zend_Cache_Frontend_Page include a feature that performs this behaviour?</p>

<p>In the simplist terms, the class should not cache if any of the three flags are present in the Cache_Control header.</p>

<p>This should mostly remove the need to specify before-hand any rules, and allow the cache of a page based to be controlled by the page code itself.</p>

<p>For instance, if I don't start the cookie sessions, the page gets cached. If I do, those flags are set automatically as the page may be dynamically driven by user state, so the page is not cached. The default active session behaviour of not caching may not be what the developer had in mind, but it is that which should be tweaked, as the website performance would improve as any proxies along the way would also cache the content, if the site was to perform client caching behaviours as well (e.g. HTTP status 304).</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-04-18T15:53:09.000+0000</p> 
        <div class="body">
            <p>Please evaluate and categorize/assign as necessary.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Fabien MARTY (fab) on 2008-06-06T12:18:51.000+0000</p> 
        <div class="body">
            <p>seems to be a really good idea</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Fabien MARTY (fab) on 2009-07-17T11:03:39.000+0000</p> 
        <div class="body">
            <p>change Assignee because I'm inactive now</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:53:09.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

