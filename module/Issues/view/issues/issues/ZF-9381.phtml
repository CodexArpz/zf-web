<h2>ZF-9381: E_NOTICE raised on missing assoc_type param</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-03-09T10:13:24.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:37:25.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Troels Knak-Nielsen (troelskn)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_OpenId</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I noticed entries like these in my error logs:</p>

<pre><code>[24-Jan-2010 18:52:32] PHP Fatal error:  Uncaught exception 'ErrorException' with message 'Undefined index:  assoc_type' in /foo/bar/Zend/OpenId/Consumer.php:635
</code></pre>

<p>The problem is this line:</p>

<pre><code>if ($params['openid.assoc_type'] != $ret['assoc_type']) {
</code></pre>

<p>If <code>assoc_type</code> isn't set, it is consequently used in this line, thus raising a notice. This is bad, since I convert all notices to exceptions. As the application is already in an error state here, the impact is minor though.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

