<h2>ZF-9189: Lazy loading files with translations</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2010-02-16T06:28:33.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-02-18T22:14:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.2 (24/Feb/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Translate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Seems to be nice load files with translations at the time when Zend_Translate_Adapter::translate() method call.
This will load only the translations for the language you want at the moment.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-02-16T07:39:06.000+0000</p> 
        <div class="body">
            <p>This does not work like expected:</p>

<p>It leads to the problem that "translate" throws out exceptions due to 
** false locale
** non existing files
** corrupt files</p>

<p>All these problems are caught by loading the files before translating.</p>

<p>Lazy loading would also negotate caching.
It adds a performance problem at translation when using formats which are very excessive like TMX as you delay the loading time into the application time instead of session start.</p>

<p>Additionally it would mean that you must traverse the complete directory tree when calling a translation and read all files to know if a translation is available.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Andrew Kozlov (bonch) on 2010-02-16T08:11:35.000+0000</p> 
        <div class="body">
            <p>An example: my site on ZF uses 3 (en, de, ru) languages and about 10 files with translations for each language. Basically, I use only one language, for example "en". Ðžn all pages of my site I see the text in english, until I choose a different language from menu.
Since I need only one language (en), so why do ZF load files for the other two languages? This is overhead IMHO.</p>

<p>Are there no ways to load only files with necessary translations (en)?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-02-16T08:54:28.000+0000</p> 
        <div class="body">
            <p>The files are loaded because you say that they all have to be loaded.</p>

<p>Why don't you simply define that only the wished language should be loaded?
Look into the manual for details about loading translations.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-02-18T22:14:29.000+0000</p> 
        <div class="body">
            <p>Closing as non-issue</p>

        </div>
    </div>
    </div>

