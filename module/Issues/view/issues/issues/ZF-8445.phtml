<h2>ZF-8445: Zend_Dojo_View_Helper_Dojo_Container-&gt;registerDijitLoader conflict</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-12-02T08:12:40.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:53:00.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>FILE: Zend\Dojo\View\Helper\Dojo\Container.php
FUNCTION: Zend_Dojo_View_Helper_Dojo_Container-&gt;registerDijitLoader()
LINE: 795 :: dojo.parser.parse();</p>

<p>conflicts with controller setting:
$this-&gt;view-&gt;dojo()-&gt;setDjConfigOption('parseOnLoad', true);</p>

<p>so widgets get parsed 2 times and js produces an error in the first widget which was parsed before and the rest of the script isn't executed...</p>

<p>solution:
check if djConfigOption('parseOnLoad') is false and then call dojo.parser.parse()...</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-12-02T08:45:50.000+0000</p> 
        <div class="body">
            <p>Or you could simply not set the djConfig option if you're using declarative syntax anyways... It's well documented that this is the behavior, so I'm not entirely convinced the change is necessary. Can you provide some background as to why you might need both?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthias Sch. (matthias-sch) on 2009-12-02T23:27:04.000+0000</p> 
        <div class="body">
            <p>on this system, some special users can contribute some simple html code... no </p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:53:00.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

