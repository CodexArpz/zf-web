<h2>ZF-8639: due invalid cache id Zend_Controller_Action_Helper crashes</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-12-26T21:31:22.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-02-06T09:13:40.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.1 (10/Feb/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Pádraic Brady (padraic)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Zend_Controller_Action_Helper uses request URI as cache id. It generates an exception.</p>

<p>cache id is generated at
library/Zend/Controller/Action/Helper.php:157</p>

<p>The exception came from Zend_Cache_Core
"Invalid id or tag '/mycontroller/myaction' : must use only [a-zA-Z0-9_]"</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Pádraic Brady (padraic) on 2010-02-06T09:13:40.000+0000</p> 
        <div class="body">
            <p>Patched in SVN - it's actually an issue with Zend_Cache_Core but cannot be refactored at this time. Instead the ID is now encoded to hexadecimal (hexdec()) to bypass the ID check and converted back using pack() on the other side.</p>

        </div>
    </div>
    </div>

