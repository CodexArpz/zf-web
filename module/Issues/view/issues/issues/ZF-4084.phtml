<h2>ZF-4084: Generation of a &quot;Notice:  Undefined index:  target-language&quot; using Zend_Translate_Adapter_Xliff</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2008-08-27T02:37:05.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-02T10:39:20.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Remy Damour (remy215)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Translate</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using Zend_Translate to parse xliff files (generated through translate-toolkit: po2xliff), I end up with the following notice error:
<b>Notice</b>:  Undefined index:  target-language in <b>/home/remy/my_php/ZendFramework-1.5.3/library/Zend/Translate/Adapter/Xliff.php</b> on line <b>119</b></p>

<p>I've looked at Oasis xliff 1.2 specification to check if  "target-language" attribute of  "file" node is mandatory, but it appears it's optional (cf. <a href="http://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html#file">http://docs.oasis-open.org/xliff/v1.2/â€¦</a>)
Line 119 in Zend/Translate/Adapter/Xliff.php  "$this-&gt;_target = $attrib['target-language'];" could be replaced by "$this-&gt;_target = array_key_exists('target-language', $attrib) ? $attrib['target-language'] : null;"</p>

<p>Regards,
Remy</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-08-27T12:10:34.000+0000</p> 
        <div class="body">
            <p>Sorry, but the actual implementation of Xliff for Zend_Translate</p>

<p>*) is based on Xliff 1.1
*) must have a target-language even if it's optional</p>

<p>This is not a bug but a feature request.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-08-28T12:34:52.000+0000</p> 
        <div class="body">
            <p>Feature integrated with r11112</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:39:20.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
    </div>

