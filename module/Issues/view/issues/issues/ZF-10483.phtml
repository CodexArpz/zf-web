<h2>ZF-10483: SQL command build wrong (TRUNCATE on CLEAN_INSERT) at a MySQL database</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-09-22T08:19:29.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T21:38:15.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Test_PHPUnit</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using the CLEAN_INSERT() (PHPUnit_Extensions_Database_Operation_Factory::CLEAN_INSERT()) in my unit tests to rollout a flat XML in the test database the SQL statement become rejected as invalid by my mysql server (PDO). ZF tries to use "DELETE mytable" to clean the table. Correct is "DELETE FROM" or "TRUNCATE" where performance on TRUNCATE is better.</p>

<p>getTruncateCommand() in Zend_Test_PHPUnit_Db_Connection should return 'TRUNCATE' instead of "DELETE".</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

