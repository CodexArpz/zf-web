<h2>ZF-10957: Dojo view helper fails for element names like &quot;field_name[index]&quot;</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2011-01-17T07:32:11.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-01-17T07:32:11.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Making calls using:</p>

<p>$this-&gt;textBox( "file_title[{$asset-&gt;id}]" );</p>

<p>So that they come through to the parameters as indexed arrays for tabular data.  When the elements are written to the browser the ids run through the _normalizeId() method but when written to the zendDijits array they are not.  This results in the form elements not being dojo initialised.</p>

<p>Changing Zend/Dojo/View/Helper/Dijit.php:288
-        $this-&gt;dojo-&gt;setDijit($id, $params);
+        $this-&gt;dojo-&gt;setDijit($this-&gt;_normalizeId( $id ), $params);</p>

<p>Resolves this issue but it may not be the best place to put this.</p>

<p>I selected the version the project is currently running and future ones, I've only checked future versions by eye and not tested them.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

