<h2>ZF-5005: Zend_Soap_Server unable to work with ?wsdl query parameter,</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-11-20T06:38:32.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-11-20T10:14:53.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Server</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The Zend Soap Server is unable to work with the ?wsdl parameter, it provides the INVALID XML soap fault.  This is required by software such as XMLSpy to read the wsdl and find the exposed functions.  I believe this can be easily rectified by adding the following code to the handle function.</p>

<p>if(!null === $request) {
            try {
                $this-&gt;_setRequest($request);
            } catch (Zend_Soap_Server_Exception $setRequestException) {
                // Do nothing. Catch exception and store it in the $setRequestException variable is all what we need.
            }
        }</p>

<p>I have added this to my preview version and it is now working as I would expect.</p>

<p>Thanx
Wayne</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2008-11-20T10:14:32.000+0000</p> 
        <div class="body">
            <p>This is not a bug, you have to explicilty use the AutoDiscover class to listen at ?wsdl. Zend_Soap_Server does not do that for you like NuSoap does for example.</p>

<p>See <a href="http://www.whitewashing.de/blog/articles/65">http://www.whitewashing.de/blog/articles/65</a> for an example.</p>

        </div>
    </div>
    </div>

