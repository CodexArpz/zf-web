<h2>ZF-6400: Tags should be emulated when they are not supported</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Docs:  Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-04-23T13:30:03.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-01-09T19:57:24.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>Next Major Release ()</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Marc Bennewitz (private) (mabe)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Cache</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Actually the documentation notes TAGS as best variant to be used for cleaning cache entries.
This is only the case for 2 or 3 of the supported backends.</p>

<p>All backends which do not support tags should emulate tags within Zend_Cache when possible.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-04-23T15:30:02.000+0000</p> 
        <div class="body">
            <p>The TwoLevels backend adapter is intended for this very purpose; Fabien, can you comment? If that's all that's needed, we simply need to document this clearly so users know what to do.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Fabien MARTY (fab) on 2009-04-24T12:22:56.000+0000</p> 
        <div class="body">
            <p>I agree with you Matthew.</p>

<p>I will add a note into the documentation</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Aleksi Ursin (aleksiu) on 2009-06-11T03:37:27.000+0000</p> 
        <div class="body">
            <p>Last time i checked the documentation, i didn't see clearly on the documentation that ie. Memcached lacks this support (No key based deletions for us, which means memcached is a no-go! Which means we need to go around this problem).</p>

<p>It should be reading big red on the cleaning section of the documentation, cat sized letters even ;) As it is now, makes the impression it is supported in every engine.</p>

<p>Memcached should have optional, easy, "virtual" tags support somehow, even if it means employing a secondary engine, temp files etc. On      ZF-4253 i specified how it could potentially work.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marc Bennewitz (private) (mabe) on 2009-06-22T23:37:20.000+0000</p> 
        <div class="body">
            <p>Hi,</p>

<p>I'm working on a Zend_Cache refactoring proposal.
This would implement a virtual tags support by frontend if the backend doesn't support it.</p>

<p>Please take a look and tell your opinions.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Fabien MARTY (fab) on 2009-07-17T11:03:39.000+0000</p> 
        <div class="body">
            <p>change Assignee because I'm inactive now</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Cristian Bichis (avantis) on 2010-07-24T05:52:31.000+0000</p> 
        <div class="body">
            <p>So it's confirmed that Two Level cache is overcoming the problem with clearing by tags ?</p>

<p>Because i haven't saw anything in docs to sustain this...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marc Bennewitz (private) (mabe) on 2010-07-24T07:34:07.000+0000</p> 
        <div class="body">
            <p>If you would like to use tags with the TwoLevels cache only the slow backend needs tag support because tags will only be stored on slow backend and on cleaning by tags the slow backend will be requested to find ids to clean on both.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Marc Bennewitz (private) (mabe) on 2012-01-09T19:57:24.000+0000</p> 
        <div class="body">
            <p>This issue won't be fixed in ZF1.
-&gt; see ZF2-137</p>

        </div>
    </div>
    </div>

