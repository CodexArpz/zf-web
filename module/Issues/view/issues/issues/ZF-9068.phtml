<h2>ZF-9068: File_Transfer_Adapter_Abstract: _detectMimeType() uses undeclared variable $magicFile</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-02-03T01:30:32.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-02-09T02:06:44.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.1 (10/Feb/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Paul Kievits (paulk)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_File_Transfer</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-9107">ZF-9107</a></li>
            <li><a href="/issues/browse/ZF-9121">ZF-9121</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>In the File_Transfer_Adapter_Abstract class there's a function called _detectMimeType(). This function uses the finfo class to get the files mime type. If your magic libraries are in an atypical place you need to enter the libraries' location as the classes second parameter. In the _detectMimeType() function this is done by using the $magicFile variable (if it's set). However the variable is never set and can't be set anywhere other than by inserting a dirty hack in the function...</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-02-04T11:41:34.000+0000</p> 
        <div class="body">
            <p>Fixed with r20911</p>

        </div>
    </div>
    </div>

