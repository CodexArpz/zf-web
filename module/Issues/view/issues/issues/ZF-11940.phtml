<h2>ZF-11940: Problem with connecting to IDS with pdo_ibm driver</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2011-12-15T07:13:33.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-16T18:43:46.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Marek Przybysz (marekprzybysz)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db</li>
            <li>NeedsPatch</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I am having a problem with acquiring a new connection to an IDS database using pdo_ibm driver.
Connection string: "ibm: DRIVER={IBM DB2 ODBC DRIVER};DATABASE=zbo; HOSTNAME=IP_ADDR;PORT=9088;PROTOCOL=TCPIP; "
I get an error:</p>

<p>SQLSTATE=08001, SQLDriverConnect: -30081 [IBM][CLI Driver] SQL30081N  A communication error has been detected. Communication protocol being used: "TCP/IP".  Communication API being used: "SOCKETS".  Location where the error was detected: "IP_ADDR".  Communication function detecting the error: "recv".  Protocol specific error code(s): "<em>", "</em>", "0".  SQLSTATE=0800
which I was unable to decipher having the available documentation. 
Database configuration is also limited due to the fact that it is constantly working in production mode.</p>

<p>I have managed to come up with a workaround by using this connection string
"informix: host=IP_ADDR; service=9088; database=zbo; server=db; protocol=onsoctcp; DB_LOCALE=pl_PL.1250; Client_Locale=pl_pl.1250" 
and setting specifically IDS in Zend_Db_Adapter_Pdo_Ibm:_connect()</p>

<p>I would ask to You, for the future version of Zend, to make Zend\Db\Adapter\Pdo\Ibm\Ids.php a seprate Zend_Db_Adapter_Pdo_Abstract with "informix" as a _pdoType.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-16T18:43:19.000+0000</p> 
        <div class="body">
            <p>If you are prepared to sign the CLA (<a href="http://framework.zend.com/wiki/display/ZFPROP/Contributor+License+Agreement">http://framework.zend.com/wiki/display/â€¦</a>) and provide a patch, I'm happy to review it.</p>

        </div>
    </div>
    </div>

