<h2>ZF-6346: The WSDL documentation element must be the first child of the documented node</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-04-19T14:07:00.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-05-30T12:05:47.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.8.3 (09/Jun/09)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Fabien Crespel (fcrespel)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Benjamin Eberlei (beberlei)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Soap_Wsdl</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-6349">ZF-6349</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/11878/Zend_Soap_Wsdl-Documentation.diff">Zend_Soap_Wsdl-Documentation.diff</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>In Zend_Soap_Wsdl, the {{addDocumentation()}} method <em>appends</em> the {{documentation}} element to the documented node. This is invalid with regard to the <a href="http://schemas.xmlsoap.org/wsdl/">WSDL XML Schema </a> as well as the <a href="http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html#WSDL_documentation_Element">WS-I Basic Profile 1.1</a>, and can cause validation errors. The {{documentation}} element must be the <em>first child</em> of the node.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Fabien Crespel (fcrespel) on 2009-04-19T14:09:23.000+0000</p> 
        <div class="body">
            <p>This patch fixes the issue mentioned above, and updates the method's docblock to explain why the 'documentation' element is used instead of 'document'. Basically, the WSDL spec is wrong, the WSDL schema is right and confirmed by the WS-I Basic Profile 1.1.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Benjamin Eberlei (beberlei) on 2009-05-30T12:05:47.000+0000</p> 
        <div class="body">
            <p>I had to made some changes to your patch since it did not lead to the correct result in all cases.</p>

<p>Committed to trunk and 1.8 release branch.</p>

        </div>
    </div>
    </div>

