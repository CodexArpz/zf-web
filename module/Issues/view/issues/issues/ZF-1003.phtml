<h2>ZF-1003: testCreationDefaultFormat(Zend_DateTest), testCreationDefaultFormatConsistency(Zend_DateTest) failing</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2007-03-02T06:28:41.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:44:32.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.9.0 (17/Mar/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Gavin (gavin)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Date</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-964">ZF-964</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>sh-3.1$ svn up
At revision 3599.
sh-3.1$ phpunit -d include_path=.:incubator/library/:library/:tests/:/opt/php/lib/php AllTests tests/AllTests.php
[....]</p>

<p>Time: 01:01</p>

<p>There were 2 failures:</p>

<p>1) testCreationDefaultFormat(Zend_DateTest)
Failed asserting that &lt;string:2006-01-01T00:00:00+05:00&gt; is identical to &lt;string:2005-11-30T00:00:00+05:00&gt;.
/home/sebastian/Work/ZendFramework/tests/Zend/DateTest.php:74</p>

<p>2) testCreationDefaultFormatConsistency(Zend_DateTest)
Failed asserting that </p><p></p>
    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-03-02T06:30:29.000+0000</p> 
        <div class="body">
            <p>As you resolved the old one, I need to reopen it this way. I gave you the information you requested. If this is the wrong information or you need more detailed information please tell me so.</p>

<p>The tests still fail with latest svn:</p>

<p>1) testCreationDefaultFormat(Zend_DateTest)
Failed asserting that &lt;string:2006-01-01T00:00:00+05:00&gt; is identical to &lt;string:2005-11-30T00:00:00+05:00&gt;.
/home/sebastian/Work/ZendFramework/tests/Zend/DateTest.php:73</p>

<p>2) testCreationDefaultFormatConsistency(Zend_DateTest)
Failed asserting that </p>
        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-03-02T06:31:33.000+0000</p> 
        <div class="body">
            <p>sh-3.1$ svn up
At revision 3689.</p>

<p>by the way.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-03-02T07:13:35.000+0000</p> 
        <div class="body">
            <p>I asked for the standard locale by 25.Feb...
I got no response... wether from you, from sebastian nor from gavin...</p>

<p>As I asked once per jira and two times per mail and got no response, so I closed the issue as "can not reproduce"...</p>

<p>I need "setlocale()"... the locale settings from the environment you are running the tests to reproduce the behaviour.</p>

<p>Without it I am not able to reproduce the failure...
I use Windows XP with Php 5.2.1 adn PHP5.1.4 and was not able to reproduce this issue.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-03-02T07:29:46.000+0000</p> 
        <div class="body">
            <p>$ locale
LANG=en_US
LC_CTYPE="en_US"
LC_NUMERIC="en_US"
LC_TIME="en_US"
LC_COLLATE="en_US"
LC_MONETARY="en_US"
LC_MESSAGES="en_US"
LC_PAPER="en_US"
LC_NAME="en_US"
LC_ADDRESS="en_US"
LC_TELEPHONE="en_US"
LC_MEASUREMENT="en_US"
LC_IDENTIFICATION="en_US"
LC_ALL=</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-03-02T12:08:15.000+0000</p> 
        <div class="body">
            <p>Thank you...</p>

<p>Even with the locale set I was not able to reproduce the problem...
I tested with several environments (windows, cygwin, with and without BCmath and with two different locales... and had never this problems.</p>

<p>I asked gavin to help me with reproduction... without a way to reproduce this I can not fix it :-(
This will need a few days.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Gavin (gavin) on 2007-03-02T13:57:57.000+0000</p> 
        <div class="body">
            <p>working on it ...</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Gavin (gavin) on 2007-03-02T14:32:02.000+0000</p> 
        <div class="body">
            <p>Patch committed.</p>

<p>Please test on your systems.</p>

<p>I show no failing unit tests for any of the i18n components.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Gavin (gavin) on 2007-03-02T15:11:23.000+0000</p> 
        <div class="body">
            <p>See FishEye link for changeset info.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-03-02T23:59:37.000+0000</p> 
        <div class="body">
            <p>Verification currently blocked by ZF-1010</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sebastian Nohn (nohn) on 2007-03-05T00:24:23.000+0000</p> 
        <div class="body">
            <p>Fix OK</p>

        </div>
    </div>
    </div>

