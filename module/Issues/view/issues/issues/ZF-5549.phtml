<h2>ZF-5549: Date objects not being sent with typed VOs</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-01-14T12:13:33.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-08-14T19:00:24.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Wade Arnold (wadearnold)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Amf</li>
            <li>zf-crteam-padraic</li>
            <li>zf-crteam-priority</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When sending over an array of database rows which have been turned into typed VOs, when they arrive back in the Flex environment they are not being converted into Date objects.</p>

<p>here is an example of what the array that is being sent looks like:</p>

<p>Array
(
    [0] =&gt; Array
        (
            [Prf] =&gt; PrfDTO Object
                (
                    [_explicitType] =&gt; com.gn.model.dtos.PrfDTO
                    [id] =&gt; 1
                    [name] =&gt; Test PRF 1
                    [io] =&gt; 45488366
                    [production_revenue] =&gt; 120
                    [io_total] =&gt; 250
                    [io_date] =&gt; DateTime Object
                        (
                        )</p>

<pre><code>                [division] =&gt; GN Kids
                [approval_date] =&gt; DateTime Object
                    (
                    )

                [approved_by] =&gt; Adam Duro
                [flight_date] =&gt; DateTime Object
                    (
                    )

                [account_exec] =&gt; Lance Wolder
                [vendor] =&gt; Motif
                [production_cost] =&gt; 120
                [contact_email] =&gt; adam.duro@gorillanation.com
                [cost_of_revenue] =&gt; 10
                [created_by] =&gt; Adam Duro
                [created] =&gt; DateTime Object
                    (
                    )

                [modified] =&gt; DateTime Object
                    (
                    )

                [dates:private] =&gt; Array
                    (
                        [0] =&gt; io_date
                        [1] =&gt; approval_date
                        [2] =&gt; flight_date
                        [3] =&gt; created
                        [4] =&gt; modified
                    )

            )

    )

[1] =&gt; Array
    (
        [Prf] =&gt; PrfDTO Object
            (
                [_explicitType] =&gt; com.gn.model.dtos.PrfDTO
                [id] =&gt; 2
                [name] =&gt; test PRF 2
                [io] =&gt; 46457777
                [production_revenue] =&gt; 190
                [io_total] =&gt; 456
                [io_date] =&gt; DateTime Object
                    (
                    )

                [division] =&gt; GN
                [approval_date] =&gt; DateTime Object
                    (
                    )

                [approved_by] =&gt; John Olmeda
                [flight_date] =&gt; DateTime Object
                    (
                    )

                [account_exec] =&gt; Andrew Fryer
                [vendor] =&gt; Pointroll
                [production_cost] =&gt; 670
                [contact_email] =&gt; john.olmeda@gorillanation.com
                [cost_of_revenue] =&gt; 40
                [created_by] =&gt; John Olmeda
                [created] =&gt; DateTime Object
                    (
                    )

                [modified] =&gt; DateTime Object
                    (
                    )

                [dates:private] =&gt; Array
                    (
                        [0] =&gt; io_date
                        [1] =&gt; approval_date
                        [2] =&gt; flight_date
                        [3] =&gt; created
                        [4] =&gt; modified
                    )

            )

    )
</code></pre>

<p>)</p>

<p>When this arrives in Flex, the VO is being properly converted to the typed Flex VO. The only issue is that the fields that have been converted to DateTime objects in PHP, are not being converted to Flex Date objects. They are simply showing up as various Number objects. The VO on the flex side does have those values data typed to Date.</p>

<p>When I send this same array back without converting the objects to VOs, but still convert the date fields to DateTime objects, they convert just fine on the Flex side. This issues only seems to appear when the DateTime objects are being sent over inside typed VO objects.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>
    <p class="comments">No comments to display</p>
    
</div>

