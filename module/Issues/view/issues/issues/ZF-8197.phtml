<h2>ZF-8197: Translated route semgents are urlized correctly but don't match</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-11-01T01:45:18.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-02-09T04:57:58.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Innocentus (innocentus)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ben Scholzen (dasprid)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Controller_Router</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-10418">ZF-10418</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The following data is used inside the application.ini for initializing a new route with a i18n-segment:
;; Impressum:
resources.router.routes.impressum.type = "Zend_Controller_Router_Route"
resources.router.routes.impressum.route = ":language/@route_Impressum"
resources.router.routes.impressum.defaults.module = "default"
resources.router.routes.impressum.defaults.controller = "docs"
resources.router.routes.impressum.defaults.action = "impressum"
resources.router.routes.impressum.defaults.language = "de"</p>

<p>The translation-adapter and -files are prepared and set up correctly.</p>

<p>The Zend_Navigation-component for example is successfull in creating the url from the given route (de/Impressum or /fr/mentions-legales or /en/impress)
- however following that url leads to a not-found-error (404).</p>

<p>But when I am requesting the url with translation-index instead (/de/route_Impressum or /fr/route_Impressum or /en/route_Impressum) the url will match and I get the requested page.</p>

<p>Summary:
[1] Defined a new route with a translated segment.
[2] Mapping the route to a Zend_Navigation-Entry
[3] Route is urlized correctly in Zend_Navigation
[4] Route doesn't match when followed. - Only the translation-index matches.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-11-06T21:52:23.000+0000</p> 
        <div class="body">
            <p>May be Zend_Navigation or Zend_Controller_Router_Route issue</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Kai Uwe (kaiuwe) on 2011-02-09T04:54:04.000+0000</p> 
        <div class="body">
            <p>{quote}The Zend_Navigation-component for example is successfull in creating the url from the given route
...
[3] Route is urlized correctly in Zend_Navigation
[4] Route doesn't match when followed. - Only the translation-index matches.{quote}</p>

<p>Why is it an error of Zend_Navigation? This makes no sense!</p>

        </div>
    </div>
    </div>

