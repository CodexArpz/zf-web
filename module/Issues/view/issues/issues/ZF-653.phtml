<h2>ZF-653: sub() always returns timestamp of object</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2006-12-14T23:20:15.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.7.0 (18/Jan/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Matthew Ratzloff (mratzloff)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Date</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I am trying to determine using Zend_Date if one date is earlier or later than another.  They are both valid dates (both display correctly when the object is printed).  However, the sub() method always returns the timestamp of the first object.</p>

<p>Maybe I'm doing something wrong, but I've tried many different ways.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2006-12-15T03:49:33.000+0000</p> 
        <div class="body">
            <p>It should work like</p>

<p>$date-&gt;sub($otherdate)</p>

<p>But as you may have recognised I am unit testing the whole date framework since several days.
sub() has not been approved by unit tests until now...</p>

<p>So it is possible that this function is bogus as it is not tested for now.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2006-12-19T12:39:23.000+0000</p> 
        <div class="body">
            <p>Assigning to Thomas.  Scheduling for 0.7.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2006-12-20T04:38:29.000+0000</p> 
        <div class="body">
            <p>sub() always returns the subed part of the date.</p>

<p>Example:</p>

<p>$date = new Zend_Date(3,Zend_Date::DAY); // day 3rd jan 1970
print "\nORIGINAL:".$date-&gt;get(Zend_Date::W3C); // 03.jan.1970
print "\nRETURN:".$date-&gt;sub(1,Zend_Date::DAY); // 1 day minus
// returns 2 because 2nd Jan 1970
print "\nAFTER:".$date-&gt;get(Zend_Date::W3C); // 01.jan.1970</p>

<p>So sub() always returnes the new part of the date that was subed. In our example DAY.</p>

        </div>
    </div>
    </div>

