<h2>ZF-7194: Zend_Dojo_Form needs to be rendered before echoing dojo() in viewscript</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Docs:  Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-07-05T04:53:41.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-01-27T23:57:46.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Max Gordon (mgordon)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I had to read through the code, search for requireModule before I realized that <em>echo $this-&gt;dojo()</em> cannot be called before calling the <em>$this-&gt;form-&gt;render()</em> if the correct dojo.require() are to appear in the header. I would appreciate if this was clearly stated in the docs. This is obvious once one thinks of it but not always by default see Stackoverflow <a href="http://stackoverflow.com/questions/3829609/zend-dojo-form-in-a-layout">question 1</a> and <a href="http://stackoverflow.com/questions/2869435/zend-dojo-form-not-rendering-in-layout">question 2</a>.</p>

<p>Currently in <a href="http://framework.zend.com/manual/en/zend.dojo.view.html">zend.dojo.view.html</a>:
{quote}
In our layout script, we'll then check to see if Dojo is 
enabled, and, if so, we'll do some more general 
configuration and assemble it:</p>

<p>...code...</p>

<p>At this point, you only need to ensure that your files 
are in the correct locations and that you've created the 
end point action for your FilteringSelect! 
{quote}</p>

<p>I suggest add before "At this point" a "Make sure that any widgets created in the the layout are created before the <em>echo $this-&gt;dojo()</em> or the required modules etc won't be able to properly load".</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Max Gordon (mgordon) on 2009-08-09T12:40:17.000+0000</p> 
        <div class="body">
            <p>Added a few suggestions to how the docs might be changed.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Max Gordon (mgordon) on 2011-01-27T23:57:45.000+0000</p> 
        <div class="body">
            <p>Changed to current docs</p>

        </div>
    </div>
    </div>

