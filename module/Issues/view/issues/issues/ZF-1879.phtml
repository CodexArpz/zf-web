<h2>ZF-1879: Check to see if DOM extension is available</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2007-08-26T03:10:06.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:52:35.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>If PHP was compiled with '--disable-dom', then various classes relied upon by the Zend_Gdata module will not exist and things will break. Right now, this manifests as a "Class 'DOMDocument' not found" error.</p>

<p>Rather than let this happen, a check should be made to see if the DOM extension is loaded, and if it isn't print a descriptive error message to help users understand the problem.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-08-26T11:00:55.000+0000</p> 
        <div class="body">
            <p>That's a fine idea, but for what it's worth DOM is usually enabled by default.  We have used the PHP binary distribution from php.net and Zend Core as our benchmarks for what extensions are built and enabled by default.  In both of those distros, DOM is enabled.  In such cases, our standard in the past is not to require checks for the extension.</p>

<p>This is mentioned in our [draft coding standards|
<a href="http://framework.zend.com/wiki/display/ZFDEV/PHP+Coding+Standard+%28draft%29#PHPCodingStandard%28draft%29-PHPExtensions">http://framework.zend.com/wiki/display/â€¦</a>].</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Trevor Johns (tjohns) on 2007-08-27T14:03:28.000+0000</p> 
        <div class="body">
            <p>I had previously thought that the DOM extension was safe too.</p>

<p>I just helped a user over at <a href="http://joyent.com">Joyent</a> with this issue. It turns out that they're rolling out a new setup that has many extensions installed but disabled by default for performance reasons. The list of affected extensions is <a href="http://wiki.joyent.com/shared:kb:php">posted here</a>. It's simple enough to re-enable an extension -- just modify the configuration in php.ini. However, the error message returned isn't very helpful in pointing users in that direction.</p>

<p>I'm not so sure going by what's in the binary distributions is the best policy, as I'm sure many hosting providers compile their own custom build.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2007-08-27T14:43:02.000+0000</p> 
        <div class="body">
            <p>Assigned to Ryan</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:52:35.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

