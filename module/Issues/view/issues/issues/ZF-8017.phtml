<h2>ZF-8017: Zend_Service_Twitter_Search should not extend Zend_Http_Client</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-10-05T06:14:14.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-10-16T08:53:34.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.10.0 (27/Jan/10)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                David Goodwin (davidgoodwin)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Jon Whitcraft (sidhighwind)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Service_Twitter</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12311/ZF-8017.patch">ZF-8017.patch</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Hi,</p>

<p>Currently Zend_Service_Twitter_Search extends Zend_Http_Client, this is bad because :</p>

<p>a) Zend_Service_Twitter_Search is NOT a Zend_Http_Client - it merely uses one (hence an architecture issue)</p>

<p>b) It does not make it possible for a mock Zend_Http_Client to be introduced to perform tests</p>

<p>c) It does not make it possible to use a subclass of Zend_Http_Client - which may have e.g. local site specific proxy / caching settings.</p>

<p>thanks
David.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2009-10-05T12:31:05.000+0000</p> 
        <div class="body">
            <p>Do you have any comment's on what it should extend use to get the data from Twitter?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by David Goodwin (davidgoodwin) on 2009-10-06T01:05:25.000+0000</p> 
        <div class="body">
            <p>Jon -</p>

<p>Why do you think it needs to extend anything to get data from Twitter?</p>

<p>Can't it just USE a http client? In much the same way as e.g. Zend_Service_Twitter, Zend_Service_Flickr and so on use e.g. the rest client.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2009-10-14T16:15:56.000+0000</p> 
        <div class="body">
            <p>David,</p>

<p>I agree with you. I'll have it extend the Zend_Rest_Client so it has have more control over it.</p>

<p>Jon</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2009-10-15T02:55:56.000+0000</p> 
        <div class="body">
            <p>Let me know if this patch works for you.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by David Goodwin (davidgoodwin) on 2009-10-15T04:11:14.000+0000</p> 
        <div class="body">
            <p>The patch would solve my issue with injection of a different http client; thanks.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Jon Whitcraft (sidhighwind) on 2009-10-16T06:48:28.000+0000</p> 
        <div class="body">
            <p>The patch was checked in to the trunk with r18573 and into the release branch with r18574.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-10-16T08:52:46.000+0000</p> 
        <div class="body">
            <p>Changing fix version to next minor release (1.10), as it was solved by changing the dependency from Zend_Http_Client to Zend_Rest_Client. (Adding or changing dependencies is not allowed in mini releases.)</p>

<p>r18574 has been reverted at this time.</p>

        </div>
    </div>
    </div>

