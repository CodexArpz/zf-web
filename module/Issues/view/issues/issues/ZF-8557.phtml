<h2>ZF-8557: Zend DB2 on I5 Metadata fails if using i5 Naming</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2009-12-16T09:15:26.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-11-20T20:52:55.000+0000</dd>

    <dt>Status:</dt>
    <dd>Closed</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Chris Beck (cbeck)
            </dd>

    <dt>Assignee:</dt>
    <dd>
        None
                    </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Adapter_Db2</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>If you are using DB2_I5_NAMING_ON on a i5 system and you do not hard code your metadata the describeTable function will fail as the hard coded SQL statement against QSYS2.SYSCOLUMNS, QSYS2.syskeycst and QSYS2.SYSCST contains invalid system sql. You need to replace the "." with a "/" in this scenario.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-12-16T14:08:00.000+0000</p> 
        <div class="body">
            <p>I think this issue should be categorized as improvement and trivial.
Because You might be able to use also non-DB2_I5_NAMING_ON when connection with DB2/400 driver.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Sean Egan (segan) on 2009-12-17T06:53:40.000+0000</p> 
        <div class="body">
            <p>It is possible to use DB2_I5_NAMING_OFF with the DB2/400 driver. However, without DB2_I5_NAMING_ON, the i5_libl driver option is not valid. i5 system applications rely heavily on using a library list.</p>

<p>Given the current situation, to run an application on an i5 using a library list with DB2_I5_NAMING_OFF, additional code must be written to do something like call a stored procedure that runs the ADDLIBLE command to add the required libraries to the library list. With DB2_I5_NAMING_ON, using i5_libl, you are currently required to hard code the metadata so the describeTable function doesn't fail using invalid i5 system SQL syntax.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2012-11-20T20:52:55.000+0000</p> 
        <div class="body">
            <p>Bulk change of all issues last updated before 1st January 2010 as "Won't Fix".</p>

<p>Feel free to re-open and provide a patch if you want to fix this issue.</p>

        </div>
    </div>
    </div>

