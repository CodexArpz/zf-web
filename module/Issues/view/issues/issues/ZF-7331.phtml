<h2>ZF-7331: dojo is not work  when i use it   in  one action  not  the defualt  indexAction() ,  the error: the dojo.js is nto defined!</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2009-07-20T20:44:02.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2009-11-19T12:04:57.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Dojo</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>dojo is not work  when i use it   in  one action  not  the defualt  indexAction() ,  the error: the dojo.js is nto defined!</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-07-21T04:08:48.000+0000</p> 
        <div class="body">
            <p>Right now, there is simply not enough information to diagnose the issue.</p>

<p>Are you calling setLocalPath()? If so, have you actually added Dojo to your document_root?</p>

<p>If you are using Dojo via the CDN, what version of Dojo are you specifying? and which CDN? and do you have internet connectivity when you test?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by yao junqiang (hack_yjq) on 2009-07-22T01:43:14.000+0000</p> 
        <div class="body">
            <p>first step, I make a dir named "js"  in the public directory, I copy the dojo library  in the  dir "js"
second step,  in the Bootstrap.php
protected function _initDoctype()
    {
        $this-&gt;bootstrap('view');
        $view = $this-&gt;getResource('view');
        $view-&gt;doctype('XHTML1_TRANSITIONAL');
        $view-&gt;addHelperPath('Zend/Dojo/View/Helper/', 'Zend_Dojo_View_Helper');
    }</p>

<p>3th step,  in the layout.phtml</p>

&lt;?php if ($this-&gt;dojo()-&gt;isEnabled()){
            $this-&gt;dojo()-&gt;setLocalPath('js/dojo/dojo.js')
                 -&gt;addStyleSheetModule('dijit.themes.tundra');
            echo $this-&gt;dojo();
        }
        ?&gt;

<p>forth step, A controler named   UserControler.php  , there is a loginAction()   ,in  the   login.phtml  view file,</p>

<p>&lt;?php
    $this-&gt;dojo()-&gt;enable()
             -&gt;setDjConfigOption('parseOnLoad', true)
             -&gt;setDjConfigOption('isDebug', true)
             -&gt;requireModule('dojo.io.script');
?&gt;
if i  request   ,    <a href="http://127.0.0.1/user/login">http://127.0.0.1/user/login</a>     , the problem will  come ,    " dojo.js  is not defined!"</p>

<p>why?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Max Gordon (mgordon) on 2009-08-09T12:52:13.000+0000</p> 
        <div class="body">
            <p>Have you tried adding a / to your dojo path?</p>

<pre class="highlight"><code>
$this-&gt;dojo-&gt;setLocalPath('/js/dojo/dojo.js');
</code></pre>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-11-19T12:04:57.000+0000</p> 
        <div class="body">
            <p>Reporter has not responded to last question in &gt; 3 months.</p>

        </div>
    </div>
    </div>

