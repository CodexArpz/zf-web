<h2>ZF-10998: getAuthSubTokenUri does not take or use the &quot;hd&quot; parameter.  This is useful for Google Apps users.</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2011-01-25T10:41:29.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2011-01-25T10:55:53.000+0000</dd>

    <dt>Status:</dt>
    <dd>In Progress</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Matthew Weier O'Phinney (matthew)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Gdata</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/13614/AuthSub.php">AuthSub.php</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>getAuthSubTokenUri should take the "hd" parameter which is used for Google apps users.  I have implemented a fix so users can log in through a SSO or the default Google login.</p>

<p>FILE:AuthSub.php</p>

<pre><code>  * @param string $hd (optional) the domain if your a Google Apps
  * user.

 public static function getAuthSubTokenUri($next, $scope, $secure=0, $session=0,
                                           $hd='default',
                                           $request_uri = self::AUTHSUB_REQUEST_URI)
 {
     $querystring = '?next=' . urlencode($next)
         . '&amp;scope=' . urldecode($scope)
         . '&amp;secure=' . urlencode($secure)
         . '&amp;session=' . urlencode($session)
         . '&amp;hd=' . urlencode($hd);
     return $request_uri . $querystring;
 }
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Cross (chmoder) on 2011-01-25T10:44:07.000+0000</p> 
        <div class="body">
            <p>Assigning to Matthew Weier O'Phinney for direction.  If I can help push this feature in let me know.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Cross (chmoder) on 2011-01-25T10:47:44.000+0000</p> 
        <div class="body">
            <p>Included source file for convenience.</p>

        </div>
    </div>
    </div>

