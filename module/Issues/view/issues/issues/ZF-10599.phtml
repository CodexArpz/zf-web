<h2>ZF-10599: Wrong limit statement when using db_select and paginator</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-10-26T02:58:54.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2012-05-30T12:58:36.000+0000</dd>

    <dt>Status:</dt>
    <dd>Open</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Andrey (whyte624)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Ralph Schindler (ralph)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Select</li>
            <li>Zend_Paginator</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-10659">ZF-10659</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>I have connection to MSSql.</p>

<p>Then I'm triing to create select for paginator select adapter from several other selects. 
$select = $db-&gt;select()-&gt;union($selects);
echo $select-&gt;__toString(); //looks fine, and executing in sql anager successfully</p>

<p>But when I use this select in paginator I have wrong rows. Because "select top 10" in query affects only on first select in unioned query.</p>

<p>Sorry for my english.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Ramlan Gustian (rampog) on 2010-10-27T01:10:14.000+0000</p> 
        <div class="body">
            <p>there is also bug in limitpage function for adapter sqlsrv</p>

<p>ex: if there are 3 records in table
if we use limitpage(2,2) return 2 records instead of 1 records</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Ramlan Gustian (rampog) on 2010-11-17T23:02:35.000+0000</p> 
        <div class="body">
            <p><a href="http://framework.zend.com/issues/browse/ZF-10659?page=com.atlassian.streams.streams-jira-plugin%3Aactivity-stream-issue-tab">http://framework.zend.com/issues/browse/â€¦</a></p>

<p>this is the solutions</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Andrey (whyte624) on 2010-11-18T01:01:35.000+0000</p> 
        <div class="body">
            <p>Thank you for this solution. But I think, this issue have to be fixed in ZF (Zend_Db_Select).</p>

        </div>
    </div>
    </div>

