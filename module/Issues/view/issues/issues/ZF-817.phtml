<h2>ZF-817: Zend_Db_Select::reset() method to clear internal data for object-reusage</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2007-01-29T00:11:16.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:42.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.8.0 (21/Feb/07)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Bill Karwin (bkarwin)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Db_Select</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-197">ZF-197</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Currently, there is no way to clear the internal data of a select object to start over for composing another SQL statement (re-use an existing select object) without over-writing the select object. It would be ideal to provide a reset() method to clear the internal data for a clean slate so the object could be re-used for composing more statements.</p>

<p>Thoughts...?</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Georg von der Howen (ghowen) on 2007-01-29T03:02:29.000+0000</p> 
        <div class="body">
            <p>I think this is similar to <a href="http://framework.zend.com/issues/browse/ZF-197">ZF-197</a>.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Shekar Reddy (zendfw) on 2007-01-29T04:48:51.000+0000</p> 
        <div class="body">
            <p>Yes. I wasn't aware of that issue.</p>

<p>In any case, I suggested some flexibility on that issue:</p>

<p><a href="http://framework.zend.com/issues/browse/ZF-197">http://framework.zend.com/issues/browse/ZF-197</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-01-29T11:29:44.000+0000</p> 
        <div class="body">
            <p>Do you mind if I resolve this bug as a duplicate of ZF-197?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Shekar Reddy (zendfw) on 2007-01-29T14:53:01.000+0000</p> 
        <div class="body">
            <p>Please see the revised code I submitted for the issue:</p>

<pre><code> &lt;a rel="nofollow" href="http://framework.zend.com/issues/browse/ZF-197"&gt;http://framework.zend.com/issues/browse/ZF-197&lt;/a&gt;
</code></pre>

<p>For some reason, I was not able to include the code tags for formatting the code. You would see the revision if you could fix the code tags in my comments. You may consider this issue 817 as a duplicate of 197 but please consider the revised code in 197.</p>

<p>I'm trying pasting the revised code here again with tags:</p>

<pre class="highlight"><code>
public function reset( $part = '' )
{
    // find part in private $_parts array
    if( ! $part )                // No part specified; reset entire parts array
        $this-&gt;_parts = array();
    elseif ( in_array($part, $this-&gt;_parts))    // reset specific part
        $this-&gt;_parts[$part] = null;
} 
</code></pre>

<p>Thanks,</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-01-29T15:51:43.000+0000</p> 
        <div class="body">
            <p>The way to format code in JIRA is to put the code tag above and below the code section.  Note that the ending tag does <em>not</em> have a slash in it, as we would expect from HTML and XML conventions.</p>

<p>I saw your code in ZF-197.  Do you mind if I close this issue as a duplicate of ZF-197?</p>

<p>We can accept suggestions from you, but not code patches unless you sign a Contributor License Agreeement.  See <a href="http://framework.zend.com/wiki/display/ZFPROP/Contributor+License+Agreement">http://framework.zend.com/wiki/display/â€¦</a></p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Shekar Reddy (zendfw) on 2007-01-30T08:40:34.000+0000</p> 
        <div class="body">
            <p>Please go ahead and close this issue as a duplicate.</p>

<p>Thanks,</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-02-07T22:34:14.000+0000</p> 
        <div class="body">
            <p>Marking as duplicate of ZF-197.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Bill Karwin (bkarwin) on 2007-02-07T22:34:31.000+0000</p> 
        <div class="body">
            <p>Resolving issue as duplicate.</p>

        </div>
    </div>
    </div>

