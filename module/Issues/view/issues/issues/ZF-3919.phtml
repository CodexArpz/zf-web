<h2>ZF-3919: testBasic(Zend_Validate_File_ExtensionTest) unit test failure.</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Unit Tests: Problem</dd>

    <dt>Created:</dt>
    <dd>2008-08-11T02:39:35.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-09-13T02:52:30.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.6.0 (02/Sep/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Validate_File</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Unite test failure output:</p>

<p>{panel}
1) testBasic(Zend_Validate_File_ExtensionTest)
Failed asserting that  matches expected value .
{panel}</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-08-11T02:58:28.000+0000</p> 
        <div class="body">
            <p>This was fixed with r10867 yesterday.
It just waits for your approvement for branch :-)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-08-11T03:30:37.000+0000</p> 
        <div class="body">
            <p>Ye-e-es!</p>

<p>Works OK now :)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-09-02T10:39:18.000+0000</p> 
        <div class="body">
            <p>Updating for the 1.6.0 release.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-09-11T12:37:45.000+0000</p> 
        <div class="body">
            <p>Problem appears again (r11367)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-09-11T12:39:27.000+0000</p> 
        <div class="body">
            <p>(tested with the release-1.6 branch)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-09-11T12:40:42.000+0000</p> 
        <div class="body">
            <p>[ZF-4258] is probably related to this issue</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-09-11T22:42:31.000+0000</p> 
        <div class="body">
            <p>I am getting no error in trunk.
And trunk has the same code as branch.</p>

<p>Can you verify this problem also for trunk ?
You assigned it to trunk but wrote in the comment branch...</p>

<p>When it's also in trunk then this seems to be a environment problem with isReadable or pathinfo and needs deeper investigation.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-09-12T04:07:35.000+0000</p> 
        <div class="body">
            <p>Yes, it also appears in trunk (as well, as [ZF-4258] issue):
{panel}
There were 2 failures:</p>

<p>1) testBasic(Zend_Validate_File_ExistsTest)
Failed asserting that  matches expected value .</p>

<p>2) testBasic(Zend_Validate_File_NotExistsTest)
Failed asserting that  matches expected value .
{panel}</p>

<p>trunk version also produces a set of errors:
{panel}
There were 6 errors:</p>

<p>1) testCanSetTranslator(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72</p>

<p>2) testCanSetTranslatorToNull(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72</p>

<p>3) testCanSetGlobalDefaultTranslator(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72</p>

<p>4) testGlobalDefaultTranslatorUsedWhenNoLocalTranslatorSet(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72</p>

<p>5) testGlobalTranslatorFromRegistryUsedWhenNoLocalTranslatorSet(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72</p>

<p>6) testLocalTranslatorPreferredOverGlobalTranslator(Zend_Validate_AbstractTest)
No translation for the language 'en' available.
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:313
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter.php:108
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate/Adapter/Array.php:47
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:95
/home/cawa/ZendFramework/svn/framework/trunk/library/Zend/Translate.php:72
{panel}</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2008-09-12T14:25:35.000+0000</p> 
        <div class="body">
            <p>These are 3 different things.
Please let us concentrate on the origin issue before doing the other which just means that the tests do not cover the triggered error on empty translation files.</p>

<p>So the general change is that extensions can now be case sensitive.
But wether the code, nor the testbed should be affected.
In my environment there is no problem wether in trunk nor in branch.</p>

<p>Can you evaluate for me at which line in the testbed the failure occurs ?
I'm missing the linenumber where the error occurs in the testbed.</p>

<p>Looking only at the ExistsTest should be enough for both tests as the second class is a nearly clone of it.</p>

<p>Thanks</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2008-09-13T02:52:30.000+0000</p> 
        <div class="body">
            <p>Problem is actualy  wrongly reopened.</p>

<p>The actual issue is registered as [ZF-4277]. See info there.</p>

        </div>
    </div>
    </div>

