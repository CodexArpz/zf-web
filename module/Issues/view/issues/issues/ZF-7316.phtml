<h2>ZF-7316: Cleaning all the code</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Coding Standards Violation</dd>

    <dt>Created:</dt>
    <dd>2009-07-20T02:53:32.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-12-08T23:43:00.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Acl</li>
            <li>Zend_Amf</li>
            <li>Zend_Application</li>
            <li>Zend_Auth</li>
            <li>Zend_Cache</li>
            <li>Zend_Captcha</li>
            <li>Zend_CodeGenerator</li>
            <li>Zend_Config</li>
            <li>Zend_Config_Writer</li>
            <li>Zend_Controller</li>
            <li>Zend_Db</li>
            <li>Zend_Db_Adapter_Db2</li>
            <li>Zend_Db_Adapter_Mysqli</li>
            <li>Zend_Db_Adapter_Oracle</li>
            <li>Zend_Db_Profiler</li>
            <li>Zend_Db_Select</li>
            <li>Zend_Db_Table</li>
            <li>Zend_Dojo</li>
            <li>Zend_Feed</li>
            <li>Zend_Feed_Reader</li>
            <li>Zend_File_Transfer</li>
            <li>Zend_Filter</li>
            <li>Zend_Filter_Inflector</li>
            <li>Zend_Filter_Input</li>
            <li>Zend_Form</li>
            <li>Zend_Gdata</li>
            <li>Zend_InfoCard</li>
            <li>Zend_Json</li>
            <li>Zend_Json_Server</li>
            <li>Zend_Layout</li>
            <li>Zend_Ldap</li>
            <li>Zend_Loader</li>
            <li>Zend_Log</li>
            <li>Zend_Mail</li>
            <li>Zend_Mail_Storage</li>
            <li>Zend_Paginator</li>
            <li>Zend_Pdf</li>
            <li>Zend_ProgressBar</li>
            <li>Zend_Reflection</li>
            <li>Zend_Search_Lucene</li>
            <li>Zend_Server_Reflection</li>
            <li>Zend_Service_Akismet</li>
            <li>Zend_Service_Amazon</li>
            <li>Zend_Service_Amazon_Ec2</li>
            <li>Zend_Service_Audioscrobbler</li>
            <li>Zend_Service_Delicious</li>
            <li>Zend_Service_Flickr</li>
            <li>Zend_Service_Nirvanix</li>
            <li>Zend_Service_Simpy</li>
            <li>Zend_Service_Technorati</li>
            <li>Zend_Service_Twitter</li>
            <li>Zend_Service_Yahoo</li>
            <li>Zend_Session</li>
            <li>Zend_Soap_Client</li>
            <li>Zend_Soap_Server</li>
            <li>Zend_Soap_Wsdl</li>
            <li>Zend_Tag</li>
            <li>Zend_Text_Figlet</li>
            <li>Zend_Text_Table</li>
            <li>Zend_Tool</li>
            <li>Zend_Uri</li>
            <li>Zend_Validate</li>
            <li>Zend_View</li>
            <li>Zend_Wildfire</li>
            <li>Zend_XmlRpc_Server</li>
            <li>ZendX_Console_Process_Unix</li>
            <li>ZendX_JQuery</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-10798">ZF-10798</a></li>
            <li><a href="/issues/browse/ZF-8085">ZF-8085</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
        <li><a href="/issues/secure/attachment/12132/ZF7316.ods">ZF7316.ods</a></li>
        </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Some files contain CRLF:</p>

<pre class="highlight"><code>
find . -name '*.php' -print0 | xargs -0 sed --regexp-extended --in-place 's/\r\n/\n/g'
</code></pre>

<p>Some files contain TABS:</p>

<pre class="highlight"><code>
find . -name '*.php' -print0 | xargs -0 sed --regexp-extended --in-place 's/\t/    /g'
</code></pre>

<p>Some files contain endline spaces:</p>

<pre class="highlight"><code>
find . -name '*.php' -print0 | xargs -0 sed --regexp-extended --in-place 's/[ ]*$//g'
</code></pre>

<p>By running this 3 commands on the top of standard directory. It could be applied to library and tests.</p>

<p>After that, a pre-commit hook could be added to test all of them (but it's another history ;) )</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by julien PAULI (doctorrock83) on 2009-07-20T09:59:25.000+0000</p> 
        <div class="body">
            <p>I agree : As time goes, ZF code gets worse and worse written.
Hang on : I'm actually not shouting at ZF or ZF contributors ;-), but that is just a point of view after having reviewed thousands of lines of codes for years now.</p>

<p>We can see sometimes public members in classes but they shouldn't be public, or protected ones but that don't start with an underscore. Lot of code is not PHPDocumented as well...</p>

<p>As some problems could break BC and should wait for 2.0 , the "tabs, spaces, and CRLF" problem can be patched safely ;-)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-08-06T05:47:22.000+0000</p> 
        <div class="body">
            <p>I make simple cross referrence by Open Office 3.1</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-08-07T03:45:37.000+0000</p> 
        <div class="body">
            <p>Update cross reference.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Satoru Yoshida (satoruyoshida) on 2009-08-07T21:01:59.000+0000</p> 
        <div class="body">
            <p>I have created children issues that class has CRLFs in their line ends.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-08-20T06:37:07.000+0000</p> 
        <div class="body">
            <p>Fixed all files in core:
CRLF -&gt; LF
TAB -&gt; 4 Spaces
No ending spaces</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Alexander Veremyev (alexander) on 2009-11-12T03:53:39.000+0000</p> 
        <div class="body">
            <p>Corresponding commits should be merged into release branch. I've just done it for Zend_Search_lucene (ZF-7530 subtask).</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2009-11-12T05:35:28.000+0000</p> 
        <div class="body">
            <p>For me it is impossible to know if a given change is allowed to be branched or not because trunk contains code for the next minor release.</p>

<p>Therefor this change was not branched.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Matthew Weier O'Phinney (matthew) on 2009-11-12T05:35:49.000+0000</p> 
        <div class="body">
            <p>Many of the changes made for this issue may conflict with changes previously merged to the release branch. As this is simply a minor correction and does not impact functionality, I'd prefer we <em>not</em> merge to the release branch and instead wait until the next minor release.</p>

<p>Closing.</p>

        </div>
    </div>
    </div>

