<h2>ZF-388: Instantiation Simplification</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Improvement</dd>

    <dt>Created:</dt>
    <dd>2006-09-19T17:09:37.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2007-07-05T14:43:21.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>0.2.0 (29/Oct/06)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Darby Felton (darby)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Config</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>Reduce the complexity of instantiation from:</p>

<pre class="highlight"><code>
require_once 'Zend/Config.php';
require_once 'Zend/Config/Ini.php';
$config = new Zend_Config(Zend_Config_Ini::load('/path/to/config.ini', 'staging'));
</code></pre>

<p>to:</p>

<pre class="highlight"><code>
require_once 'Zend/Config/Ini.php';
$config = new Zend_Config_Ini('/path/to/config.ini', 'staging');
</code></pre>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Rob Allen (rob) on 2006-09-20T11:21:20.000+0000</p> 
        <div class="body">
            <p>Your proposed syntax would probably require deriving Zend_Config_Ini from Zend_Config to get all the common iteration, counting, __get etc code.  During the original proposal process, it was decided that this was not desirable.</p>

<p>I would have thought that a syntax more like Zend_Db would be preferred for consistency?</p>

<p>i.e.</p>

<pre class="highlight"><code>
$config = Zend_Config::factory('ini', array('filename'=&gt;'/path/to/config.ini', 
                 'section'=&gt;'staging'));
</code></pre>

<p>would be more in line with Zend_Db's system.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2006-09-20T11:38:22.000+0000</p> 
        <div class="body">
            <p>Indeed, I left the approach you mention above to be considered as a separate issue, since the two approaches need not be mutually exclusive.</p>

<p>The factory approach remains <a href="http://framework.zend.com/wiki/x/hQw">here</a> for reference purposes; we may end up creating a JIRA issue for this, too.</p>

<p>I'll have some patches ready soon to help resolve this one; I want to coordinate with you on the development and nail down issues with respect to the next release. :)</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Darby Felton (darby) on 2006-09-28T12:05:24.000+0000</p> 
        <div class="body">
            <p>Fixed with SVN revision 1100</p>

        </div>
    </div>
    </div>

