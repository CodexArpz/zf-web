<h2>ZF-4077: Zend_Session_SaveHandler_DbTable Error when using Oracle</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2008-08-26T10:39:00.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2008-11-13T14:10:29.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul>        <li>1.7.0 (17/Nov/08)</li>
    </ul></dd>

    <dt>Reporter:</dt>
    <dd>
                Jonathan Crossett (crossett)
            </dd>

    <dt>Assignee:</dt>
    <dd>
                Mickael Perraud (mikaelkael)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Session</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
        <li><a href="/issues/browse/ZF-2825">ZF-2825</a></li>
        </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>When using Zend_Session_SaveHandler_DbTable I get the following errors:</p>

<p><b>Fatal error</b>:  Uncaught exception 'Zend_Session_Exception' with message 'Zend_Session::start() - /sites/example.com/www.example.com/application/library/Zend/Db/Adapter/Oracle.php(Line:193): Error #8 Undefined variable: alias Array
/sites/example.com/www.example.com/application/library/Zend/Db/Adapter/Oracle.php(Line:190): Error #2 Missing argument 2 for Zend_Db_Adapter_Oracle::quoteTableAs(), called in /sites/example.com/www.example.com/application/library/Zend/Db/Table/Abstract.php on line 998 and defined Array
/sites/example.com/www.example.com/application/library/Zend/Db/Adapter/Oracle.php(Line:193): Error #8 Undefined variable: alias Array' in /sites/example.com/<a href="www.example.com/application/library/Zend/Session.php:432">http://example.com/application/library/â€¦</a>
Stack trace:</p>

<h1>0 /sites/example.com/<a href="www.example.com/application/bootstrap.php(42)">www.example.com/application/bootstrap.php(42)</a>: Zend_Session::start()</h1>

<h1>1 /sites/example.com/<a href="www.example.com/htdocs/dev/index.php(2)">www.example.com/htdocs/dev/index.php(2)</a>: require('/sites/jetbowli...')</h1>

<h1>2 {main}</h1>

<p>thrown in <b>/sites/example.com/www.example.com/application/library/Zend/Session.php</b> on line <b>432</b><br /></p>

<p>This is how I am starting the session:
Zend_Db_Table_Abstract::setDefaultAdapter($db);
$config = array(
    'name'           =&gt; 'SESSIONS', 
    'primary'        =&gt; 'SES_SESSION_ID', 
    'modifiedColumn' =&gt; 'SES_MODIFIED',
    'lifetimeColumn' =&gt; 'SES_LIFETIME',
    'dataColumn'     =&gt; 'SES_DATA'
);</p>

<p>//set the save handler for Zend_Session
Zend_Session::setSaveHandler(new Zend_Session_SaveHandler_DbTable($config));</p>

<p>//start your session
Zend_Session::start();</p>

<p>I am using the "oracle" adapter to connect to the database.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Mickael Perraud (mikaelkael) on 2008-10-12T12:07:27.000+0000</p> 
        <div class="body">
            <p>Fixed in SVN11560 for Oracle and SVN9537 for Pdo_Oci</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Wil Sinclair (wil) on 2008-11-13T14:10:29.000+0000</p> 
        <div class="body">
            <p>Changing issues in preparation for the 1.7.0 release.</p>

        </div>
    </div>
    </div>

